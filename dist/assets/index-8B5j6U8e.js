var dN=Object.defineProperty;var pN=(n,e,t)=>e in n?dN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Xn=(n,e,t)=>pN(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var mV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var K0={exports:{}},Ld={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function mN(){if(Sb)return Ld;Sb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Ld.Fragment=e,Ld.jsx=t,Ld.jsxs=t,Ld}var xb;function gN(){return xb||(xb=1,K0.exports=mN()),K0.exports}var x=gN(),$0={exports:{}},sn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function yN(){if(Tb)return sn;Tb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),E=Symbol.iterator;function b(Z){return Z===null||typeof Z!="object"?null:(Z=E&&Z[E]||Z["@@iterator"],typeof Z=="function"?Z:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,U={};function V(Z,R,G){this.props=Z,this.context=R,this.refs=U,this.updater=G||j}V.prototype.isReactComponent={},V.prototype.setState=function(Z,R){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,R,"setState")},V.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function ee(){}ee.prototype=V.prototype;function Q(Z,R,G){this.props=Z,this.context=R,this.refs=U,this.updater=G||j}var ne=Q.prototype=new ee;ne.constructor=Q,M(ne,V.prototype),ne.isPureReactComponent=!0;var me=Array.isArray;function fe(){}var z={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function C(Z,R,G){var X=G.ref;return{$$typeof:n,type:Z,key:R,ref:X!==void 0?X:null,props:G}}function q(Z,R){return C(Z.type,R,Z.props)}function I(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function P(Z){var R={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(G){return R[G]})}var O=/\/+/g;function ue(Z,R){return typeof Z=="object"&&Z!==null&&Z.key!=null?P(""+Z.key):R.toString(36)}function Te(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(fe,fe):(Z.status="pending",Z.then(function(R){Z.status==="pending"&&(Z.status="fulfilled",Z.value=R)},function(R){Z.status==="pending"&&(Z.status="rejected",Z.reason=R)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function le(Z,R,G,X,ae){var ce=typeof Z;(ce==="undefined"||ce==="boolean")&&(Z=null);var ge=!1;if(Z===null)ge=!0;else switch(ce){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(Z.$$typeof){case n:case e:ge=!0;break;case g:return ge=Z._init,le(ge(Z._payload),R,G,X,ae)}}if(ge)return ae=ae(Z),ge=X===""?"."+ue(Z,0):X,me(ae)?(G="",ge!=null&&(G=ge.replace(O,"$&/")+"/"),le(ae,R,G,"",function(Me){return Me})):ae!=null&&(I(ae)&&(ae=q(ae,G+(ae.key==null||Z&&Z.key===ae.key?"":(""+ae.key).replace(O,"$&/")+"/")+ge)),R.push(ae)),1;ge=0;var Re=X===""?".":X+":";if(me(Z))for(var xe=0;xe<Z.length;xe++)X=Z[xe],ce=Re+ue(X,xe),ge+=le(X,R,G,ce,ae);else if(xe=b(Z),typeof xe=="function")for(Z=xe.call(Z),xe=0;!(X=Z.next()).done;)X=X.value,ce=Re+ue(X,xe++),ge+=le(X,R,G,ce,ae);else if(ce==="object"){if(typeof Z.then=="function")return le(Te(Z),R,G,X,ae);throw R=String(Z),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return ge}function oe(Z,R,G){if(Z==null)return Z;var X=[],ae=0;return le(Z,X,"","",function(ce){return R.call(G,ce,ae++)}),X}function de(Z){if(Z._status===-1){var R=Z._result;R=R(),R.then(function(G){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=G)},function(G){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=G)}),Z._status===-1&&(Z._status=0,Z._result=R)}if(Z._status===1)return Z._result.default;throw Z._result}var Ne=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},He={map:oe,forEach:function(Z,R,G){oe(Z,function(){R.apply(this,arguments)},G)},count:function(Z){var R=0;return oe(Z,function(){R++}),R},toArray:function(Z){return oe(Z,function(R){return R})||[]},only:function(Z){if(!I(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return sn.Activity=w,sn.Children=He,sn.Component=V,sn.Fragment=t,sn.Profiler=s,sn.PureComponent=Q,sn.StrictMode=i,sn.Suspense=f,sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,sn.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return z.H.useMemoCache(Z)}},sn.cache=function(Z){return function(){return Z.apply(null,arguments)}},sn.cacheSignal=function(){return null},sn.cloneElement=function(Z,R,G){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var X=M({},Z.props),ae=Z.key;if(R!=null)for(ce in R.key!==void 0&&(ae=""+R.key),R)!D.call(R,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&R.ref===void 0||(X[ce]=R[ce]);var ce=arguments.length-2;if(ce===1)X.children=G;else if(1<ce){for(var ge=Array(ce),Re=0;Re<ce;Re++)ge[Re]=arguments[Re+2];X.children=ge}return C(Z.type,ae,X)},sn.createContext=function(Z){return Z={$$typeof:u,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:o,_context:Z},Z},sn.createElement=function(Z,R,G){var X,ae={},ce=null;if(R!=null)for(X in R.key!==void 0&&(ce=""+R.key),R)D.call(R,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ae[X]=R[X]);var ge=arguments.length-2;if(ge===1)ae.children=G;else if(1<ge){for(var Re=Array(ge),xe=0;xe<ge;xe++)Re[xe]=arguments[xe+2];ae.children=Re}if(Z&&Z.defaultProps)for(X in ge=Z.defaultProps,ge)ae[X]===void 0&&(ae[X]=ge[X]);return C(Z,ce,ae)},sn.createRef=function(){return{current:null}},sn.forwardRef=function(Z){return{$$typeof:c,render:Z}},sn.isValidElement=I,sn.lazy=function(Z){return{$$typeof:g,_payload:{_status:-1,_result:Z},_init:de}},sn.memo=function(Z,R){return{$$typeof:d,type:Z,compare:R===void 0?null:R}},sn.startTransition=function(Z){var R=z.T,G={};z.T=G;try{var X=Z(),ae=z.S;ae!==null&&ae(G,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(fe,Ne)}catch(ce){Ne(ce)}finally{R!==null&&G.types!==null&&(R.types=G.types),z.T=R}},sn.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},sn.use=function(Z){return z.H.use(Z)},sn.useActionState=function(Z,R,G){return z.H.useActionState(Z,R,G)},sn.useCallback=function(Z,R){return z.H.useCallback(Z,R)},sn.useContext=function(Z){return z.H.useContext(Z)},sn.useDebugValue=function(){},sn.useDeferredValue=function(Z,R){return z.H.useDeferredValue(Z,R)},sn.useEffect=function(Z,R){return z.H.useEffect(Z,R)},sn.useEffectEvent=function(Z){return z.H.useEffectEvent(Z)},sn.useId=function(){return z.H.useId()},sn.useImperativeHandle=function(Z,R,G){return z.H.useImperativeHandle(Z,R,G)},sn.useInsertionEffect=function(Z,R){return z.H.useInsertionEffect(Z,R)},sn.useLayoutEffect=function(Z,R){return z.H.useLayoutEffect(Z,R)},sn.useMemo=function(Z,R){return z.H.useMemo(Z,R)},sn.useOptimistic=function(Z,R){return z.H.useOptimistic(Z,R)},sn.useReducer=function(Z,R,G){return z.H.useReducer(Z,R,G)},sn.useRef=function(Z){return z.H.useRef(Z)},sn.useState=function(Z){return z.H.useState(Z)},sn.useSyncExternalStore=function(Z,R,G){return z.H.useSyncExternalStore(Z,R,G)},sn.useTransition=function(){return z.H.useTransition()},sn.version="19.2.4",sn}var Nb;function By(){return Nb||(Nb=1,$0.exports=yN()),$0.exports}var Ae=By();const vN=h3(Ae);var Y0={exports:{}},kd={},W0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function _N(){return Ib||(Ib=1,(function(n){function e(le,oe){var de=le.length;le.push(oe);e:for(;0<de;){var Ne=de-1>>>1,He=le[Ne];if(0<s(He,oe))le[Ne]=oe,le[de]=He,de=Ne;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var oe=le[0],de=le.pop();if(de!==oe){le[0]=de;e:for(var Ne=0,He=le.length,Z=He>>>1;Ne<Z;){var R=2*(Ne+1)-1,G=le[R],X=R+1,ae=le[X];if(0>s(G,de))X<He&&0>s(ae,G)?(le[Ne]=ae,le[X]=de,Ne=X):(le[Ne]=G,le[R]=de,Ne=R);else if(X<He&&0>s(ae,de))le[Ne]=ae,le[X]=de,Ne=X;else break e}}return oe}function s(le,oe){var de=le.sortIndex-oe.sortIndex;return de!==0?de:le.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],g=1,w=null,E=3,b=!1,j=!1,M=!1,U=!1,V=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ne(le){for(var oe=t(d);oe!==null;){if(oe.callback===null)i(d);else if(oe.startTime<=le)i(d),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=t(d)}}function me(le){if(M=!1,ne(le),!j)if(t(f)!==null)j=!0,fe||(fe=!0,P());else{var oe=t(d);oe!==null&&Te(me,oe.startTime-le)}}var fe=!1,z=-1,D=5,C=-1;function q(){return U?!0:!(n.unstable_now()-C<D)}function I(){if(U=!1,fe){var le=n.unstable_now();C=le;var oe=!0;try{e:{j=!1,M&&(M=!1,ee(z),z=-1),b=!0;var de=E;try{t:{for(ne(le),w=t(f);w!==null&&!(w.expirationTime>le&&q());){var Ne=w.callback;if(typeof Ne=="function"){w.callback=null,E=w.priorityLevel;var He=Ne(w.expirationTime<=le);if(le=n.unstable_now(),typeof He=="function"){w.callback=He,ne(le),oe=!0;break t}w===t(f)&&i(f),ne(le)}else i(f);w=t(f)}if(w!==null)oe=!0;else{var Z=t(d);Z!==null&&Te(me,Z.startTime-le),oe=!1}}break e}finally{w=null,E=de,b=!1}oe=void 0}}finally{oe?P():fe=!1}}}var P;if(typeof Q=="function")P=function(){Q(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ue=O.port2;O.port1.onmessage=I,P=function(){ue.postMessage(null)}}else P=function(){V(I,0)};function Te(le,oe){z=V(function(){le(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(le){switch(E){case 1:case 2:case 3:var oe=3;break;default:oe=E}var de=E;E=oe;try{return le()}finally{E=de}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(le,oe){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var de=E;E=le;try{return oe()}finally{E=de}},n.unstable_scheduleCallback=function(le,oe,de){var Ne=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ne+de:Ne):de=Ne,le){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=de+He,le={id:g++,callback:oe,priorityLevel:le,startTime:de,expirationTime:He,sortIndex:-1},de>Ne?(le.sortIndex=de,e(d,le),t(f)===null&&le===t(d)&&(M?(ee(z),z=-1):M=!0,Te(me,de-Ne))):(le.sortIndex=He,e(f,le),j||b||(j=!0,fe||(fe=!0,P()))),le},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(le){var oe=E;return function(){var de=E;E=oe;try{return le.apply(this,arguments)}finally{E=de}}}})(Q0)),Q0}var Cb;function bN(){return Cb||(Cb=1,W0.exports=_N()),W0.exports}var X0={exports:{}},_s={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function wN(){if(Rb)return _s;Rb=1;var n=By();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return _s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_s.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},_s.flushSync=function(f){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=g,i.d.f()}},_s.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},_s.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},_s.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,w=c(g,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:b}):g==="script"&&i.d.X(f,{crossOrigin:w,integrity:E,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},_s.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},_s.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,w=c(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},_s.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},_s.requestFormReset=function(f){i.d.r(f)},_s.unstable_batchedUpdates=function(f,d){return f(d)},_s.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},_s.useFormStatus=function(){return u.H.useHostTransitionStatus()},_s.version="19.2.4",_s}var Lb;function AN(){if(Lb)return X0.exports;Lb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),X0.exports=wN(),X0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function EN(){if(kb)return kd;kb=1;var n=bN(),e=By(),t=AN();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function c(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(i(188))}function d(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,h=a;;){var y=l.return;if(y===null)break;var _=y.alternate;if(_===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===l)return f(y),r;if(_===h)return f(y),a;_=_.sibling}throw Error(i(188))}if(l.return!==h.return)l=y,h=_;else{for(var L=!1,$=y.child;$;){if($===l){L=!0,l=y,h=_;break}if($===h){L=!0,h=y,l=_;break}$=$.sibling}if(!L){for($=_.child;$;){if($===l){L=!0,l=_,h=y;break}if($===h){L=!0,h=_,l=y;break}$=$.sibling}if(!L)throw Error(i(189))}}if(l.alternate!==h)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var w=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function ue(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case V:return"Profiler";case U:return"StrictMode";case me:return"Suspense";case fe:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case j:return"Portal";case Q:return r.displayName||"Context";case ee:return(r._context.displayName||"Context")+".Consumer";case ne:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return a=r.displayName||null,a!==null?a:ue(r.type)||"Memo";case D:a=r._payload,r=r._init;try{return ue(r(a))}catch{}}return null}var Te=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ne=[],He=-1;function Z(r){return{current:r}}function R(r){0>He||(r.current=Ne[He],Ne[He]=null,He--)}function G(r,a){He++,Ne[He]=r.current,r.current=a}var X=Z(null),ae=Z(null),ce=Z(null),ge=Z(null);function Re(r,a){switch(G(ce,a),G(ae,r),G(X,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?$_(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=$_(a),r=Y_(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}R(X),G(X,r)}function xe(){R(X),R(ae),R(ce)}function Me(r){r.memoizedState!==null&&G(ge,r);var a=X.current,l=Y_(a,r.type);a!==l&&(G(ae,r),G(X,l))}function $e(r){ae.current===r&&(R(X),R(ae)),ge.current===r&&(R(ge),Nd._currentValue=de)}var et,rt;function ht(r){if(et===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);et=a&&a[1]||"",rt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+r+rt}var te=!1;function it(r,a){if(!r||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(je){var Oe=je}Reflect.construct(r,[],Ye)}else{try{Ye.call()}catch(je){Oe=je}r.call(Ye.prototype)}}else{try{throw Error()}catch(je){Oe=je}(Ye=r())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(je){if(je&&Oe&&typeof je.stack=="string")return[je.stack,Oe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),L=_[0],$=_[1];if(L&&$){var he=L.split(`
`),De=$.split(`
`);for(y=h=0;h<he.length&&!he[h].includes("DetermineComponentFrameRoot");)h++;for(;y<De.length&&!De[y].includes("DetermineComponentFrameRoot");)y++;if(h===he.length||y===De.length)for(h=he.length-1,y=De.length-1;1<=h&&0<=y&&he[h]!==De[y];)y--;for(;1<=h&&0<=y;h--,y--)if(he[h]!==De[y]){if(h!==1||y!==1)do if(h--,y--,0>y||he[h]!==De[y]){var Ue=`
`+he[h].replace(" at new "," at ");return r.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",r.displayName)),Ue}while(1<=h&&0<=y);break}}}finally{te=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?ht(l):""}function Wt(r,a){switch(r.tag){case 26:case 27:case 5:return ht(r.type);case 16:return ht("Lazy");case 13:return r.child!==a&&a!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return it(r.type,!1);case 11:return it(r.type.render,!1);case 1:return it(r.type,!0);case 31:return ht("Activity");default:return""}}function Ct(r){try{var a="",l=null;do a+=Wt(r,l),l=r,r=r.return;while(r);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ge=Object.prototype.hasOwnProperty,ot=n.unstable_scheduleCallback,at=n.unstable_cancelCallback,Lt=n.unstable_shouldYield,At=n.unstable_requestPaint,Qt=n.unstable_now,nn=n.unstable_getCurrentPriorityLevel,qt=n.unstable_ImmediatePriority,ln=n.unstable_UserBlockingPriority,Jt=n.unstable_NormalPriority,vt=n.unstable_LowPriority,Gt=n.unstable_IdlePriority,_t=n.log,mi=n.unstable_setDisableYieldValue,Zt=null,Rt=null;function Bt(r){if(typeof _t=="function"&&mi(r),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(Zt,r)}catch{}}var Xt=Math.clz32?Math.clz32:jt,xt=Math.log,Ln=Math.LN2;function jt(r){return r>>>=0,r===0?32:31-(xt(r)/Ln|0)|0}var Vt=256,Pn=262144,Et=4194304;function bt(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function un(r,a,l){var h=r.pendingLanes;if(h===0)return 0;var y=0,_=r.suspendedLanes,L=r.pingedLanes;r=r.warmLanes;var $=h&134217727;return $!==0?(h=$&~_,h!==0?y=bt(h):(L&=$,L!==0?y=bt(L):l||(l=$&~r,l!==0&&(y=bt(l))))):($=h&~_,$!==0?y=bt($):L!==0?y=bt(L):l||(l=h&~r,l!==0&&(y=bt(l)))),y===0?0:a!==0&&a!==y&&(a&_)===0&&(_=y&-y,l=a&-a,_>=l||_===32&&(l&4194048)!==0)?a:y}function vr(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function ar(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(){var r=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),r}function Xi(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Tt(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ca(r,a,l,h,y,_){var L=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var $=r.entanglements,he=r.expirationTimes,De=r.hiddenUpdates;for(l=L&~l;0<l;){var Ue=31-Xt(l),Ye=1<<Ue;$[Ue]=0,he[Ue]=-1;var Oe=De[Ue];if(Oe!==null)for(De[Ue]=null,Ue=0;Ue<Oe.length;Ue++){var je=Oe[Ue];je!==null&&(je.lane&=-536870913)}l&=~Ye}h!==0&&Qr(r,h,0),_!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=_&~(L&~a))}function Qr(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var h=31-Xt(a);r.entangledLanes|=a,r.entanglements[h]=r.entanglements[h]|1073741824|l&261930}function Dr(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var h=31-Xt(l),y=1<<h;y&a|r[h]&a&&(r[h]|=a),l&=~y}}function Pr(r,a){var l=a&-a;return l=(l&42)!==0?1:Hn(l),(l&(r.suspendedLanes|a))!==0?0:l}function Hn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ni(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Bi(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:yb(r.type))}function _r(r,a){var l=oe.p;try{return oe.p=r,a()}finally{oe.p=l}}var or=Math.random().toString(36).slice(2),On="__reactFiber$"+or,Kn="__reactProps$"+or,Ui="__reactContainer$"+or,Or="__reactEvents$"+or,fs="__reactListeners$"+or,La="__reactHandles$"+or,Is="__reactResources$"+or,Mr="__reactMarker$"+or;function ha(r){delete r[On],delete r[Kn],delete r[Or],delete r[fs],delete r[La]}function Xr(r){var a=r[On];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Ui]||l[On]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=tb(r);r!==null;){if(l=r[On])return l;r=tb(r)}return a}r=l,l=r.parentNode}return null}function br(r){if(r=r[On]||r[Ui]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function Jr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function ds(r){var a=r[Is];return a||(a=r[Is]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function yi(r){r[Mr]=!0}var Po=new Set,jr={};function ps(r,a){Cs(r,a),Cs(r+"Capture",a)}function Cs(r,a){for(jr[r]=a,r=0;r<a.length;r++)Po.add(a[r])}var to=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function yl(r){return Ge.call(Mo,r)?!0:Ge.call(Oo,r)?!1:to.test(r)?Mo[r]=!0:(Oo[r]=!0,!1)}function Zr(r,a,l){if(yl(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function lr(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function Ei(r,a,l,h){if(h===null)r.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+h)}}function dn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function fa(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ms(r,a,l){var h=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,_=h.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return y.call(this)},set:function(L){l=""+L,_.call(this,L)}}),Object.defineProperty(r,a,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(L){l=""+L},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function bn(r){if(!r._valueTracker){var a=fa(r)?"checked":"value";r._valueTracker=ms(r,a,""+r[a])}}function ka(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return r&&(h=fa(r)?r.checked?"true":"false":r.value),r=h,r!==l?(a.setValue(r),!0):!1}function Di(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ci=/[\n"\\]/g;function Si(r){return r.replace(ci,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function no(r,a,l,h,y,_,L,$){r.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?r.type=L:r.removeAttribute("type"),a!=null?L==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+dn(a)):r.value!==""+dn(a)&&(r.value=""+dn(a)):L!=="submit"&&L!=="reset"||r.removeAttribute("value"),a!=null?vl(r,L,dn(a)):l!=null?vl(r,L,dn(l)):h!=null&&r.removeAttribute("value"),y==null&&_!=null&&(r.defaultChecked=!!_),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?r.name=""+dn($):r.removeAttribute("name")}function su(r,a,l,h,y,_,L,$){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),a!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||a!=null)){bn(r);return}l=l!=null?""+dn(l):"",a=a!=null?""+dn(a):l,$||a===r.value||(r.value=a),r.defaultValue=a}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=$?r.checked:!!h,r.defaultChecked=!!h,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(r.name=L),bn(r)}function vl(r,a,l){a==="number"&&Di(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function wr(r,a,l,h){if(r=r.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=a.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&h&&(r[l].defaultSelected=!0)}else{for(l=""+dn(l),a=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}a!==null||r[y].disabled||(a=r[y])}a!==null&&(a.selected=!0)}}function _l(r,a,l){if(a!=null&&(a=""+dn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+dn(l):""}function da(r,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(i(92));if(Te(h)){if(1<h.length)throw Error(i(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=dn(a),r.defaultValue=l,h=r.textContent,h===l&&h!==""&&h!==null&&(r.value=h),bn(r)}function Ji(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Da=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(r,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":h?r.setProperty(a,l):typeof l!="number"||l===0||Da.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function wl(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var y in a)h=a[y],a.hasOwnProperty(y)&&l[y]!==h&&bl(r,y,h)}else for(var _ in a)a.hasOwnProperty(_)&&bl(r,_,a[_])}function jo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vr(r){return pa.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Rs(){}var ma=null;function Fr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Pa=null,kt=null;function io(r){var a=br(r);if(a&&(r=a.stateNode)){var l=r[Kn]||null;e:switch(r=a.stateNode,a.type){case"input":if(no(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Si(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==r&&h.form===r.form){var y=h[Kn]||null;if(!y)throw Error(i(90));no(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===r.form&&ka(h)}break e;case"textarea":_l(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&wr(r,!!l.multiple,a,!1)}}}var Fo=!1;function Oa(r,a,l){if(Fo)return r(a,l);Fo=!0;try{var h=r(a);return h}finally{if(Fo=!1,(Pa!==null||kt!==null)&&(hm(),Pa&&(a=Pa,r=kt,kt=Pa=null,io(a),r)))for(a=0;a<r.length;a++)io(r[a])}}function Zi(r,a){var l=r.stateNode;if(l===null)return null;var h=l[Kn]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ro=!1;if(zi)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){ro=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{ro=!1}var es=null,so=null,Ls=null;function Al(){if(Ls)return Ls;var r,a=so,l=a.length,h,y="value"in es?es.value:es.textContent,_=y.length;for(r=0;r<l&&a[r]===y[r];r++);var L=l-r;for(h=1;h<=L&&a[l-h]===y[_-h];h++);return Ls=y.slice(r,1<h?1-h:void 0)}function ts(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function ga(){return!0}function ns(){return!1}function Pi(r){function a(l,h,y,_,L){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=_,this.target=L,this.currentTarget=null;for(var $ in r)r.hasOwnProperty($)&&(l=r[$],this[$]=l?l(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ga:ns,this.isPropagationStopped=ns,this}return w(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),a}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=Pi(zs),qs=w({},zs,{view:0,detail:0}),Ma=Pi(qs),Hs,Gs,gs,ao=w({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gs&&(gs&&r.type==="mousemove"?(Hs=r.screenX-gs.screenX,Gs=r.screenY-gs.screenY):Gs=Hs=0,gs=r),Hs)},movementY:function(r){return"movementY"in r?r.movementY:Gs}}),Bo=Pi(ao),is=w({},ao,{dataTransfer:0}),Ks=Pi(is),El=w({},qs,{relatedTarget:0}),ks=Pi(El),Uo=w({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),A=Pi(Uo),F=w({},zs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),re=Pi(F),pe=w({},zs,{data:0}),be=Pi(pe),Be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pt(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=ct[r])?!!a[r]:!1}function Pt(){return pt}var Nt=w({},qs,{key:function(r){if(r.key){var a=Be[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ts(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qe[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pt,charCode:function(r){return r.type==="keypress"?ts(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ts(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mn=Pi(Nt),ii=w({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gn=Pi(ii),m=w({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pt}),T=Pi(m),k=w({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),W=Pi(k),Ee=w({},ao,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=Pi(Ee),Ze=w({},zs,{newState:0,oldState:0}),Ht=Pi(Ze),ri=[9,13,27,32],hn=zi&&"CompositionEvent"in window,jn=null;zi&&"documentMode"in document&&(jn=document.documentMode);var cr=zi&&"TextEvent"in window&&!jn,Ar=zi&&(!hn||jn&&8<jn&&11>=jn),$n=" ",Er=!1;function Ds(r,a){switch(r){case"keyup":return ri.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Va=!1;function rs(r,a){switch(r){case"compositionend":return ja(a);case"keypress":return a.which!==32?null:(Er=!0,$n);case"textInput":return r=a.data,r===$n&&Er?null:r;default:return null}}function oo(r,a){if(Va)return r==="compositionend"||!hn&&Ds(r,a)?(r=Al(),Ls=so=es=null,Va=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ar&&a.locale!=="ko"?null:a.data;default:return null}}var au={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hc(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!au[r.type]:a==="textarea"}function Ps(r,a,l,h){Pa?kt?kt.push(h):kt=[h]:Pa=h,a=vm(a,"onChange"),0<a.length&&(l=new ur("onChange","change",null,l,h),r.push({event:l,listeners:a}))}var ya=null,lo=null;function fc(r){U_(r,0)}function va(r){var a=Jr(r);if(ka(a))return r}function zo(r,a){if(r==="change")return a}var ys=!1;if(zi){var ss;if(zi){var Fa="oninput"in document;if(!Fa){var Ba=document.createElement("div");Ba.setAttribute("oninput","return;"),Fa=typeof Ba.oninput=="function"}ss=Fa}else ss=!1;ys=ss&&(!document.documentMode||9<document.documentMode)}function uo(){ya&&(ya.detachEvent("onpropertychange",ou),lo=ya=null)}function ou(r){if(r.propertyName==="value"&&va(lo)){var a=[];Ps(a,lo,r,Fr(r)),Oa(fc,a)}}function lu(r,a,l){r==="focusin"?(uo(),ya=a,lo=l,ya.attachEvent("onpropertychange",ou)):r==="focusout"&&uo()}function Oi(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return va(lo)}function fh(r,a){if(r==="click")return va(a)}function Ua(r,a){if(r==="input"||r==="change")return va(a)}function za(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Sr=typeof Object.is=="function"?Object.is:za;function co(r,a){if(Sr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!Ge.call(a,y)||!Sr(r[y],a[y]))return!1}return!0}function uu(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cu(r,a){var l=uu(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=a&&h>=a)return{node:l,offset:a-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=uu(l)}}function ho(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?ho(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function fo(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Di(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Di(r.document)}return a}function qa(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var Sl=zi&&"documentMode"in document&&11>=document.documentMode,Os=null,po=null,Br=null,$s=!1;function kn(r,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$s||Os==null||Os!==Di(h)||(h=Os,"selectionStart"in h&&qa(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Br&&co(Br,h)||(Br=h,h=vm(po,"onSelect"),0<h.length&&(a=new ur("onSelect","select",null,a,l),r.push({event:a,listeners:h}),a.target=Os)))}function xn(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var si={animationend:xn("Animation","AnimationEnd"),animationiteration:xn("Animation","AnimationIteration"),animationstart:xn("Animation","AnimationStart"),transitionrun:xn("Transition","TransitionRun"),transitionstart:xn("Transition","TransitionStart"),transitioncancel:xn("Transition","TransitionCancel"),transitionend:xn("Transition","TransitionEnd")},Mi={},Ha={};zi&&(Ha=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function _a(r){if(Mi[r])return Mi[r];if(!si[r])return r;var a=si[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in Ha)return Mi[r]=a[l];return r}var xl=_a("animationend"),dc=_a("animationiteration"),Qf=_a("animationstart"),Up=_a("transitionrun"),zp=_a("transitionstart"),qp=_a("transitioncancel"),Xf=_a("transitionend"),Jf=new Map,Tl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tl.push("scrollEnd");function Ys(r,a){Jf.set(r,a),ps(a,[r])}var pc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Ms=[],Nl=0,dh=0;function mc(){for(var r=Nl,a=dh=Nl=0;a<r;){var l=Ms[a];Ms[a++]=null;var h=Ms[a];Ms[a++]=null;var y=Ms[a];Ms[a++]=null;var _=Ms[a];if(Ms[a++]=null,h!==null&&y!==null){var L=h.pending;L===null?y.next=y:(y.next=L.next,L.next=y),h.pending=y}_!==0&&yc(l,y,_)}}function gc(r,a,l,h){Ms[Nl++]=r,Ms[Nl++]=a,Ms[Nl++]=l,Ms[Nl++]=h,dh|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function ph(r,a,l,h){return gc(r,a,l,h),Ur(r)}function mo(r,a){return gc(r,null,null,a),Ur(r)}function yc(r,a,l){r.lanes|=l;var h=r.alternate;h!==null&&(h.lanes|=l);for(var y=!1,_=r.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(y=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,y&&a!==null&&(y=31-Xt(l),r=_.hiddenUpdates,h=r[y],h===null?r[y]=[a]:h.push(a),a.lane=l|536870912),_):null}function Ur(r){if(50<bd)throw bd=0,g0=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var xr={};function mh(r,a,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(r,a,l,h){return new mh(r,a,l,h)}function gh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ws(r,a){var l=r.alternate;return l===null?(l=zr(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function vc(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function hu(r,a,l,h,y,_){var L=0;if(h=r,typeof r=="function")gh(r)&&(L=1);else if(typeof r=="string")L=tN(r,l,X.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=zr(31,l,a,y),r.elementType=C,r.lanes=_,r;case M:return qo(l.children,y,_,a);case U:L=8,y|=24;break;case V:return r=zr(12,l,a,y|2),r.elementType=V,r.lanes=_,r;case me:return r=zr(13,l,a,y),r.elementType=me,r.lanes=_,r;case fe:return r=zr(19,l,a,y),r.elementType=fe,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Q:L=10;break e;case ee:L=9;break e;case ne:L=11;break e;case z:L=14;break e;case D:L=16,h=null;break e}L=29,l=Error(i(130,r===null?"null":typeof r,"")),h=null}return a=zr(L,l,a,y),a.elementType=r,a.type=h,a.lanes=_,a}function qo(r,a,l,h){return r=zr(7,r,h,a),r.lanes=l,r}function _c(r,a,l){return r=zr(6,r,null,a),r.lanes=l,r}function yh(r){var a=zr(18,null,null,0);return a.stateNode=r,a}function fu(r,a,l){return a=zr(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var vh=new WeakMap;function Qs(r,a){if(typeof r=="object"&&r!==null){var l=vh.get(r);return l!==void 0?l:(a={value:r,source:a,stack:Ct(a)},vh.set(r,a),a)}return{value:r,source:a,stack:Ct(a)}}var du=[],Il=0,_h=null,bc=0,Xs=[],Js=0,Ho=null,Zs=1,ea="";function js(r,a){du[Il++]=bc,du[Il++]=_h,_h=r,bc=a}function Hp(r,a,l){Xs[Js++]=Zs,Xs[Js++]=ea,Xs[Js++]=Ho,Ho=r;var h=Zs;r=ea;var y=32-Xt(h)-1;h&=~(1<<y),l+=1;var _=32-Xt(a)+y;if(30<_){var L=y-y%5;_=(h&(1<<L)-1).toString(32),h>>=L,y-=L,Zs=1<<32-Xt(a)+y|l<<y|h,ea=_+r}else Zs=1<<_|l<<y|h,ea=r}function Zf(r){r.return!==null&&(js(r,1),Hp(r,1,0))}function bh(r){for(;r===_h;)_h=du[--Il],du[Il]=null,bc=du[--Il],du[Il]=null;for(;r===Ho;)Ho=Xs[--Js],Xs[Js]=null,ea=Xs[--Js],Xs[Js]=null,Zs=Xs[--Js],Xs[Js]=null}function Gp(r,a){Xs[Js++]=Zs,Xs[Js++]=ea,Xs[Js++]=Ho,Zs=a.id,ea=a.overflow,Ho=r}var Tr=null,hi=null,yn=!1,as=null,xi=!1,ba=Error(i(519));function Go(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pu(Qs(a,r)),ba}function ed(r){var a=r.stateNode,l=r.type,h=r.memoizedProps;switch(a[On]=r,a[Kn]=h,l){case"dialog":_n("cancel",a),_n("close",a);break;case"iframe":case"object":case"embed":_n("load",a);break;case"video":case"audio":for(l=0;l<Ad.length;l++)_n(Ad[l],a);break;case"source":_n("error",a);break;case"img":case"image":case"link":_n("error",a),_n("load",a);break;case"details":_n("toggle",a);break;case"input":_n("invalid",a),su(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":_n("invalid",a);break;case"textarea":_n("invalid",a),da(a,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||G_(a.textContent,l)?(h.popover!=null&&(_n("beforetoggle",a),_n("toggle",a)),h.onScroll!=null&&_n("scroll",a),h.onScrollEnd!=null&&_n("scrollend",a),h.onClick!=null&&(a.onclick=Rs),a=!0):a=!1,a||Go(r,!0)}function go(r){for(Tr=r.return;Tr;)switch(Tr.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Tr=Tr.return}}function Nr(r){if(r!==Tr)return!1;if(!yn)return go(r),yn=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||L0(r.type,r.memoizedProps)),l=!l),l&&hi&&Go(r),go(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));hi=eb(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));hi=eb(r)}else a===27?(a=hi,Iu(r.type)?(r=M0,M0=null,hi=r):hi=a):hi=Tr?Ya(r.stateNode.nextSibling):null;return!0}function Cl(){hi=Tr=null,yn=!1}function td(){var r=as;return r!==null&&(aa===null?aa=r:aa.push.apply(aa,r),as=null),r}function pu(r){as===null?as=[r]:as.push(r)}var wh=Z(null),Ko=null,Ga=null;function $o(r,a,l){G(wh,a._currentValue),a._currentValue=l}function ta(r){r._currentValue=wh.current,R(wh)}function mu(r,a,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),r===l)break;r=r.return}}function Rl(r,a,l,h){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var _=y.dependencies;if(_!==null){var L=y.child;_=_.firstContext;e:for(;_!==null;){var $=_;_=y;for(var he=0;he<a.length;he++)if($.context===a[he]){_.lanes|=l,$=_.alternate,$!==null&&($.lanes|=l),mu(_.return,l,r),h||(L=null);break e}_=$.next}}else if(y.tag===18){if(L=y.return,L===null)throw Error(i(341));L.lanes|=l,_=L.alternate,_!==null&&(_.lanes|=l),mu(L,l,r),L=null}else L=y.child;if(L!==null)L.return=y;else for(L=y;L!==null;){if(L===r){L=null;break}if(y=L.sibling,y!==null){y.return=L.return,L=y;break}L=L.return}y=L}}function Yo(r,a,l,h){r=null;for(var y=a,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var L=y.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var $=y.type;Sr(y.pendingProps.value,L.value)||(r!==null?r.push($):r=[$])}}else if(y===ge.current){if(L=y.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(Nd):r=[Nd])}y=y.return}r!==null&&Rl(a,r,l,h),a.flags|=262144}function Ah(r){for(r=r.firstContext;r!==null;){if(!Sr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Wo(r){Ko=r,Ga=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ir(r){return Kp(Ko,r)}function Eh(r,a){return Ko===null&&Wo(r),Kp(r,a)}function Kp(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ga===null){if(r===null)throw Error(i(308));Ga=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Ga=Ga.next=a;return l}var O1=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,h){r.push(h)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},M1=n.unstable_scheduleCallback,j1=n.unstable_NormalPriority,ji={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gu(){return{controller:new O1,data:new Map,refCount:0}}function wc(r){r.refCount--,r.refCount===0&&M1(j1,function(){r.controller.abort()})}var Ac=null,Sh=0,p=0,v=null;function S(r,a){if(Ac===null){var l=Ac=[];Sh=0,p=A0(),v={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Sh++,a.then(N,N),a}function N(){if(--Sh===0&&Ac!==null){v!==null&&(v.status="fulfilled");var r=Ac;Ac=null,p=0,v=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function B(r,a){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return r.then(function(){h.status="fulfilled",h.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var H=le.S;le.S=function(r,a){m_=Qt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&S(r,a),H!==null&&H(r,a)};var K=Z(null);function Y(){var r=K.current;return r!==null?r:di.pooledCache}function J(r,a){a===null?G(K,K.current):G(K,a.pool)}function se(){var r=Y();return r===null?null:{parent:ji._currentValue,pool:r}}var ye=Error(i(460)),Le=Error(i(474)),ie=Error(i(542)),_e={then:function(){}};function Se(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Fe(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(Rs,Rs),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Xe(r),r;default:if(typeof a.status=="string")a.then(Rs,Rs);else{if(r=di,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(h){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=h}},function(h){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Xe(r),r}throw Ve=a,ye}}function Ie(r){try{var a=r._init;return a(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ve=l,ye):l}}var Ve=null;function qe(){if(Ve===null)throw Error(i(459));var r=Ve;return Ve=null,r}function Xe(r){if(r===ye||r===ie)throw Error(i(483))}var We=null,mt=0;function lt(r){var a=mt;return mt+=1,We===null&&(We=[]),Fe(We,r,a)}function Kt(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function ft(r,a){throw a.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function gn(r){function a(we,ve){if(r){var ke=we.deletions;ke===null?(we.deletions=[ve],we.flags|=16):ke.push(ve)}}function l(we,ve){if(!r)return null;for(;ve!==null;)a(we,ve),ve=ve.sibling;return null}function h(we){for(var ve=new Map;we!==null;)we.key!==null?ve.set(we.key,we):ve.set(we.index,we),we=we.sibling;return ve}function y(we,ve){return we=Ws(we,ve),we.index=0,we.sibling=null,we}function _(we,ve,ke){return we.index=ke,r?(ke=we.alternate,ke!==null?(ke=ke.index,ke<ve?(we.flags|=67108866,ve):ke):(we.flags|=67108866,ve)):(we.flags|=1048576,ve)}function L(we){return r&&we.alternate===null&&(we.flags|=67108866),we}function $(we,ve,ke,Ke){return ve===null||ve.tag!==6?(ve=_c(ke,we.mode,Ke),ve.return=we,ve):(ve=y(ve,ke),ve.return=we,ve)}function he(we,ve,ke,Ke){var Mt=ke.type;return Mt===M?Ue(we,ve,ke.props.children,Ke,ke.key):ve!==null&&(ve.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===D&&Ie(Mt)===ve.type)?(ve=y(ve,ke.props),Kt(ve,ke),ve.return=we,ve):(ve=hu(ke.type,ke.key,ke.props,null,we.mode,Ke),Kt(ve,ke),ve.return=we,ve)}function De(we,ve,ke,Ke){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==ke.containerInfo||ve.stateNode.implementation!==ke.implementation?(ve=fu(ke,we.mode,Ke),ve.return=we,ve):(ve=y(ve,ke.children||[]),ve.return=we,ve)}function Ue(we,ve,ke,Ke,Mt){return ve===null||ve.tag!==7?(ve=qo(ke,we.mode,Ke,Mt),ve.return=we,ve):(ve=y(ve,ke),ve.return=we,ve)}function Ye(we,ve,ke){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=_c(""+ve,we.mode,ke),ve.return=we,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case b:return ke=hu(ve.type,ve.key,ve.props,null,we.mode,ke),Kt(ke,ve),ke.return=we,ke;case j:return ve=fu(ve,we.mode,ke),ve.return=we,ve;case D:return ve=Ie(ve),Ye(we,ve,ke)}if(Te(ve)||P(ve))return ve=qo(ve,we.mode,ke,null),ve.return=we,ve;if(typeof ve.then=="function")return Ye(we,lt(ve),ke);if(ve.$$typeof===Q)return Ye(we,Eh(we,ve),ke);ft(we,ve)}return null}function Oe(we,ve,ke,Ke){var Mt=ve!==null?ve.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return Mt!==null?null:$(we,ve,""+ke,Ke);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case b:return ke.key===Mt?he(we,ve,ke,Ke):null;case j:return ke.key===Mt?De(we,ve,ke,Ke):null;case D:return ke=Ie(ke),Oe(we,ve,ke,Ke)}if(Te(ke)||P(ke))return Mt!==null?null:Ue(we,ve,ke,Ke,null);if(typeof ke.then=="function")return Oe(we,ve,lt(ke),Ke);if(ke.$$typeof===Q)return Oe(we,ve,Eh(we,ke),Ke);ft(we,ke)}return null}function je(we,ve,ke,Ke,Mt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return we=we.get(ke)||null,$(ve,we,""+Ke,Mt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case b:return we=we.get(Ke.key===null?ke:Ke.key)||null,he(ve,we,Ke,Mt);case j:return we=we.get(Ke.key===null?ke:Ke.key)||null,De(ve,we,Ke,Mt);case D:return Ke=Ie(Ke),je(we,ve,ke,Ke,Mt)}if(Te(Ke)||P(Ke))return we=we.get(ke)||null,Ue(ve,we,Ke,Mt,null);if(typeof Ke.then=="function")return je(we,ve,ke,lt(Ke),Mt);if(Ke.$$typeof===Q)return je(we,ve,ke,Eh(ve,Ke),Mt);ft(ve,Ke)}return null}function dt(we,ve,ke,Ke){for(var Mt=null,Vn=null,wt=ve,cn=ve=0,An=null;wt!==null&&cn<ke.length;cn++){wt.index>cn?(An=wt,wt=null):An=wt.sibling;var Fn=Oe(we,wt,ke[cn],Ke);if(Fn===null){wt===null&&(wt=An);break}r&&wt&&Fn.alternate===null&&a(we,wt),ve=_(Fn,ve,cn),Vn===null?Mt=Fn:Vn.sibling=Fn,Vn=Fn,wt=An}if(cn===ke.length)return l(we,wt),yn&&js(we,cn),Mt;if(wt===null){for(;cn<ke.length;cn++)wt=Ye(we,ke[cn],Ke),wt!==null&&(ve=_(wt,ve,cn),Vn===null?Mt=wt:Vn.sibling=wt,Vn=wt);return yn&&js(we,cn),Mt}for(wt=h(wt);cn<ke.length;cn++)An=je(wt,we,cn,ke[cn],Ke),An!==null&&(r&&An.alternate!==null&&wt.delete(An.key===null?cn:An.key),ve=_(An,ve,cn),Vn===null?Mt=An:Vn.sibling=An,Vn=An);return r&&wt.forEach(function(Du){return a(we,Du)}),yn&&js(we,cn),Mt}function zt(we,ve,ke,Ke){if(ke==null)throw Error(i(151));for(var Mt=null,Vn=null,wt=ve,cn=ve=0,An=null,Fn=ke.next();wt!==null&&!Fn.done;cn++,Fn=ke.next()){wt.index>cn?(An=wt,wt=null):An=wt.sibling;var Du=Oe(we,wt,Fn.value,Ke);if(Du===null){wt===null&&(wt=An);break}r&&wt&&Du.alternate===null&&a(we,wt),ve=_(Du,ve,cn),Vn===null?Mt=Du:Vn.sibling=Du,Vn=Du,wt=An}if(Fn.done)return l(we,wt),yn&&js(we,cn),Mt;if(wt===null){for(;!Fn.done;cn++,Fn=ke.next())Fn=Ye(we,Fn.value,Ke),Fn!==null&&(ve=_(Fn,ve,cn),Vn===null?Mt=Fn:Vn.sibling=Fn,Vn=Fn);return yn&&js(we,cn),Mt}for(wt=h(wt);!Fn.done;cn++,Fn=ke.next())Fn=je(wt,we,cn,Fn.value,Ke),Fn!==null&&(r&&Fn.alternate!==null&&wt.delete(Fn.key===null?cn:Fn.key),ve=_(Fn,ve,cn),Vn===null?Mt=Fn:Vn.sibling=Fn,Vn=Fn);return r&&wt.forEach(function(fN){return a(we,fN)}),yn&&js(we,cn),Mt}function ui(we,ve,ke,Ke){if(typeof ke=="object"&&ke!==null&&ke.type===M&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case b:e:{for(var Mt=ke.key;ve!==null;){if(ve.key===Mt){if(Mt=ke.type,Mt===M){if(ve.tag===7){l(we,ve.sibling),Ke=y(ve,ke.props.children),Ke.return=we,we=Ke;break e}}else if(ve.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===D&&Ie(Mt)===ve.type){l(we,ve.sibling),Ke=y(ve,ke.props),Kt(Ke,ke),Ke.return=we,we=Ke;break e}l(we,ve);break}else a(we,ve);ve=ve.sibling}ke.type===M?(Ke=qo(ke.props.children,we.mode,Ke,ke.key),Ke.return=we,we=Ke):(Ke=hu(ke.type,ke.key,ke.props,null,we.mode,Ke),Kt(Ke,ke),Ke.return=we,we=Ke)}return L(we);case j:e:{for(Mt=ke.key;ve!==null;){if(ve.key===Mt)if(ve.tag===4&&ve.stateNode.containerInfo===ke.containerInfo&&ve.stateNode.implementation===ke.implementation){l(we,ve.sibling),Ke=y(ve,ke.children||[]),Ke.return=we,we=Ke;break e}else{l(we,ve);break}else a(we,ve);ve=ve.sibling}Ke=fu(ke,we.mode,Ke),Ke.return=we,we=Ke}return L(we);case D:return ke=Ie(ke),ui(we,ve,ke,Ke)}if(Te(ke))return dt(we,ve,ke,Ke);if(P(ke)){if(Mt=P(ke),typeof Mt!="function")throw Error(i(150));return ke=Mt.call(ke),zt(we,ve,ke,Ke)}if(typeof ke.then=="function")return ui(we,ve,lt(ke),Ke);if(ke.$$typeof===Q)return ui(we,ve,Eh(we,ke),Ke);ft(we,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,ve!==null&&ve.tag===6?(l(we,ve.sibling),Ke=y(ve,ke),Ke.return=we,we=Ke):(l(we,ve),Ke=_c(ke,we.mode,Ke),Ke.return=we,we=Ke),L(we)):l(we,ve)}return function(we,ve,ke,Ke){try{mt=0;var Mt=ui(we,ve,ke,Ke);return We=null,Mt}catch(wt){if(wt===ye||wt===ie)throw wt;var Vn=zr(29,wt,null,we.mode);return Vn.lanes=Ke,Vn.return=we,Vn}finally{}}}var fi=gn(!0),rn=gn(!1),ut=!1;function tt(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vi(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ut(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function on(r,a,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(zn&2)!==0){var y=h.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),h.pending=a,a=Ur(r),yc(r,null,l),a}return gc(r,h,a,l),Ur(r)}function Bn(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=r.pendingLanes,l|=h,a.lanes=l,Dr(r,l)}}function er(r,a){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var L={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?y=_=L:_=_.next=L,l=l.next}while(l!==null);_===null?y=_=a:_=_.next=a}else y=_=a;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Cr=!1;function ai(){if(Cr){var r=v;if(r!==null)throw r}}function qi(r,a,l,h){Cr=!1;var y=r.updateQueue;ut=!1;var _=y.firstBaseUpdate,L=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var he=$,De=he.next;he.next=null,L===null?_=De:L.next=De,L=he;var Ue=r.alternate;Ue!==null&&(Ue=Ue.updateQueue,$=Ue.lastBaseUpdate,$!==L&&($===null?Ue.firstBaseUpdate=De:$.next=De,Ue.lastBaseUpdate=he))}if(_!==null){var Ye=y.baseState;L=0,Ue=De=he=null,$=_;do{var Oe=$.lane&-536870913,je=Oe!==$.lane;if(je?(wn&Oe)===Oe:(h&Oe)===Oe){Oe!==0&&Oe===p&&(Cr=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var dt=r,zt=$;Oe=a;var ui=l;switch(zt.tag){case 1:if(dt=zt.payload,typeof dt=="function"){Ye=dt.call(ui,Ye,Oe);break e}Ye=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=zt.payload,Oe=typeof dt=="function"?dt.call(ui,Ye,Oe):dt,Oe==null)break e;Ye=w({},Ye,Oe);break e;case 2:ut=!0}}Oe=$.callback,Oe!==null&&(r.flags|=64,je&&(r.flags|=8192),je=y.callbacks,je===null?y.callbacks=[Oe]:je.push(Oe))}else je={lane:Oe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Ue===null?(De=Ue=je,he=Ye):Ue=Ue.next=je,L|=Oe;if($=$.next,$===null){if($=y.shared.pending,$===null)break;je=$,$=je.next,je.next=null,y.lastBaseUpdate=je,y.shared.pending=null}}while(!0);Ue===null&&(he=Ye),y.baseState=he,y.firstBaseUpdate=De,y.lastBaseUpdate=Ue,_===null&&(y.shared.lanes=0),Eu|=L,r.lanes=L,r.memoizedState=Ye}}function qr(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Hi(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)qr(l[r],a)}var fn=Z(null),Nn=Z(0);function _i(r,a){r=Bl,G(Nn,r),G(fn,a),Bl=r|a.baseLanes}function Dn(){G(Nn,Bl),G(fn,fn.current)}function tr(){Bl=Nn.current,R(fn),R(Nn)}var bi=Z(null),In=null;function Vi(r){var a=r.alternate;G(Tn,Tn.current&1),G(bi,r),In===null&&(a===null||fn.current!==null||a.memoizedState!==null)&&(In=r)}function Un(r){G(Tn,Tn.current),G(bi,r),In===null&&(In=r)}function Gi(r){r.tag===22?(G(Tn,Tn.current),G(bi,r),In===null&&(In=r)):Ki()}function Ki(){G(Tn,Tn.current),G(bi,bi.current)}function Yn(r){R(bi),In===r&&(In=null),R(Tn)}var Tn=Z(0);function Hr(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||P0(l)||O0(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ti=0,Dt=null,Ot=null,Cn=null,vs=!1,na=!1,os=!1,$i=0,Qo=0,Xo=null,xh=0;function oi(){throw Error(i(321))}function nd(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Sr(r[l],a[l]))return!1;return!0}function id(r,a,l,h,y,_){return Ti=_,Dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,le.H=r===null||r.memoizedState===null?T5:G1,os=!1,_=l(h,y),os=!1,na&&(_=yo(a,l,h,y)),Th(r),_}function Th(r){le.H=hd;var a=Ot!==null&&Ot.next!==null;if(Ti=0,Cn=Ot=Dt=null,vs=!1,Qo=0,Xo=null,a)throw Error(i(300));r===null||fr||(r=r.dependencies,r!==null&&Ah(r)&&(fr=!0))}function yo(r,a,l,h){Dt=r;var y=0;do{if(na&&(Xo=null),Qo=0,na=!1,25<=y)throw Error(i(301));if(y+=1,Cn=Ot=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}le.H=N5,_=a(l,h)}while(na);return _}function V1(){var r=le.H,a=r.useState()[0];return a=typeof a.then=="function"?Jo(a):a,r=r.useState()[0],(Ot!==null?Ot.memoizedState:null)!==r&&(Dt.flags|=1024),a}function rd(){var r=$i!==0;return $i=0,r}function sd(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Nh(r){if(vs){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}vs=!1}Ti=0,Cn=Ot=Dt=null,na=!1,Qo=$i=0,Xo=null}function hr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?Dt.memoizedState=Cn=r:Cn=Cn.next=r,Cn}function Ni(){if(Ot===null){var r=Dt.alternate;r=r!==null?r.memoizedState:null}else r=Ot.next;var a=Cn===null?Dt.memoizedState:Cn.next;if(a!==null)Cn=a,Ot=r;else{if(r===null)throw Dt.alternate===null?Error(i(467)):Error(i(310));Ot=r,r={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Cn===null?Dt.memoizedState=Cn=r:Cn=Cn.next=r}return Cn}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(r){var a=Qo;return Qo+=1,Xo===null&&(Xo=[]),r=Fe(Xo,r,a),a=Dt,(Cn===null?a.memoizedState:Cn.next)===null&&(a=a.alternate,le.H=a===null||a.memoizedState===null?T5:G1),r}function yu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Jo(r);if(r.$$typeof===Q)return Ir(r)}throw Error(i(438,String(r)))}function Ll(r){var a=null,l=Dt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=Dt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ec(),Dt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),h=0;h<r;h++)l[h]=q;return a.index++,l}function Ka(r,a){return typeof a=="function"?a(r):a}function Ih(r){var a=Ni();return vu(a,Ot,r)}function vu(r,a,l){var h=r.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=l;var y=r.baseQueue,_=h.pending;if(_!==null){if(y!==null){var L=y.next;y.next=_.next,_.next=L}a.baseQueue=y=_,h.pending=null}if(_=r.baseState,y===null)r.memoizedState=_;else{a=y.next;var $=L=null,he=null,De=a,Ue=!1;do{var Ye=De.lane&-536870913;if(Ye!==De.lane?(wn&Ye)===Ye:(Ti&Ye)===Ye){var Oe=De.revertLane;if(Oe===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Ye===p&&(Ue=!0);else if((Ti&Oe)===Oe){De=De.next,Oe===p&&(Ue=!0);continue}else Ye={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},he===null?($=he=Ye,L=_):he=he.next=Ye,Dt.lanes|=Oe,Eu|=Oe;Ye=De.action,os&&l(_,Ye),_=De.hasEagerState?De.eagerState:l(_,Ye)}else Oe={lane:Ye,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},he===null?($=he=Oe,L=_):he=he.next=Oe,Dt.lanes|=Ye,Eu|=Ye;De=De.next}while(De!==null&&De!==a);if(he===null?L=_:he.next=$,!Sr(_,r.memoizedState)&&(fr=!0,Ue&&(l=v,l!==null)))throw l;r.memoizedState=_,r.baseState=L,r.baseQueue=he,h.lastRenderedState=_}return y===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Ch(r){var a=Ni(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var h=l.dispatch,y=l.pending,_=a.memoizedState;if(y!==null){l.pending=null;var L=y=y.next;do _=r(_,L.action),L=L.next;while(L!==y);Sr(_,a.memoizedState)||(fr=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),l.lastRenderedState=_}return[_,h]}function Rh(r,a,l){var h=Dt,y=Ni(),_=yn;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=a();var L=!Sr((Ot||y).memoizedState,l);if(L&&(y.memoizedState=l,fr=!0),y=y.queue,F1(od.bind(null,h,y,r),[r]),y.getSnapshot!==a||L||Cn!==null&&Cn.memoizedState.tag&1){if(h.flags|=2048,Dl(9,{destroy:void 0},ad.bind(null,h,y,l,a),null),di===null)throw Error(i(349));_||(Ti&127)!==0||vo(h,a,l)}return l}function vo(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Dt.updateQueue,a===null?(a=Ec(),Dt.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function ad(r,a,l,h){a.value=l,a.getSnapshot=h,$p(a)&&ld(r)}function od(r,a,l){return l(function(){$p(a)&&ld(r)})}function $p(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Sr(r,l)}catch{return!0}}function ld(r){var a=mo(r,2);a!==null&&oa(a,r,2)}function Zo(r){var a=hr();if(typeof r=="function"){var l=r;if(r=l(),os){Bt(!0);try{l()}finally{Bt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:r},a}function Yp(r,a,l,h){return r.baseState=l,vu(r,Ot,typeof h=="function"?h:Ka)}function Wp(r,a,l,h,y){if(Zp(r))throw Error(i(485));if(r=a.action,r!==null){var _={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){_.listeners.push(L)}};le.T!==null?l(!0):_.isTransition=!1,h(_),l=a.pending,l===null?(_.next=a.pending=_,Qp(a,_)):(_.next=l.next,a.pending=l.next=_)}}function Qp(r,a){var l=a.action,h=a.payload,y=r.state;if(a.isTransition){var _=le.T,L={};le.T=L;try{var $=l(y,h),he=le.S;he!==null&&he(L,$),ud(r,a,$)}catch(De){kl(r,a,De)}finally{_!==null&&L.types!==null&&(_.types=L.types),le.T=_}}else try{_=l(y,h),ud(r,a,_)}catch(De){kl(r,a,De)}}function ud(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Xp(r,a,h)},function(h){return kl(r,a,h)}):Xp(r,a,l)}function Xp(r,a,l){a.status="fulfilled",a.value=l,Lh(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,Qp(r,l)))}function kl(r,a,l){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,Lh(a),a=a.next;while(a!==h)}r.action=null}function Lh(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Sc(r,a){return a}function $a(r,a){if(yn){var l=di.formState;if(l!==null){e:{var h=Dt;if(yn){if(hi){t:{for(var y=hi,_=xi;y.nodeType!==8;){if(!_){y=null;break t}if(y=Ya(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){hi=Ya(y.nextSibling),h=y.data==="F!";break e}}Go(h)}h=!1}h&&(a=l[0])}}return l=hr(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:a},l.queue=h,l=E5.bind(null,Dt,h),h.dispatch=l,h=Zo(!1),_=H1.bind(null,Dt,!1,h.queue),h=hr(),y={state:a,dispatch:null,action:r,pending:null},h.queue=y,l=Wp.bind(null,Dt,y,_,l),y.dispatch=l,h.memoizedState=r,[a,l,!1]}function _o(r){var a=Ni();return bo(a,Ot,r)}function bo(r,a,l){if(a=vu(r,a,Sc)[0],r=Ih(Ka)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Jo(a)}catch(L){throw L===ye?ie:L}else h=a;a=Ni();var y=a.queue,_=y.dispatch;return l!==a.memoizedState&&(Dt.flags|=2048,Dl(9,{destroy:void 0},kh.bind(null,y,l),null)),[h,_,r]}function kh(r,a){r.action=a}function Dh(r){var a=Ni(),l=Ot;if(l!==null)return bo(a,l,r);Ni(),a=a.memoizedState,l=Ni();var h=l.queue.dispatch;return l.memoizedState=r,[a,h,!1]}function Dl(r,a,l,h){return r={tag:r,create:l,deps:h,inst:a,next:null},a=Dt.updateQueue,a===null&&(a=Ec(),Dt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,a.lastEffect=r),r}function Jp(){return Ni().memoizedState}function _u(r,a,l,h){var y=hr();Dt.flags|=r,y.memoizedState=Dl(1|a,{destroy:void 0},l,h===void 0?null:h)}function bu(r,a,l,h){var y=Ni();h=h===void 0?null:h;var _=y.memoizedState.inst;Ot!==null&&h!==null&&nd(h,Ot.memoizedState.deps)?y.memoizedState=Dl(a,_,l,h):(Dt.flags|=r,y.memoizedState=Dl(1|a,_,l,h))}function u5(r,a){_u(8390656,8,r,a)}function F1(r,a){bu(2048,8,r,a)}function a6(r){Dt.flags|=4;var a=Dt.updateQueue;if(a===null)a=Ec(),Dt.updateQueue=a,a.events=[r];else{var l=a.events;l===null?a.events=[r]:l.push(r)}}function c5(r){var a=Ni().memoizedState;return a6({ref:a,nextImpl:r}),function(){if((zn&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function h5(r,a){return bu(4,2,r,a)}function f5(r,a){return bu(4,4,r,a)}function d5(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function p5(r,a,l){l=l!=null?l.concat([r]):null,bu(4,4,d5.bind(null,a,r),l)}function B1(){}function m5(r,a){var l=Ni();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&nd(a,h[1])?h[0]:(l.memoizedState=[r,a],r)}function g5(r,a){var l=Ni();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&nd(a,h[1]))return h[0];if(h=r(),os){Bt(!0);try{r()}finally{Bt(!1)}}return l.memoizedState=[h,a],h}function U1(r,a,l){return l===void 0||(Ti&1073741824)!==0&&(wn&261930)===0?r.memoizedState=a:(r.memoizedState=l,r=y_(),Dt.lanes|=r,Eu|=r,l)}function y5(r,a,l,h){return Sr(l,a)?l:fn.current!==null?(r=U1(r,l,h),Sr(r,a)||(fr=!0),r):(Ti&42)===0||(Ti&1073741824)!==0&&(wn&261930)===0?(fr=!0,r.memoizedState=l):(r=y_(),Dt.lanes|=r,Eu|=r,a)}function v5(r,a,l,h,y){var _=oe.p;oe.p=_!==0&&8>_?_:8;var L=le.T,$={};le.T=$,H1(r,!1,a,l);try{var he=y(),De=le.S;if(De!==null&&De($,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Ue=B(he,h);cd(r,a,Ue,Ea(r))}else cd(r,a,h,Ea(r))}catch(Ye){cd(r,a,{then:function(){},status:"rejected",reason:Ye},Ea())}finally{oe.p=_,L!==null&&$.types!==null&&(L.types=$.types),le.T=L}}function o6(){}function z1(r,a,l,h){if(r.tag!==5)throw Error(i(476));var y=_5(r).queue;v5(r,y,a,de,l===null?o6:function(){return b5(r),l(h)})}function _5(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:de},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function b5(r){var a=_5(r);a.next===null&&(a=r.alternate.memoizedState),cd(r,a.next.queue,{},Ea())}function q1(){return Ir(Nd)}function w5(){return Ni().memoizedState}function A5(){return Ni().memoizedState}function l6(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=Ea();r=Ut(l);var h=on(a,r,l);h!==null&&(oa(h,a,l),Bn(h,a,l)),a={cache:gu()},r.payload=a;return}a=a.return}}function u6(r,a,l){var h=Ea();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zp(r)?S5(a,l):(l=ph(r,a,l,h),l!==null&&(oa(l,r,h),x5(l,a,h)))}function E5(r,a,l){var h=Ea();cd(r,a,l,h)}function cd(r,a,l,h){var y={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zp(r))S5(a,y);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var L=a.lastRenderedState,$=_(L,l);if(y.hasEagerState=!0,y.eagerState=$,Sr($,L))return gc(r,a,y,0),di===null&&mc(),!1}catch{}finally{}if(l=ph(r,a,y,h),l!==null)return oa(l,r,h),x5(l,a,h),!0}return!1}function H1(r,a,l,h){if(h={lane:2,revertLane:A0(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Zp(r)){if(a)throw Error(i(479))}else a=ph(r,l,h,2),a!==null&&oa(a,r,2)}function Zp(r){var a=r.alternate;return r===Dt||a!==null&&a===Dt}function S5(r,a){na=vs=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function x5(r,a,l){if((l&4194048)!==0){var h=a.lanes;h&=r.pendingLanes,l|=h,a.lanes=l,Dr(r,l)}}var hd={readContext:Ir,use:yu,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useLayoutEffect:oi,useInsertionEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useSyncExternalStore:oi,useId:oi,useHostTransitionStatus:oi,useFormState:oi,useActionState:oi,useOptimistic:oi,useMemoCache:oi,useCacheRefresh:oi};hd.useEffectEvent=oi;var T5={readContext:Ir,use:yu,useCallback:function(r,a){return hr().memoizedState=[r,a===void 0?null:a],r},useContext:Ir,useEffect:u5,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,_u(4194308,4,d5.bind(null,a,r),l)},useLayoutEffect:function(r,a){return _u(4194308,4,r,a)},useInsertionEffect:function(r,a){_u(4,2,r,a)},useMemo:function(r,a){var l=hr();a=a===void 0?null:a;var h=r();if(os){Bt(!0);try{r()}finally{Bt(!1)}}return l.memoizedState=[h,a],h},useReducer:function(r,a,l){var h=hr();if(l!==void 0){var y=l(a);if(os){Bt(!0);try{l(a)}finally{Bt(!1)}}}else y=a;return h.memoizedState=h.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},h.queue=r,r=r.dispatch=u6.bind(null,Dt,r),[h.memoizedState,r]},useRef:function(r){var a=hr();return r={current:r},a.memoizedState=r},useState:function(r){r=Zo(r);var a=r.queue,l=E5.bind(null,Dt,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:B1,useDeferredValue:function(r,a){var l=hr();return U1(l,r,a)},useTransition:function(){var r=Zo(!1);return r=v5.bind(null,Dt,r.queue,!0,!1),hr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var h=Dt,y=hr();if(yn){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),di===null)throw Error(i(349));(wn&127)!==0||vo(h,a,l)}y.memoizedState=l;var _={value:l,getSnapshot:a};return y.queue=_,u5(od.bind(null,h,_,r),[r]),h.flags|=2048,Dl(9,{destroy:void 0},ad.bind(null,h,_,l,a),null),l},useId:function(){var r=hr(),a=di.identifierPrefix;if(yn){var l=ea,h=Zs;l=(h&~(1<<32-Xt(h)-1)).toString(32)+l,a="_"+a+"R_"+l,l=$i++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=xh++,a="_"+a+"r_"+l.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:q1,useFormState:$a,useActionState:$a,useOptimistic:function(r){var a=hr();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=H1.bind(null,Dt,!0,l),l.dispatch=a,[r,a]},useMemoCache:Ll,useCacheRefresh:function(){return hr().memoizedState=l6.bind(null,Dt)},useEffectEvent:function(r){var a=hr(),l={impl:r};return a.memoizedState=l,function(){if((zn&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},G1={readContext:Ir,use:yu,useCallback:m5,useContext:Ir,useEffect:F1,useImperativeHandle:p5,useInsertionEffect:h5,useLayoutEffect:f5,useMemo:g5,useReducer:Ih,useRef:Jp,useState:function(){return Ih(Ka)},useDebugValue:B1,useDeferredValue:function(r,a){var l=Ni();return y5(l,Ot.memoizedState,r,a)},useTransition:function(){var r=Ih(Ka)[0],a=Ni().memoizedState;return[typeof r=="boolean"?r:Jo(r),a]},useSyncExternalStore:Rh,useId:w5,useHostTransitionStatus:q1,useFormState:_o,useActionState:_o,useOptimistic:function(r,a){var l=Ni();return Yp(l,Ot,r,a)},useMemoCache:Ll,useCacheRefresh:A5};G1.useEffectEvent=c5;var N5={readContext:Ir,use:yu,useCallback:m5,useContext:Ir,useEffect:F1,useImperativeHandle:p5,useInsertionEffect:h5,useLayoutEffect:f5,useMemo:g5,useReducer:Ch,useRef:Jp,useState:function(){return Ch(Ka)},useDebugValue:B1,useDeferredValue:function(r,a){var l=Ni();return Ot===null?U1(l,r,a):y5(l,Ot.memoizedState,r,a)},useTransition:function(){var r=Ch(Ka)[0],a=Ni().memoizedState;return[typeof r=="boolean"?r:Jo(r),a]},useSyncExternalStore:Rh,useId:w5,useHostTransitionStatus:q1,useFormState:Dh,useActionState:Dh,useOptimistic:function(r,a){var l=Ni();return Ot!==null?Yp(l,Ot,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Ll,useCacheRefresh:A5};N5.useEffectEvent=c5;function K1(r,a,l,h){a=r.memoizedState,l=l(h,a),l=l==null?a:w({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var $1={enqueueSetState:function(r,a,l){r=r._reactInternals;var h=Ea(),y=Ut(h);y.payload=a,l!=null&&(y.callback=l),a=on(r,y,h),a!==null&&(oa(a,r,h),Bn(a,r,h))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var h=Ea(),y=Ut(h);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=on(r,y,h),a!==null&&(oa(a,r,h),Bn(a,r,h))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=Ea(),h=Ut(l);h.tag=2,a!=null&&(h.callback=a),a=on(r,h,l),a!==null&&(oa(a,r,l),Bn(a,r,l))}};function I5(r,a,l,h,y,_,L){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,_,L):a.prototype&&a.prototype.isPureReactComponent?!co(l,h)||!co(y,_):!0}function C5(r,a,l,h){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==r&&$1.enqueueReplaceState(a,a.state,null)}function xc(r,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(r=r.defaultProps){l===a&&(l=w({},l));for(var y in r)l[y]===void 0&&(l[y]=r[y])}return l}function R5(r){pc(r)}function L5(r){console.error(r)}function k5(r){pc(r)}function em(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function D5(r,a,l){try{var h=r.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Y1(r,a,l){return l=Ut(l),l.tag=3,l.payload={element:null},l.callback=function(){em(r,a)},l}function P5(r){return r=Ut(r),r.tag=3,r}function O5(r,a,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var _=h.value;r.payload=function(){return y(_)},r.callback=function(){D5(a,l,h)}}var L=l.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(r.callback=function(){D5(a,l,h),typeof y!="function"&&(Su===null?Su=new Set([this]):Su.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})})}function c6(r,a,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&Yo(a,l,y,!0),l=bi.current,l!==null){switch(l.tag){case 31:case 13:return In===null?fm():l.alternate===null&&Yi===0&&(Yi=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===_e?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),_0(r,h,y)),!1;case 22:return l.flags|=65536,h===_e?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),_0(r,h,y)),!1}throw Error(i(435,l.tag))}return _0(r,h,y),fm(),!1}if(yn)return a=bi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,h!==ba&&(r=Error(i(422),{cause:h}),pu(Qs(r,l)))):(h!==ba&&(a=Error(i(423),{cause:h}),pu(Qs(a,l))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,h=Qs(h,l),y=Y1(r.stateNode,h,y),er(r,y),Yi!==4&&(Yi=2)),!1;var _=Error(i(520),{cause:h});if(_=Qs(_,l),_d===null?_d=[_]:_d.push(_),Yi!==4&&(Yi=2),a===null)return!0;h=Qs(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=y&-y,l.lanes|=r,r=Y1(l.stateNode,h,r),er(l,r),!1;case 1:if(a=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Su===null||!Su.has(_))))return l.flags|=65536,y&=-y,l.lanes|=y,y=P5(y),O5(y,r,l,h),er(l,y),!1}l=l.return}while(l!==null);return!1}var W1=Error(i(461)),fr=!1;function ls(r,a,l,h){a.child=r===null?rn(a,null,l,h):fi(a,r.child,l,h)}function M5(r,a,l,h,y){l=l.render;var _=a.ref;if("ref"in h){var L={};for(var $ in h)$!=="ref"&&(L[$]=h[$])}else L=h;return Wo(a),h=id(r,a,l,L,_,y),$=rd(),r!==null&&!fr?(sd(r,a,y),Pl(r,a,y)):(yn&&$&&Zf(a),a.flags|=1,ls(r,a,h,y),a.child)}function j5(r,a,l,h,y){if(r===null){var _=l.type;return typeof _=="function"&&!gh(_)&&_.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=_,V5(r,a,_,h,y)):(r=hu(l.type,null,h,a,a.mode,y),r.ref=a.ref,r.return=a,a.child=r)}if(_=r.child,!i0(r,y)){var L=_.memoizedProps;if(l=l.compare,l=l!==null?l:co,l(L,h)&&r.ref===a.ref)return Pl(r,a,y)}return a.flags|=1,r=Ws(_,h),r.ref=a.ref,r.return=a,a.child=r}function V5(r,a,l,h,y){if(r!==null){var _=r.memoizedProps;if(co(_,h)&&r.ref===a.ref)if(fr=!1,a.pendingProps=h=_,i0(r,y))(r.flags&131072)!==0&&(fr=!0);else return a.lanes=r.lanes,Pl(r,a,y)}return Q1(r,a,l,h,y)}function F5(r,a,l,h){var y=h.children,_=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,r!==null){for(h=a.child=r.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~_}else h=0,a.child=null;return B5(r,a,_,l,h)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&J(a,_!==null?_.cachePool:null),_!==null?_i(a,_):Dn(),Gi(a);else return h=a.lanes=536870912,B5(r,a,_!==null?_.baseLanes|l:l,l,h)}else _!==null?(J(a,_.cachePool),_i(a,_),Ki(),a.memoizedState=null):(r!==null&&J(a,null),Dn(),Ki());return ls(r,a,y,l),a.child}function fd(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function B5(r,a,l,h,y){var _=Y();return _=_===null?null:{parent:ji._currentValue,pool:_},a.memoizedState={baseLanes:l,cachePool:_},r!==null&&J(a,null),Dn(),Gi(a),r!==null&&Yo(r,a,h,!0),a.childLanes=y,null}function tm(r,a){return a=im({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function U5(r,a,l){return fi(a,r.child,null,l),r=tm(a,a.pendingProps),r.flags|=2,Yn(a),a.memoizedState=null,r}function h6(r,a,l){var h=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(yn){if(h.mode==="hidden")return r=tm(a,h),a.lanes=536870912,fd(null,r);if(Un(a),(r=hi)?(r=Z_(r,xi),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Ho!==null?{id:Zs,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},l=yh(r),l.return=a,a.child=l,Tr=a,hi=null)):r=null,r===null)throw Go(a);return a.lanes=536870912,null}return tm(a,h)}var _=r.memoizedState;if(_!==null){var L=_.dehydrated;if(Un(a),y)if(a.flags&256)a.flags&=-257,a=U5(r,a,l);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(fr||Yo(r,a,l,!1),y=(l&r.childLanes)!==0,fr||y){if(h=di,h!==null&&(L=Pr(h,l),L!==0&&L!==_.retryLane))throw _.retryLane=L,mo(r,L),oa(h,r,L),W1;fm(),a=U5(r,a,l)}else r=_.treeContext,hi=Ya(L.nextSibling),Tr=a,yn=!0,as=null,xi=!1,r!==null&&Gp(a,r),a=tm(a,h),a.flags|=4096;return a}return r=Ws(r.child,{mode:h.mode,children:h.children}),r.ref=a.ref,a.child=r,r.return=a,r}function nm(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Q1(r,a,l,h,y){return Wo(a),l=id(r,a,l,h,void 0,y),h=rd(),r!==null&&!fr?(sd(r,a,y),Pl(r,a,y)):(yn&&h&&Zf(a),a.flags|=1,ls(r,a,l,y),a.child)}function z5(r,a,l,h,y,_){return Wo(a),a.updateQueue=null,l=yo(a,h,l,y),Th(r),h=rd(),r!==null&&!fr?(sd(r,a,_),Pl(r,a,_)):(yn&&h&&Zf(a),a.flags|=1,ls(r,a,l,_),a.child)}function q5(r,a,l,h,y){if(Wo(a),a.stateNode===null){var _=xr,L=l.contextType;typeof L=="object"&&L!==null&&(_=Ir(L)),_=new l(h,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=$1,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=h,_.state=a.memoizedState,_.refs={},tt(a),L=l.contextType,_.context=typeof L=="object"&&L!==null?Ir(L):xr,_.state=a.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(K1(a,l,L,h),_.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(L=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),L!==_.state&&$1.enqueueReplaceState(_,_.state,null),qi(a,h,_,y),ai(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(r===null){_=a.stateNode;var $=a.memoizedProps,he=xc(l,$);_.props=he;var De=_.context,Ue=l.contextType;L=xr,typeof Ue=="object"&&Ue!==null&&(L=Ir(Ue));var Ye=l.getDerivedStateFromProps;Ue=typeof Ye=="function"||typeof _.getSnapshotBeforeUpdate=="function",$=a.pendingProps!==$,Ue||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($||De!==L)&&C5(a,_,h,L),ut=!1;var Oe=a.memoizedState;_.state=Oe,qi(a,h,_,y),ai(),De=a.memoizedState,$||Oe!==De||ut?(typeof Ye=="function"&&(K1(a,l,Ye,h),De=a.memoizedState),(he=ut||I5(a,l,he,h,Oe,De,L))?(Ue||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=De),_.props=h,_.state=De,_.context=L,h=he):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{_=a.stateNode,vi(r,a),L=a.memoizedProps,Ue=xc(l,L),_.props=Ue,Ye=a.pendingProps,Oe=_.context,De=l.contextType,he=xr,typeof De=="object"&&De!==null&&(he=Ir(De)),$=l.getDerivedStateFromProps,(De=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L!==Ye||Oe!==he)&&C5(a,_,h,he),ut=!1,Oe=a.memoizedState,_.state=Oe,qi(a,h,_,y),ai();var je=a.memoizedState;L!==Ye||Oe!==je||ut||r!==null&&r.dependencies!==null&&Ah(r.dependencies)?(typeof $=="function"&&(K1(a,l,$,h),je=a.memoizedState),(Ue=ut||I5(a,l,Ue,h,Oe,je,he)||r!==null&&r.dependencies!==null&&Ah(r.dependencies))?(De||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,je,he),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,je,he)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||L===r.memoizedProps&&Oe===r.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&Oe===r.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=je),_.props=h,_.state=je,_.context=he,h=Ue):(typeof _.componentDidUpdate!="function"||L===r.memoizedProps&&Oe===r.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&Oe===r.memoizedState||(a.flags|=1024),h=!1)}return _=h,nm(r,a),h=(a.flags&128)!==0,_||h?(_=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,r!==null&&h?(a.child=fi(a,r.child,null,y),a.child=fi(a,null,l,y)):ls(r,a,l,y),a.memoizedState=_.state,r=a.child):r=Pl(r,a,y),r}function H5(r,a,l,h){return Cl(),a.flags|=256,ls(r,a,l,h),a.child}var X1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function J1(r){return{baseLanes:r,cachePool:se()}}function Z1(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=Aa),r}function G5(r,a,l){var h=a.pendingProps,y=!1,_=(a.flags&128)!==0,L;if((L=_)||(L=r!==null&&r.memoizedState===null?!1:(Tn.current&2)!==0),L&&(y=!0,a.flags&=-129),L=(a.flags&32)!==0,a.flags&=-33,r===null){if(yn){if(y?Vi(a):Ki(),(r=hi)?(r=Z_(r,xi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Ho!==null?{id:Zs,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},l=yh(r),l.return=a,a.child=l,Tr=a,hi=null)):r=null,r===null)throw Go(a);return O0(r)?a.lanes=32:a.lanes=536870912,null}var $=h.children;return h=h.fallback,y?(Ki(),y=a.mode,$=im({mode:"hidden",children:$},y),h=qo(h,y,l,null),$.return=a,h.return=a,$.sibling=h,a.child=$,h=a.child,h.memoizedState=J1(l),h.childLanes=Z1(r,L,l),a.memoizedState=X1,fd(null,h)):(Vi(a),e0(a,$))}var he=r.memoizedState;if(he!==null&&($=he.dehydrated,$!==null)){if(_)a.flags&256?(Vi(a),a.flags&=-257,a=t0(r,a,l)):a.memoizedState!==null?(Ki(),a.child=r.child,a.flags|=128,a=null):(Ki(),$=h.fallback,y=a.mode,h=im({mode:"visible",children:h.children},y),$=qo($,y,l,null),$.flags|=2,h.return=a,$.return=a,h.sibling=$,a.child=h,fi(a,r.child,null,l),h=a.child,h.memoizedState=J1(l),h.childLanes=Z1(r,L,l),a.memoizedState=X1,a=fd(null,h));else if(Vi(a),O0($)){if(L=$.nextSibling&&$.nextSibling.dataset,L)var De=L.dgst;L=De,h=Error(i(419)),h.stack="",h.digest=L,pu({value:h,source:null,stack:null}),a=t0(r,a,l)}else if(fr||Yo(r,a,l,!1),L=(l&r.childLanes)!==0,fr||L){if(L=di,L!==null&&(h=Pr(L,l),h!==0&&h!==he.retryLane))throw he.retryLane=h,mo(r,h),oa(L,r,h),W1;P0($)||fm(),a=t0(r,a,l)}else P0($)?(a.flags|=192,a.child=r.child,a=null):(r=he.treeContext,hi=Ya($.nextSibling),Tr=a,yn=!0,as=null,xi=!1,r!==null&&Gp(a,r),a=e0(a,h.children),a.flags|=4096);return a}return y?(Ki(),$=h.fallback,y=a.mode,he=r.child,De=he.sibling,h=Ws(he,{mode:"hidden",children:h.children}),h.subtreeFlags=he.subtreeFlags&65011712,De!==null?$=Ws(De,$):($=qo($,y,l,null),$.flags|=2),$.return=a,h.return=a,h.sibling=$,a.child=h,fd(null,h),h=a.child,$=r.child.memoizedState,$===null?$=J1(l):(y=$.cachePool,y!==null?(he=ji._currentValue,y=y.parent!==he?{parent:he,pool:he}:y):y=se(),$={baseLanes:$.baseLanes|l,cachePool:y}),h.memoizedState=$,h.childLanes=Z1(r,L,l),a.memoizedState=X1,fd(r.child,h)):(Vi(a),l=r.child,r=l.sibling,l=Ws(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,r!==null&&(L=a.deletions,L===null?(a.deletions=[r],a.flags|=16):L.push(r)),a.child=l,a.memoizedState=null,l)}function e0(r,a){return a=im({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function im(r,a){return r=zr(22,r,null,a),r.lanes=0,r}function t0(r,a,l){return fi(a,r.child,null,l),r=e0(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function K5(r,a,l){r.lanes|=a;var h=r.alternate;h!==null&&(h.lanes|=a),mu(r.return,a,l)}function n0(r,a,l,h,y,_){var L=r.memoizedState;L===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y,treeForkCount:_}:(L.isBackwards=a,L.rendering=null,L.renderingStartTime=0,L.last=h,L.tail=l,L.tailMode=y,L.treeForkCount=_)}function $5(r,a,l){var h=a.pendingProps,y=h.revealOrder,_=h.tail;h=h.children;var L=Tn.current,$=(L&2)!==0;if($?(L=L&1|2,a.flags|=128):L&=1,G(Tn,L),ls(r,a,h,l),h=yn?bc:0,!$&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&K5(r,l,a);else if(r.tag===19)K5(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(y){case"forwards":for(l=a.child,y=null;l!==null;)r=l.alternate,r!==null&&Hr(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),n0(a,!1,y,l,_,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(r=y.alternate,r!==null&&Hr(r)===null){a.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}n0(a,!0,l,null,_,h);break;case"together":n0(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Pl(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),Eu|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(Yo(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=Ws(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Ws(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function i0(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Ah(r)))}function f6(r,a,l){switch(a.tag){case 3:Re(a,a.stateNode.containerInfo),$o(a,ji,r.memoizedState.cache),Cl();break;case 27:case 5:Me(a);break;case 4:Re(a,a.stateNode.containerInfo);break;case 10:$o(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Un(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Vi(a),a.flags|=128,null):(l&a.child.childLanes)!==0?G5(r,a,l):(Vi(a),r=Pl(r,a,l),r!==null?r.sibling:null);Vi(a);break;case 19:var y=(r.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(Yo(r,a,l,!1),h=(l&a.childLanes)!==0),y){if(h)return $5(r,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),G(Tn,Tn.current),h)break;return null;case 22:return a.lanes=0,F5(r,a,l,a.pendingProps);case 24:$o(a,ji,r.memoizedState.cache)}return Pl(r,a,l)}function Y5(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)fr=!0;else{if(!i0(r,l)&&(a.flags&128)===0)return fr=!1,f6(r,a,l);fr=(r.flags&131072)!==0}else fr=!1,yn&&(a.flags&1048576)!==0&&Hp(a,bc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(r=Ie(a.elementType),a.type=r,typeof r=="function")gh(r)?(h=xc(r,h),a.tag=1,a=q5(null,a,r,h,l)):(a.tag=0,a=Q1(null,a,r,h,l));else{if(r!=null){var y=r.$$typeof;if(y===ne){a.tag=11,a=M5(null,a,r,h,l);break e}else if(y===z){a.tag=14,a=j5(null,a,r,h,l);break e}}throw a=ue(r)||r,Error(i(306,a,""))}}return a;case 0:return Q1(r,a,a.type,a.pendingProps,l);case 1:return h=a.type,y=xc(h,a.pendingProps),q5(r,a,h,y,l);case 3:e:{if(Re(a,a.stateNode.containerInfo),r===null)throw Error(i(387));h=a.pendingProps;var _=a.memoizedState;y=_.element,vi(r,a),qi(a,h,null,l);var L=a.memoizedState;if(h=L.cache,$o(a,ji,h),h!==_.cache&&Rl(a,[ji],l,!0),ai(),h=L.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:L.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=H5(r,a,h,l);break e}else if(h!==y){y=Qs(Error(i(424)),a),pu(y),a=H5(r,a,h,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(hi=Ya(r.firstChild),Tr=a,yn=!0,as=null,xi=!0,l=rn(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Cl(),h===y){a=Pl(r,a,l);break e}ls(r,a,h,l)}a=a.child}return a;case 26:return nm(r,a),r===null?(l=sb(a.type,null,a.pendingProps,null))?a.memoizedState=l:yn||(l=a.type,r=a.pendingProps,h=_m(ce.current).createElement(l),h[On]=a,h[Kn]=r,us(h,l,r),yi(h),a.stateNode=h):a.memoizedState=sb(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Me(a),r===null&&yn&&(h=a.stateNode=nb(a.type,a.pendingProps,ce.current),Tr=a,xi=!0,y=hi,Iu(a.type)?(M0=y,hi=Ya(h.firstChild)):hi=y),ls(r,a,a.pendingProps.children,l),nm(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&yn&&((y=h=hi)&&(h=z6(h,a.type,a.pendingProps,xi),h!==null?(a.stateNode=h,Tr=a,hi=Ya(h.firstChild),xi=!1,y=!0):y=!1),y||Go(a)),Me(a),y=a.type,_=a.pendingProps,L=r!==null?r.memoizedProps:null,h=_.children,L0(y,_)?h=null:L!==null&&L0(y,L)&&(a.flags|=32),a.memoizedState!==null&&(y=id(r,a,V1,null,null,l),Nd._currentValue=y),nm(r,a),ls(r,a,h,l),a.child;case 6:return r===null&&yn&&((r=l=hi)&&(l=q6(l,a.pendingProps,xi),l!==null?(a.stateNode=l,Tr=a,hi=null,r=!0):r=!1),r||Go(a)),null;case 13:return G5(r,a,l);case 4:return Re(a,a.stateNode.containerInfo),h=a.pendingProps,r===null?a.child=fi(a,null,h,l):ls(r,a,h,l),a.child;case 11:return M5(r,a,a.type,a.pendingProps,l);case 7:return ls(r,a,a.pendingProps,l),a.child;case 8:return ls(r,a,a.pendingProps.children,l),a.child;case 12:return ls(r,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,$o(a,a.type,h.value),ls(r,a,h.children,l),a.child;case 9:return y=a.type._context,h=a.pendingProps.children,Wo(a),y=Ir(y),h=h(y),a.flags|=1,ls(r,a,h,l),a.child;case 14:return j5(r,a,a.type,a.pendingProps,l);case 15:return V5(r,a,a.type,a.pendingProps,l);case 19:return $5(r,a,l);case 31:return h6(r,a,l);case 22:return F5(r,a,l,a.pendingProps);case 24:return Wo(a),h=Ir(ji),r===null?(y=Y(),y===null&&(y=di,_=gu(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=l),y=_),a.memoizedState={parent:h,cache:y},tt(a),$o(a,ji,y)):((r.lanes&l)!==0&&(vi(r,a),qi(a,null,null,l),ai()),y=r.memoizedState,_=a.memoizedState,y.parent!==h?(y={parent:h,cache:h},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),$o(a,ji,h)):(h=_.cache,$o(a,ji,h),h!==y.cache&&Rl(a,[ji],l,!0))),ls(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ol(r){r.flags|=4}function r0(r,a,l,h,y){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(y&335544128)===y)if(r.stateNode.complete)r.flags|=8192;else if(w_())r.flags|=8192;else throw Ve=_e,Le}else r.flags&=-16777217}function W5(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!cb(a))if(w_())r.flags|=8192;else throw Ve=_e,Le}function rm(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Us():536870912,r.lanes|=a,jh|=a)}function dd(r,a){if(!yn)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function wi(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(a)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=l,a}function d6(r,a,l){var h=a.pendingProps;switch(bh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(a),null;case 1:return wi(a),null;case 3:return l=a.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),ta(ji),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Nr(a)?Ol(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,td())),wi(a),null;case 26:var y=a.type,_=a.memoizedState;return r===null?(Ol(a),_!==null?(wi(a),W5(a,_)):(wi(a),r0(a,y,null,h,l))):_?_!==r.memoizedState?(Ol(a),wi(a),W5(a,_)):(wi(a),a.flags&=-16777217):(r=r.memoizedProps,r!==h&&Ol(a),wi(a),r0(a,y,r,h,l)),null;case 27:if($e(a),l=ce.current,y=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==h&&Ol(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return wi(a),null}r=X.current,Nr(a)?ed(a):(r=nb(y,h,l),a.stateNode=r,Ol(a))}return wi(a),null;case 5:if($e(a),y=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==h&&Ol(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return wi(a),null}if(_=X.current,Nr(a))ed(a);else{var L=_m(ce.current);switch(_){case 1:_=L.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=L.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=L.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=L.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=L.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?L.createElement("select",{is:h.is}):L.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?L.createElement(y,{is:h.is}):L.createElement(y)}}_[On]=a,_[Kn]=h;e:for(L=a.child;L!==null;){if(L.tag===5||L.tag===6)_.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===a)break e;for(;L.sibling===null;){if(L.return===null||L.return===a)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}a.stateNode=_;e:switch(us(_,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Ol(a)}}return wi(a),r0(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,l),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==h&&Ol(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(r=ce.current,Nr(a)){if(r=a.stateNode,l=a.memoizedProps,h=null,y=Tr,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}r[On]=a,r=!!(r.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||G_(r.nodeValue,l)),r||Go(a,!0)}else r=_m(r).createTextNode(h),r[On]=a,a.stateNode=r}return wi(a),null;case 31:if(l=a.memoizedState,r===null||r.memoizedState!==null){if(h=Nr(a),l!==null){if(r===null){if(!h)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[On]=a}else Cl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wi(a),r=!1}else l=td(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return a.flags&256?(Yn(a),a):(Yn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return wi(a),null;case 13:if(h=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Nr(a),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[On]=a}else Cl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wi(a),y=!1}else y=td(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Yn(a),a):(Yn(a),null)}return Yn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=h!==null,r=r!==null&&r.memoizedState!==null,l&&(h=a.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==y&&(h.flags|=2048)),l!==r&&l&&(a.child.flags|=8192),rm(a,a.updateQueue),wi(a),null);case 4:return xe(),r===null&&T0(a.stateNode.containerInfo),wi(a),null;case 10:return ta(a.type),wi(a),null;case 19:if(R(Tn),h=a.memoizedState,h===null)return wi(a),null;if(y=(a.flags&128)!==0,_=h.rendering,_===null)if(y)dd(h,!1);else{if(Yi!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(_=Hr(r),_!==null){for(a.flags|=128,dd(h,!1),r=_.updateQueue,a.updateQueue=r,rm(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)vc(l,r),l=l.sibling;return G(Tn,Tn.current&1|2),yn&&js(a,h.treeForkCount),a.child}r=r.sibling}h.tail!==null&&Qt()>um&&(a.flags|=128,y=!0,dd(h,!1),a.lanes=4194304)}else{if(!y)if(r=Hr(_),r!==null){if(a.flags|=128,y=!0,r=r.updateQueue,a.updateQueue=r,rm(a,r),dd(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!yn)return wi(a),null}else 2*Qt()-h.renderingStartTime>um&&l!==536870912&&(a.flags|=128,y=!0,dd(h,!1),a.lanes=4194304);h.isBackwards?(_.sibling=a.child,a.child=_):(r=h.last,r!==null?r.sibling=_:a.child=_,h.last=_)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Qt(),r.sibling=null,l=Tn.current,G(Tn,y?l&1|2:l&1),yn&&js(a,h.treeForkCount),r):(wi(a),null);case 22:case 23:return Yn(a),tr(),h=a.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(wi(a),a.subtreeFlags&6&&(a.flags|=8192)):wi(a),l=a.updateQueue,l!==null&&rm(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),r!==null&&R(K),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ta(ji),wi(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function p6(r,a){switch(bh(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return ta(ji),xe(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return $e(a),null;case 31:if(a.memoizedState!==null){if(Yn(a),a.alternate===null)throw Error(i(340));Cl()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(Yn(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Cl()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return R(Tn),null;case 4:return xe(),null;case 10:return ta(a.type),null;case 22:case 23:return Yn(a),tr(),r!==null&&R(K),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return ta(ji),null;case 25:return null;default:return null}}function Q5(r,a){switch(bh(a),a.tag){case 3:ta(ji),xe();break;case 26:case 27:case 5:$e(a);break;case 4:xe();break;case 31:a.memoizedState!==null&&Yn(a);break;case 13:Yn(a);break;case 19:R(Tn);break;case 10:ta(a.type);break;case 22:case 23:Yn(a),tr(),r!==null&&R(K);break;case 24:ta(ji)}}function pd(r,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&r)===r){h=void 0;var _=l.create,L=l.inst;h=_(),L.destroy=h}l=l.next}while(l!==y)}}catch($){Qn(a,a.return,$)}}function wu(r,a,l){try{var h=a.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var _=y.next;h=_;do{if((h.tag&r)===r){var L=h.inst,$=L.destroy;if($!==void 0){L.destroy=void 0,y=a;var he=l,De=$;try{De()}catch(Ue){Qn(y,he,Ue)}}}h=h.next}while(h!==_)}}catch(Ue){Qn(a,a.return,Ue)}}function X5(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{Hi(a,l)}catch(h){Qn(r,r.return,h)}}}function J5(r,a,l){l.props=xc(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(h){Qn(r,a,h)}}function md(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof l=="function"?r.refCleanup=l(h):l.current=h}}catch(y){Qn(r,a,y)}}function el(r,a){var l=r.ref,h=r.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){Qn(r,a,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Qn(r,a,y)}else l.current=null}function Z5(r){var a=r.type,l=r.memoizedProps,h=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){Qn(r,r.return,y)}}function s0(r,a,l){try{var h=r.stateNode;M6(h,r.type,l,a),h[Kn]=a}catch(y){Qn(r,r.return,y)}}function e_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Iu(r.type)||r.tag===4}function a0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||e_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Iu(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function o0(r,a,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Rs));else if(h!==4&&(h===27&&Iu(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(o0(r,a,l),r=r.sibling;r!==null;)o0(r,a,l),r=r.sibling}function sm(r,a,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(h!==4&&(h===27&&Iu(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(sm(r,a,l),r=r.sibling;r!==null;)sm(r,a,l),r=r.sibling}function t_(r){var a=r.stateNode,l=r.memoizedProps;try{for(var h=r.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);us(a,h,l),a[On]=r,a[Kn]=l}catch(_){Qn(r,r.return,_)}}var Ml=!1,dr=!1,l0=!1,n_=typeof WeakSet=="function"?WeakSet:Set,Gr=null;function m6(r,a){if(r=r.containerInfo,C0=Tm,r=fo(r),qa(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var L=0,$=-1,he=-1,De=0,Ue=0,Ye=r,Oe=null;t:for(;;){for(var je;Ye!==l||y!==0&&Ye.nodeType!==3||($=L+y),Ye!==_||h!==0&&Ye.nodeType!==3||(he=L+h),Ye.nodeType===3&&(L+=Ye.nodeValue.length),(je=Ye.firstChild)!==null;)Oe=Ye,Ye=je;for(;;){if(Ye===r)break t;if(Oe===l&&++De===y&&($=L),Oe===_&&++Ue===h&&(he=L),(je=Ye.nextSibling)!==null)break;Ye=Oe,Oe=Ye.parentNode}Ye=je}l=$===-1||he===-1?null:{start:$,end:he}}else l=null}l=l||{start:0,end:0}}else l=null;for(R0={focusedElem:r,selectionRange:l},Tm=!1,Gr=a;Gr!==null;)if(a=Gr,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,Gr=r;else for(;Gr!==null;){switch(a=Gr,_=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)y=r[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,l=a,y=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var dt=xc(l.type,y);r=h.getSnapshotBeforeUpdate(dt,_),h.__reactInternalSnapshotBeforeUpdate=r}catch(zt){Qn(l,l.return,zt)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)D0(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":D0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Gr=r;break}Gr=a.return}}function i_(r,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Vl(r,l),h&4&&pd(5,l);break;case 1:if(Vl(r,l),h&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(L){Qn(l,l.return,L)}else{var y=xc(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(y,a,r.__reactInternalSnapshotBeforeUpdate)}catch(L){Qn(l,l.return,L)}}h&64&&X5(l),h&512&&md(l,l.return);break;case 3:if(Vl(r,l),h&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Hi(r,a)}catch(L){Qn(l,l.return,L)}}break;case 27:a===null&&h&4&&t_(l);case 26:case 5:Vl(r,l),a===null&&h&4&&Z5(l),h&512&&md(l,l.return);break;case 12:Vl(r,l);break;case 31:Vl(r,l),h&4&&a_(r,l);break;case 13:Vl(r,l),h&4&&o_(r,l),h&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=S6.bind(null,l),H6(r,l))));break;case 22:if(h=l.memoizedState!==null||Ml,!h){a=a!==null&&a.memoizedState!==null||dr,y=Ml;var _=dr;Ml=h,(dr=a)&&!_?Fl(r,l,(l.subtreeFlags&8772)!==0):Vl(r,l),Ml=y,dr=_}break;case 30:break;default:Vl(r,l)}}function r_(r){var a=r.alternate;a!==null&&(r.alternate=null,r_(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&ha(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ii=null,ia=!1;function jl(r,a,l){for(l=l.child;l!==null;)s_(r,a,l),l=l.sibling}function s_(r,a,l){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Zt,l)}catch{}switch(l.tag){case 26:dr||el(l,a),jl(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:dr||el(l,a);var h=Ii,y=ia;Iu(l.type)&&(Ii=l.stateNode,ia=!1),jl(r,a,l),Sd(l.stateNode),Ii=h,ia=y;break;case 5:dr||el(l,a);case 6:if(h=Ii,y=ia,Ii=null,jl(r,a,l),Ii=h,ia=y,Ii!==null)if(ia)try{(Ii.nodeType===9?Ii.body:Ii.nodeName==="HTML"?Ii.ownerDocument.body:Ii).removeChild(l.stateNode)}catch(_){Qn(l,a,_)}else try{Ii.removeChild(l.stateNode)}catch(_){Qn(l,a,_)}break;case 18:Ii!==null&&(ia?(r=Ii,X_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Gh(r)):X_(Ii,l.stateNode));break;case 4:h=Ii,y=ia,Ii=l.stateNode.containerInfo,ia=!0,jl(r,a,l),Ii=h,ia=y;break;case 0:case 11:case 14:case 15:wu(2,l,a),dr||wu(4,l,a),jl(r,a,l);break;case 1:dr||(el(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&J5(l,a,h)),jl(r,a,l);break;case 21:jl(r,a,l);break;case 22:dr=(h=dr)||l.memoizedState!==null,jl(r,a,l),dr=h;break;default:jl(r,a,l)}}function a_(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Gh(r)}catch(l){Qn(a,a.return,l)}}}function o_(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Gh(r)}catch(l){Qn(a,a.return,l)}}function g6(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new n_),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new n_),a;default:throw Error(i(435,r.tag))}}function am(r,a){var l=g6(r);a.forEach(function(h){if(!l.has(h)){l.add(h);var y=x6.bind(null,r,h);h.then(y,y)}})}function ra(r,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],_=r,L=a,$=L;e:for(;$!==null;){switch($.tag){case 27:if(Iu($.type)){Ii=$.stateNode,ia=!1;break e}break;case 5:Ii=$.stateNode,ia=!1;break e;case 3:case 4:Ii=$.stateNode.containerInfo,ia=!0;break e}$=$.return}if(Ii===null)throw Error(i(160));s_(_,L,y),Ii=null,ia=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)l_(a,r),a=a.sibling}var wo=null;function l_(r,a){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ra(a,r),sa(r),h&4&&(wu(3,r,r.return),pd(3,r),wu(5,r,r.return));break;case 1:ra(a,r),sa(r),h&512&&(dr||l===null||el(l,l.return)),h&64&&Ml&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=wo;if(ra(a,r),sa(r),h&512&&(dr||l===null||el(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=r.memoizedState,l===null)if(h===null)if(r.stateNode===null){e:{h=r.type,l=r.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":_=y.getElementsByTagName("title")[0],(!_||_[Mr]||_[On]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(h),y.head.insertBefore(_,y.querySelector("head > title"))),us(_,h,l),_[On]=r,yi(_),h=_;break e;case"link":var L=lb("link","href",y).get(h+(l.href||""));if(L){for(var $=0;$<L.length;$++)if(_=L[$],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){L.splice($,1);break t}}_=y.createElement(h),us(_,h,l),y.head.appendChild(_);break;case"meta":if(L=lb("meta","content",y).get(h+(l.content||""))){for($=0;$<L.length;$++)if(_=L[$],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){L.splice($,1);break t}}_=y.createElement(h),us(_,h,l),y.head.appendChild(_);break;default:throw Error(i(468,h))}_[On]=r,yi(_),h=_}r.stateNode=h}else ub(y,r.type,r.stateNode);else r.stateNode=ob(y,h,r.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?ub(y,r.type,r.stateNode):ob(y,h,r.memoizedProps)):h===null&&r.stateNode!==null&&s0(r,r.memoizedProps,l.memoizedProps)}break;case 27:ra(a,r),sa(r),h&512&&(dr||l===null||el(l,l.return)),l!==null&&h&4&&s0(r,r.memoizedProps,l.memoizedProps);break;case 5:if(ra(a,r),sa(r),h&512&&(dr||l===null||el(l,l.return)),r.flags&32){y=r.stateNode;try{Ji(y,"")}catch(dt){Qn(r,r.return,dt)}}h&4&&r.stateNode!=null&&(y=r.memoizedProps,s0(r,y,l!==null?l.memoizedProps:y)),h&1024&&(l0=!0);break;case 6:if(ra(a,r),sa(r),h&4){if(r.stateNode===null)throw Error(i(162));h=r.memoizedProps,l=r.stateNode;try{l.nodeValue=h}catch(dt){Qn(r,r.return,dt)}}break;case 3:if(Am=null,y=wo,wo=bm(a.containerInfo),ra(a,r),wo=y,sa(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Gh(a.containerInfo)}catch(dt){Qn(r,r.return,dt)}l0&&(l0=!1,u_(r));break;case 4:h=wo,wo=bm(r.stateNode.containerInfo),ra(a,r),sa(r),wo=h;break;case 12:ra(a,r),sa(r);break;case 31:ra(a,r),sa(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,am(r,h)));break;case 13:ra(a,r),sa(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(lm=Qt()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,am(r,h)));break;case 22:y=r.memoizedState!==null;var he=l!==null&&l.memoizedState!==null,De=Ml,Ue=dr;if(Ml=De||y,dr=Ue||he,ra(a,r),dr=Ue,Ml=De,sa(r),h&8192)e:for(a=r.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||he||Ml||dr||Tc(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){he=l=a;try{if(_=he.stateNode,y)L=_.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{$=he.stateNode;var Ye=he.memoizedProps.style,Oe=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;$.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(dt){Qn(he,he.return,dt)}}}else if(a.tag===6){if(l===null){he=a;try{he.stateNode.nodeValue=y?"":he.memoizedProps}catch(dt){Qn(he,he.return,dt)}}}else if(a.tag===18){if(l===null){he=a;try{var je=he.stateNode;y?J_(je,!0):J_(he.stateNode,!1)}catch(dt){Qn(he,he.return,dt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=r.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,am(r,l))));break;case 19:ra(a,r),sa(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,am(r,h)));break;case 30:break;case 21:break;default:ra(a,r),sa(r)}}function sa(r){var a=r.flags;if(a&2){try{for(var l,h=r.return;h!==null;){if(e_(h)){l=h;break}h=h.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var y=l.stateNode,_=a0(r);sm(r,_,y);break;case 5:var L=l.stateNode;l.flags&32&&(Ji(L,""),l.flags&=-33);var $=a0(r);sm(r,$,L);break;case 3:case 4:var he=l.stateNode.containerInfo,De=a0(r);o0(r,De,he);break;default:throw Error(i(161))}}catch(Ue){Qn(r,r.return,Ue)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function u_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;u_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Vl(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)i_(r,a.alternate,a),a=a.sibling}function Tc(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:wu(4,a,a.return),Tc(a);break;case 1:el(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&J5(a,a.return,l),Tc(a);break;case 27:Sd(a.stateNode);case 26:case 5:el(a,a.return),Tc(a);break;case 22:a.memoizedState===null&&Tc(a);break;case 30:Tc(a);break;default:Tc(a)}r=r.sibling}}function Fl(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,y=r,_=a,L=_.flags;switch(_.tag){case 0:case 11:case 15:Fl(y,_,l),pd(4,_);break;case 1:if(Fl(y,_,l),h=_,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(De){Qn(h,h.return,De)}if(h=_,y=h.updateQueue,y!==null){var $=h.stateNode;try{var he=y.shared.hiddenCallbacks;if(he!==null)for(y.shared.hiddenCallbacks=null,y=0;y<he.length;y++)qr(he[y],$)}catch(De){Qn(h,h.return,De)}}l&&L&64&&X5(_),md(_,_.return);break;case 27:t_(_);case 26:case 5:Fl(y,_,l),l&&h===null&&L&4&&Z5(_),md(_,_.return);break;case 12:Fl(y,_,l);break;case 31:Fl(y,_,l),l&&L&4&&a_(y,_);break;case 13:Fl(y,_,l),l&&L&4&&o_(y,_);break;case 22:_.memoizedState===null&&Fl(y,_,l),md(_,_.return);break;case 30:break;default:Fl(y,_,l)}a=a.sibling}}function u0(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&wc(l))}function c0(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&wc(r))}function Ao(r,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)c_(r,a,l,h),a=a.sibling}function c_(r,a,l,h){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Ao(r,a,l,h),y&2048&&pd(9,a);break;case 1:Ao(r,a,l,h);break;case 3:Ao(r,a,l,h),y&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&wc(r)));break;case 12:if(y&2048){Ao(r,a,l,h),r=a.stateNode;try{var _=a.memoizedProps,L=_.id,$=_.onPostCommit;typeof $=="function"&&$(L,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(he){Qn(a,a.return,he)}}else Ao(r,a,l,h);break;case 31:Ao(r,a,l,h);break;case 13:Ao(r,a,l,h);break;case 23:break;case 22:_=a.stateNode,L=a.alternate,a.memoizedState!==null?_._visibility&2?Ao(r,a,l,h):gd(r,a):_._visibility&2?Ao(r,a,l,h):(_._visibility|=2,Ph(r,a,l,h,(a.subtreeFlags&10256)!==0||!1)),y&2048&&u0(L,a);break;case 24:Ao(r,a,l,h),y&2048&&c0(a.alternate,a);break;default:Ao(r,a,l,h)}}function Ph(r,a,l,h,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var _=r,L=a,$=l,he=h,De=L.flags;switch(L.tag){case 0:case 11:case 15:Ph(_,L,$,he,y),pd(8,L);break;case 23:break;case 22:var Ue=L.stateNode;L.memoizedState!==null?Ue._visibility&2?Ph(_,L,$,he,y):gd(_,L):(Ue._visibility|=2,Ph(_,L,$,he,y)),y&&De&2048&&u0(L.alternate,L);break;case 24:Ph(_,L,$,he,y),y&&De&2048&&c0(L.alternate,L);break;default:Ph(_,L,$,he,y)}a=a.sibling}}function gd(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,h=a,y=h.flags;switch(h.tag){case 22:gd(l,h),y&2048&&u0(h.alternate,h);break;case 24:gd(l,h),y&2048&&c0(h.alternate,h);break;default:gd(l,h)}a=a.sibling}}var yd=8192;function Oh(r,a,l){if(r.subtreeFlags&yd)for(r=r.child;r!==null;)h_(r,a,l),r=r.sibling}function h_(r,a,l){switch(r.tag){case 26:Oh(r,a,l),r.flags&yd&&r.memoizedState!==null&&nN(l,wo,r.memoizedState,r.memoizedProps);break;case 5:Oh(r,a,l);break;case 3:case 4:var h=wo;wo=bm(r.stateNode.containerInfo),Oh(r,a,l),wo=h;break;case 22:r.memoizedState===null&&(h=r.alternate,h!==null&&h.memoizedState!==null?(h=yd,yd=16777216,Oh(r,a,l),yd=h):Oh(r,a,l));break;default:Oh(r,a,l)}}function f_(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function vd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Gr=h,p_(h,r)}f_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)d_(r),r=r.sibling}function d_(r){switch(r.tag){case 0:case 11:case 15:vd(r),r.flags&2048&&wu(9,r,r.return);break;case 3:vd(r);break;case 12:vd(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,om(r)):vd(r);break;default:vd(r)}}function om(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Gr=h,p_(h,r)}f_(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:wu(8,a,a.return),om(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,om(a));break;default:om(a)}r=r.sibling}}function p_(r,a){for(;Gr!==null;){var l=Gr;switch(l.tag){case 0:case 11:case 15:wu(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:wc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Gr=h;else e:for(l=r;Gr!==null;){h=Gr;var y=h.sibling,_=h.return;if(r_(h),h===l){Gr=null;break e}if(y!==null){y.return=_,Gr=y;break e}Gr=_}}}var y6={getCacheForType:function(r){var a=Ir(ji),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l},cacheSignal:function(){return Ir(ji).controller.signal}},v6=typeof WeakMap=="function"?WeakMap:Map,zn=0,di=null,vn=null,wn=0,Wn=0,wa=null,Au=!1,Mh=!1,h0=!1,Bl=0,Yi=0,Eu=0,Nc=0,f0=0,Aa=0,jh=0,_d=null,aa=null,d0=!1,lm=0,m_=0,um=1/0,cm=null,Su=null,Rr=0,xu=null,Vh=null,Ul=0,p0=0,m0=null,g_=null,bd=0,g0=null;function Ea(){return(zn&2)!==0&&wn!==0?wn&-wn:le.T!==null?A0():Bi()}function y_(){if(Aa===0)if((wn&536870912)===0||yn){var r=Pn;Pn<<=1,(Pn&3932160)===0&&(Pn=262144),Aa=r}else Aa=536870912;return r=bi.current,r!==null&&(r.flags|=32),Aa}function oa(r,a,l){(r===di&&(Wn===2||Wn===9)||r.cancelPendingCommit!==null)&&(Fh(r,0),Tu(r,wn,Aa,!1)),Tt(r,l),((zn&2)===0||r!==di)&&(r===di&&((zn&2)===0&&(Nc|=l),Yi===4&&Tu(r,wn,Aa,!1)),tl(r))}function v_(r,a,l){if((zn&6)!==0)throw Error(i(327));var h=!l&&(a&127)===0&&(a&r.expiredLanes)===0||vr(r,a),y=h?w6(r,a):v0(r,a,!0),_=h;do{if(y===0){Mh&&!h&&Tu(r,a,0,!1);break}else{if(l=r.current.alternate,_&&!_6(l)){y=v0(r,a,!1),_=!1;continue}if(y===2){if(_=a,r.errorRecoveryDisabledLanes&_)var L=0;else L=r.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){a=L;e:{var $=r;y=_d;var he=$.current.memoizedState.isDehydrated;if(he&&(Fh($,L).flags|=256),L=v0($,L,!1),L!==2){if(h0&&!he){$.errorRecoveryDisabledLanes|=_,Nc|=_,y=4;break e}_=aa,aa=y,_!==null&&(aa===null?aa=_:aa.push.apply(aa,_))}y=L}if(_=!1,y!==2)continue}}if(y===1){Fh(r,0),Tu(r,a,0,!0);break}e:{switch(h=r,_=y,_){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Tu(h,a,Aa,!Au);break e;case 2:aa=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=lm+300-Qt(),10<y)){if(Tu(h,a,Aa,!Au),un(h,0,!0)!==0)break e;Ul=a,h.timeoutHandle=W_(__.bind(null,h,l,aa,cm,d0,a,Aa,Nc,jh,Au,_,"Throttled",-0,0),y);break e}__(h,l,aa,cm,d0,a,Aa,Nc,jh,Au,_,null,-0,0)}}break}while(!0);tl(r)}function __(r,a,l,h,y,_,L,$,he,De,Ue,Ye,Oe,je){if(r.timeoutHandle=-1,Ye=a.subtreeFlags,Ye&8192||(Ye&16785408)===16785408){Ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rs},h_(a,_,Ye);var dt=(_&62914560)===_?lm-Qt():(_&4194048)===_?m_-Qt():0;if(dt=iN(Ye,dt),dt!==null){Ul=_,r.cancelPendingCommit=dt(N_.bind(null,r,a,_,l,h,y,L,$,he,Ue,Ye,null,Oe,je)),Tu(r,_,L,!De);return}}N_(r,a,_,l,h,y,L,$,he)}function _6(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],_=y.getSnapshot;y=y.value;try{if(!Sr(_(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Tu(r,a,l,h){a&=~f0,a&=~Nc,r.suspendedLanes|=a,r.pingedLanes&=~a,h&&(r.warmLanes|=a),h=r.expirationTimes;for(var y=a;0<y;){var _=31-Xt(y),L=1<<_;h[_]=-1,y&=~L}l!==0&&Qr(r,l,a)}function hm(){return(zn&6)===0?(wd(0),!1):!0}function y0(){if(vn!==null){if(Wn===0)var r=vn.return;else r=vn,Ga=Ko=null,Nh(r),We=null,mt=0,r=vn;for(;r!==null;)Q5(r.alternate,r),r=r.return;vn=null}}function Fh(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,F6(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Ul=0,y0(),di=r,vn=l=Ws(r.current,null),wn=a,Wn=0,wa=null,Au=!1,Mh=vr(r,a),h0=!1,jh=Aa=f0=Nc=Eu=Yi=0,aa=_d=null,d0=!1,(a&8)!==0&&(a|=a&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=a;0<h;){var y=31-Xt(h),_=1<<y;a|=r[y],h&=~_}return Bl=a,mc(),l}function b_(r,a){Dt=null,le.H=hd,a===ye||a===ie?(a=qe(),Wn=3):a===Le?(a=qe(),Wn=4):Wn=a===W1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,wa=a,vn===null&&(Yi=1,em(r,Qs(a,r.current)))}function w_(){var r=bi.current;return r===null?!0:(wn&4194048)===wn?In===null:(wn&62914560)===wn||(wn&536870912)!==0?r===In:!1}function A_(){var r=le.H;return le.H=hd,r===null?hd:r}function E_(){var r=le.A;return le.A=y6,r}function fm(){Yi=4,Au||(wn&4194048)!==wn&&bi.current!==null||(Mh=!0),(Eu&134217727)===0&&(Nc&134217727)===0||di===null||Tu(di,wn,Aa,!1)}function v0(r,a,l){var h=zn;zn|=2;var y=A_(),_=E_();(di!==r||wn!==a)&&(cm=null,Fh(r,a)),a=!1;var L=Yi;e:do try{if(Wn!==0&&vn!==null){var $=vn,he=wa;switch(Wn){case 8:y0(),L=6;break e;case 3:case 2:case 9:case 6:bi.current===null&&(a=!0);var De=Wn;if(Wn=0,wa=null,Bh(r,$,he,De),l&&Mh){L=0;break e}break;default:De=Wn,Wn=0,wa=null,Bh(r,$,he,De)}}b6(),L=Yi;break}catch(Ue){b_(r,Ue)}while(!0);return a&&r.shellSuspendCounter++,Ga=Ko=null,zn=h,le.H=y,le.A=_,vn===null&&(di=null,wn=0,mc()),L}function b6(){for(;vn!==null;)S_(vn)}function w6(r,a){var l=zn;zn|=2;var h=A_(),y=E_();di!==r||wn!==a?(cm=null,um=Qt()+500,Fh(r,a)):Mh=vr(r,a);e:do try{if(Wn!==0&&vn!==null){a=vn;var _=wa;t:switch(Wn){case 1:Wn=0,wa=null,Bh(r,a,_,1);break;case 2:case 9:if(Se(_)){Wn=0,wa=null,x_(a);break}a=function(){Wn!==2&&Wn!==9||di!==r||(Wn=7),tl(r)},_.then(a,a);break e;case 3:Wn=7;break e;case 4:Wn=5;break e;case 7:Se(_)?(Wn=0,wa=null,x_(a)):(Wn=0,wa=null,Bh(r,a,_,7));break;case 5:var L=null;switch(vn.tag){case 26:L=vn.memoizedState;case 5:case 27:var $=vn;if(L?cb(L):$.stateNode.complete){Wn=0,wa=null;var he=$.sibling;if(he!==null)vn=he;else{var De=$.return;De!==null?(vn=De,dm(De)):vn=null}break t}}Wn=0,wa=null,Bh(r,a,_,5);break;case 6:Wn=0,wa=null,Bh(r,a,_,6);break;case 8:y0(),Yi=6;break e;default:throw Error(i(462))}}A6();break}catch(Ue){b_(r,Ue)}while(!0);return Ga=Ko=null,le.H=h,le.A=y,zn=l,vn!==null?0:(di=null,wn=0,mc(),Yi)}function A6(){for(;vn!==null&&!Lt();)S_(vn)}function S_(r){var a=Y5(r.alternate,r,Bl);r.memoizedProps=r.pendingProps,a===null?dm(r):vn=a}function x_(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=z5(l,a,a.pendingProps,a.type,void 0,wn);break;case 11:a=z5(l,a,a.pendingProps,a.type.render,a.ref,wn);break;case 5:Nh(a);default:Q5(l,a),a=vn=vc(a,Bl),a=Y5(l,a,Bl)}r.memoizedProps=r.pendingProps,a===null?dm(r):vn=a}function Bh(r,a,l,h){Ga=Ko=null,Nh(a),We=null,mt=0;var y=a.return;try{if(c6(r,y,a,l,wn)){Yi=1,em(r,Qs(l,r.current)),vn=null;return}}catch(_){if(y!==null)throw vn=y,_;Yi=1,em(r,Qs(l,r.current)),vn=null;return}a.flags&32768?(yn||h===1?r=!0:Mh||(wn&536870912)!==0?r=!1:(Au=r=!0,(h===2||h===9||h===3||h===6)&&(h=bi.current,h!==null&&h.tag===13&&(h.flags|=16384))),T_(a,r)):dm(a)}function dm(r){var a=r;do{if((a.flags&32768)!==0){T_(a,Au);return}r=a.return;var l=d6(a.alternate,a,Bl);if(l!==null){vn=l;return}if(a=a.sibling,a!==null){vn=a;return}vn=a=r}while(a!==null);Yi===0&&(Yi=5)}function T_(r,a){do{var l=p6(r.alternate,r);if(l!==null){l.flags&=32767,vn=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){vn=r;return}vn=r=l}while(r!==null);Yi=6,vn=null}function N_(r,a,l,h,y,_,L,$,he){r.cancelPendingCommit=null;do pm();while(Rr!==0);if((zn&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(_=a.lanes|a.childLanes,_|=dh,ca(r,l,_,L,$,he),r===di&&(vn=di=null,wn=0),Vh=a,xu=r,Ul=l,p0=_,m0=y,g_=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,T6(Jt,function(){return k_(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=le.T,le.T=null,y=oe.p,oe.p=2,L=zn,zn|=4;try{m6(r,a,l)}finally{zn=L,oe.p=y,le.T=h}}Rr=1,I_(),C_(),R_()}}function I_(){if(Rr===1){Rr=0;var r=xu,a=Vh,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=le.T,le.T=null;var h=oe.p;oe.p=2;var y=zn;zn|=4;try{l_(a,r);var _=R0,L=fo(r.containerInfo),$=_.focusedElem,he=_.selectionRange;if(L!==$&&$&&$.ownerDocument&&ho($.ownerDocument.documentElement,$)){if(he!==null&&qa($)){var De=he.start,Ue=he.end;if(Ue===void 0&&(Ue=De),"selectionStart"in $)$.selectionStart=De,$.selectionEnd=Math.min(Ue,$.value.length);else{var Ye=$.ownerDocument||document,Oe=Ye&&Ye.defaultView||window;if(Oe.getSelection){var je=Oe.getSelection(),dt=$.textContent.length,zt=Math.min(he.start,dt),ui=he.end===void 0?zt:Math.min(he.end,dt);!je.extend&&zt>ui&&(L=ui,ui=zt,zt=L);var we=cu($,zt),ve=cu($,ui);if(we&&ve&&(je.rangeCount!==1||je.anchorNode!==we.node||je.anchorOffset!==we.offset||je.focusNode!==ve.node||je.focusOffset!==ve.offset)){var ke=Ye.createRange();ke.setStart(we.node,we.offset),je.removeAllRanges(),zt>ui?(je.addRange(ke),je.extend(ve.node,ve.offset)):(ke.setEnd(ve.node,ve.offset),je.addRange(ke))}}}}for(Ye=[],je=$;je=je.parentNode;)je.nodeType===1&&Ye.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Ye.length;$++){var Ke=Ye[$];Ke.element.scrollLeft=Ke.left,Ke.element.scrollTop=Ke.top}}Tm=!!C0,R0=C0=null}finally{zn=y,oe.p=h,le.T=l}}r.current=a,Rr=2}}function C_(){if(Rr===2){Rr=0;var r=xu,a=Vh,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=le.T,le.T=null;var h=oe.p;oe.p=2;var y=zn;zn|=4;try{i_(r,a.alternate,a)}finally{zn=y,oe.p=h,le.T=l}}Rr=3}}function R_(){if(Rr===4||Rr===3){Rr=0,At();var r=xu,a=Vh,l=Ul,h=g_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Rr=5:(Rr=0,Vh=xu=null,L_(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Su=null),ni(l),a=a.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Zt,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=le.T,y=oe.p,oe.p=2,le.T=null;try{for(var _=r.onRecoverableError,L=0;L<h.length;L++){var $=h[L];_($.value,{componentStack:$.stack})}}finally{le.T=a,oe.p=y}}(Ul&3)!==0&&pm(),tl(r),y=r.pendingLanes,(l&261930)!==0&&(y&42)!==0?r===g0?bd++:(bd=0,g0=r):bd=0,wd(0)}}function L_(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,wc(a)))}function pm(){return I_(),C_(),R_(),k_()}function k_(){if(Rr!==5)return!1;var r=xu,a=p0;p0=0;var l=ni(Ul),h=le.T,y=oe.p;try{oe.p=32>l?32:l,le.T=null,l=m0,m0=null;var _=xu,L=Ul;if(Rr=0,Vh=xu=null,Ul=0,(zn&6)!==0)throw Error(i(331));var $=zn;if(zn|=4,d_(_.current),c_(_,_.current,L,l),zn=$,wd(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Zt,_)}catch{}return!0}finally{oe.p=y,le.T=h,L_(r,a)}}function D_(r,a,l){a=Qs(l,a),a=Y1(r.stateNode,a,2),r=on(r,a,2),r!==null&&(Tt(r,2),tl(r))}function Qn(r,a,l){if(r.tag===3)D_(r,r,l);else for(;a!==null;){if(a.tag===3){D_(a,r,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Su===null||!Su.has(h))){r=Qs(l,r),l=P5(2),h=on(a,l,2),h!==null&&(O5(l,h,a,r),Tt(h,2),tl(h));break}}a=a.return}}function _0(r,a,l){var h=r.pingCache;if(h===null){h=r.pingCache=new v6;var y=new Set;h.set(a,y)}else y=h.get(a),y===void 0&&(y=new Set,h.set(a,y));y.has(l)||(h0=!0,y.add(l),r=E6.bind(null,r,a,l),a.then(r,r))}function E6(r,a,l){var h=r.pingCache;h!==null&&h.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,di===r&&(wn&l)===l&&(Yi===4||Yi===3&&(wn&62914560)===wn&&300>Qt()-lm?(zn&2)===0&&Fh(r,0):f0|=l,jh===wn&&(jh=0)),tl(r)}function P_(r,a){a===0&&(a=Us()),r=mo(r,a),r!==null&&(Tt(r,a),tl(r))}function S6(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),P_(r,l)}function x6(r,a){var l=0;switch(r.tag){case 31:case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),P_(r,l)}function T6(r,a){return ot(r,a)}var mm=null,Uh=null,b0=!1,gm=!1,w0=!1,Nu=0;function tl(r){r!==Uh&&r.next===null&&(Uh===null?mm=Uh=r:Uh=Uh.next=r),gm=!0,b0||(b0=!0,I6())}function wd(r,a){if(!w0&&gm){w0=!0;do for(var l=!1,h=mm;h!==null;){if(r!==0){var y=h.pendingLanes;if(y===0)var _=0;else{var L=h.suspendedLanes,$=h.pingedLanes;_=(1<<31-Xt(42|r)+1)-1,_&=y&~(L&~$),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,V_(h,_))}else _=wn,_=un(h,h===di?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||vr(h,_)||(l=!0,V_(h,_));h=h.next}while(l);w0=!1}}function N6(){O_()}function O_(){gm=b0=!1;var r=0;Nu!==0&&V6()&&(r=Nu);for(var a=Qt(),l=null,h=mm;h!==null;){var y=h.next,_=M_(h,a);_===0?(h.next=null,l===null?mm=y:l.next=y,y===null&&(Uh=l)):(l=h,(r!==0||(_&3)!==0)&&(gm=!0)),h=y}Rr!==0&&Rr!==5||wd(r),Nu!==0&&(Nu=0)}function M_(r,a){for(var l=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var L=31-Xt(_),$=1<<L,he=y[L];he===-1?(($&l)===0||($&h)!==0)&&(y[L]=ar($,a)):he<=a&&(r.expiredLanes|=$),_&=~$}if(a=di,l=wn,l=un(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,l===0||r===a&&(Wn===2||Wn===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&at(h),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||vr(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(h!==null&&at(h),ni(l)){case 2:case 8:l=ln;break;case 32:l=Jt;break;case 268435456:l=Gt;break;default:l=Jt}return h=j_.bind(null,r),l=ot(l,h),r.callbackPriority=a,r.callbackNode=l,a}return h!==null&&h!==null&&at(h),r.callbackPriority=2,r.callbackNode=null,2}function j_(r,a){if(Rr!==0&&Rr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(pm()&&r.callbackNode!==l)return null;var h=wn;return h=un(r,r===di?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(v_(r,h,a),M_(r,Qt()),r.callbackNode!=null&&r.callbackNode===l?j_.bind(null,r):null)}function V_(r,a){if(pm())return null;v_(r,a,!0)}function I6(){B6(function(){(zn&6)!==0?ot(qt,N6):O_()})}function A0(){if(Nu===0){var r=p;r===0&&(r=Vt,Vt<<=1,(Vt&261888)===0&&(Vt=256)),Nu=r}return Nu}function F_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Vr(""+r)}function B_(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function C6(r,a,l,h,y){if(a==="submit"&&l&&l.stateNode===y){var _=F_((y[Kn]||null).action),L=h.submitter;L&&(a=(a=L[Kn]||null)?F_(a.formAction):L.getAttribute("formAction"),a!==null&&(_=a,L=null));var $=new ur("action","action",null,h,y);r.push({event:$,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Nu!==0){var he=L?B_(y,L):new FormData(y);z1(l,{pending:!0,data:he,method:y.method,action:_},null,he)}}else typeof _=="function"&&($.preventDefault(),he=L?B_(y,L):new FormData(y),z1(l,{pending:!0,data:he,method:y.method,action:_},_,he))},currentTarget:y}]})}}for(var E0=0;E0<Tl.length;E0++){var S0=Tl[E0],R6=S0.toLowerCase(),L6=S0[0].toUpperCase()+S0.slice(1);Ys(R6,"on"+L6)}Ys(xl,"onAnimationEnd"),Ys(dc,"onAnimationIteration"),Ys(Qf,"onAnimationStart"),Ys("dblclick","onDoubleClick"),Ys("focusin","onFocus"),Ys("focusout","onBlur"),Ys(Up,"onTransitionRun"),Ys(zp,"onTransitionStart"),Ys(qp,"onTransitionCancel"),Ys(Xf,"onTransitionEnd"),Cs("onMouseEnter",["mouseout","mouseover"]),Cs("onMouseLeave",["mouseout","mouseover"]),Cs("onPointerEnter",["pointerout","pointerover"]),Cs("onPointerLeave",["pointerout","pointerover"]),ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ps("onBeforeInput",["compositionend","keypress","textInput","paste"]),ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ad));function U_(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],y=h.event;h=h.listeners;e:{var _=void 0;if(a)for(var L=h.length-1;0<=L;L--){var $=h[L],he=$.instance,De=$.currentTarget;if($=$.listener,he!==_&&y.isPropagationStopped())break e;_=$,y.currentTarget=De;try{_(y)}catch(Ue){pc(Ue)}y.currentTarget=null,_=he}else for(L=0;L<h.length;L++){if($=h[L],he=$.instance,De=$.currentTarget,$=$.listener,he!==_&&y.isPropagationStopped())break e;_=$,y.currentTarget=De;try{_(y)}catch(Ue){pc(Ue)}y.currentTarget=null,_=he}}}}function _n(r,a){var l=a[Or];l===void 0&&(l=a[Or]=new Set);var h=r+"__bubble";l.has(h)||(z_(a,r,2,!1),l.add(h))}function x0(r,a,l){var h=0;a&&(h|=4),z_(l,r,h,a)}var ym="_reactListening"+Math.random().toString(36).slice(2);function T0(r){if(!r[ym]){r[ym]=!0,Po.forEach(function(l){l!=="selectionchange"&&(k6.has(l)||x0(l,!1,r),x0(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[ym]||(a[ym]=!0,x0("selectionchange",!1,a))}}function z_(r,a,l,h){switch(yb(a)){case 2:var y=aN;break;case 8:y=oN;break;default:y=U0}l=y.bind(null,a,l,r),y=void 0,!ro||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(a,l,{capture:!0,passive:y}):r.addEventListener(a,l,!0):y!==void 0?r.addEventListener(a,l,{passive:y}):r.addEventListener(a,l,!1)}function N0(r,a,l,h,y){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var L=h.tag;if(L===3||L===4){var $=h.stateNode.containerInfo;if($===y)break;if(L===4)for(L=h.return;L!==null;){var he=L.tag;if((he===3||he===4)&&L.stateNode.containerInfo===y)return;L=L.return}for(;$!==null;){if(L=Xr($),L===null)return;if(he=L.tag,he===5||he===6||he===26||he===27){h=_=L;continue e}$=$.parentNode}}h=h.return}Oa(function(){var De=_,Ue=Fr(l),Ye=[];e:{var Oe=Jf.get(r);if(Oe!==void 0){var je=ur,dt=r;switch(r){case"keypress":if(ts(l)===0)break e;case"keydown":case"keyup":je=mn;break;case"focusin":dt="focus",je=ks;break;case"focusout":dt="blur",je=ks;break;case"beforeblur":case"afterblur":je=ks;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Ks;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=T;break;case xl:case dc:case Qf:je=A;break;case Xf:je=W;break;case"scroll":case"scrollend":je=Ma;break;case"wheel":je=Pe;break;case"copy":case"cut":case"paste":je=re;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Gn;break;case"toggle":case"beforetoggle":je=Ht}var zt=(a&4)!==0,ui=!zt&&(r==="scroll"||r==="scrollend"),we=zt?Oe!==null?Oe+"Capture":null:Oe;zt=[];for(var ve=De,ke;ve!==null;){var Ke=ve;if(ke=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||ke===null||we===null||(Ke=Zi(ve,we),Ke!=null&&zt.push(Ed(ve,Ke,ke))),ui)break;ve=ve.return}0<zt.length&&(Oe=new je(Oe,dt,null,l,Ue),Ye.push({event:Oe,listeners:zt}))}}if((a&7)===0){e:{if(Oe=r==="mouseover"||r==="pointerover",je=r==="mouseout"||r==="pointerout",Oe&&l!==ma&&(dt=l.relatedTarget||l.fromElement)&&(Xr(dt)||dt[Ui]))break e;if((je||Oe)&&(Oe=Ue.window===Ue?Ue:(Oe=Ue.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,je?(dt=l.relatedTarget||l.toElement,je=De,dt=dt?Xr(dt):null,dt!==null&&(ui=o(dt),zt=dt.tag,dt!==ui||zt!==5&&zt!==27&&zt!==6)&&(dt=null)):(je=null,dt=De),je!==dt)){if(zt=Bo,Ke="onMouseLeave",we="onMouseEnter",ve="mouse",(r==="pointerout"||r==="pointerover")&&(zt=Gn,Ke="onPointerLeave",we="onPointerEnter",ve="pointer"),ui=je==null?Oe:Jr(je),ke=dt==null?Oe:Jr(dt),Oe=new zt(Ke,ve+"leave",je,l,Ue),Oe.target=ui,Oe.relatedTarget=ke,Ke=null,Xr(Ue)===De&&(zt=new zt(we,ve+"enter",dt,l,Ue),zt.target=ke,zt.relatedTarget=ui,Ke=zt),ui=Ke,je&&dt)t:{for(zt=D6,we=je,ve=dt,ke=0,Ke=we;Ke;Ke=zt(Ke))ke++;Ke=0;for(var Mt=ve;Mt;Mt=zt(Mt))Ke++;for(;0<ke-Ke;)we=zt(we),ke--;for(;0<Ke-ke;)ve=zt(ve),Ke--;for(;ke--;){if(we===ve||ve!==null&&we===ve.alternate){zt=we;break t}we=zt(we),ve=zt(ve)}zt=null}else zt=null;je!==null&&q_(Ye,Oe,je,zt,!1),dt!==null&&ui!==null&&q_(Ye,ui,dt,zt,!0)}}e:{if(Oe=De?Jr(De):window,je=Oe.nodeName&&Oe.nodeName.toLowerCase(),je==="select"||je==="input"&&Oe.type==="file")var Vn=zo;else if(hc(Oe))if(ys)Vn=Ua;else{Vn=Oi;var wt=lu}else je=Oe.nodeName,!je||je.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?De&&jo(De.elementType)&&(Vn=zo):Vn=fh;if(Vn&&(Vn=Vn(r,De))){Ps(Ye,Vn,l,Ue);break e}wt&&wt(r,Oe,De),r==="focusout"&&De&&Oe.type==="number"&&De.memoizedProps.value!=null&&vl(Oe,"number",Oe.value)}switch(wt=De?Jr(De):window,r){case"focusin":(hc(wt)||wt.contentEditable==="true")&&(Os=wt,po=De,Br=null);break;case"focusout":Br=po=Os=null;break;case"mousedown":$s=!0;break;case"contextmenu":case"mouseup":case"dragend":$s=!1,kn(Ye,l,Ue);break;case"selectionchange":if(Sl)break;case"keydown":case"keyup":kn(Ye,l,Ue)}var cn;if(hn)e:{switch(r){case"compositionstart":var An="onCompositionStart";break e;case"compositionend":An="onCompositionEnd";break e;case"compositionupdate":An="onCompositionUpdate";break e}An=void 0}else Va?Ds(r,l)&&(An="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(An="onCompositionStart");An&&(Ar&&l.locale!=="ko"&&(Va||An!=="onCompositionStart"?An==="onCompositionEnd"&&Va&&(cn=Al()):(es=Ue,so="value"in es?es.value:es.textContent,Va=!0)),wt=vm(De,An),0<wt.length&&(An=new be(An,r,null,l,Ue),Ye.push({event:An,listeners:wt}),cn?An.data=cn:(cn=ja(l),cn!==null&&(An.data=cn)))),(cn=cr?rs(r,l):oo(r,l))&&(An=vm(De,"onBeforeInput"),0<An.length&&(wt=new be("onBeforeInput","beforeinput",null,l,Ue),Ye.push({event:wt,listeners:An}),wt.data=cn)),C6(Ye,r,De,l,Ue)}U_(Ye,a)})}function Ed(r,a,l){return{instance:r,listener:a,currentTarget:l}}function vm(r,a){for(var l=a+"Capture",h=[];r!==null;){var y=r,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=Zi(r,l),y!=null&&h.unshift(Ed(r,y,_)),y=Zi(r,a),y!=null&&h.push(Ed(r,y,_))),r.tag===3)return h;r=r.return}return[]}function D6(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function q_(r,a,l,h,y){for(var _=a._reactName,L=[];l!==null&&l!==h;){var $=l,he=$.alternate,De=$.stateNode;if($=$.tag,he!==null&&he===h)break;$!==5&&$!==26&&$!==27||De===null||(he=De,y?(De=Zi(l,_),De!=null&&L.unshift(Ed(l,De,he))):y||(De=Zi(l,_),De!=null&&L.push(Ed(l,De,he)))),l=l.return}L.length!==0&&r.push({event:a,listeners:L})}var P6=/\r\n?/g,O6=/\u0000|\uFFFD/g;function H_(r){return(typeof r=="string"?r:""+r).replace(P6,`
`).replace(O6,"")}function G_(r,a){return a=H_(a),H_(r)===a}function li(r,a,l,h,y,_){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Ji(r,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Ji(r,""+h);break;case"className":lr(r,"class",h);break;case"tabIndex":lr(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(r,l,h);break;case"style":wl(r,h,_);break;case"data":if(a!=="object"){lr(r,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(l);break}h=Vr(""+h),r.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(a!=="input"&&li(r,a,"name",y.name,y,null),li(r,a,"formEncType",y.formEncType,y,null),li(r,a,"formMethod",y.formMethod,y,null),li(r,a,"formTarget",y.formTarget,y,null)):(li(r,a,"encType",y.encType,y,null),li(r,a,"method",y.method,y,null),li(r,a,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(l);break}h=Vr(""+h),r.setAttribute(l,h);break;case"onClick":h!=null&&(r.onclick=Rs);break;case"onScroll":h!=null&&_n("scroll",r);break;case"onScrollEnd":h!=null&&_n("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}l=Vr(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(l,""+h):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":h===!0?r.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(l,h):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(l,h):r.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(l):r.setAttribute(l,h);break;case"popover":_n("beforetoggle",r),_n("toggle",r),Zr(r,"popover",h);break;case"xlinkActuate":Ei(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ei(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ei(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ei(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ei(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ei(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ei(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ei(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ei(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Zr(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Vo.get(l)||l,Zr(r,l,h))}}function I0(r,a,l,h,y,_){switch(l){case"style":wl(r,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof h=="string"?Ji(r,h):(typeof h=="number"||typeof h=="bigint")&&Ji(r,""+h);break;case"onScroll":h!=null&&_n("scroll",r);break;case"onScrollEnd":h!=null&&_n("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),_=r[Kn]||null,_=_!=null?_[l]:null,typeof _=="function"&&r.removeEventListener(a,_,y),typeof h=="function")){typeof _!="function"&&_!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,h,y);break e}l in r?r[l]=h:h===!0?r.setAttribute(l,""):Zr(r,l,h)}}}function us(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",r),_n("load",r);var h=!1,y=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var L=l[_];if(L!=null)switch(_){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:li(r,a,_,L,l,null)}}y&&li(r,a,"srcSet",l.srcSet,l,null),h&&li(r,a,"src",l.src,l,null);return;case"input":_n("invalid",r);var $=_=L=y=null,he=null,De=null;for(h in l)if(l.hasOwnProperty(h)){var Ue=l[h];if(Ue!=null)switch(h){case"name":y=Ue;break;case"type":L=Ue;break;case"checked":he=Ue;break;case"defaultChecked":De=Ue;break;case"value":_=Ue;break;case"defaultValue":$=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(i(137,a));break;default:li(r,a,h,Ue,l,null)}}su(r,_,$,he,De,L,y,!1);return;case"select":_n("invalid",r),h=L=_=null;for(y in l)if(l.hasOwnProperty(y)&&($=l[y],$!=null))switch(y){case"value":_=$;break;case"defaultValue":L=$;break;case"multiple":h=$;default:li(r,a,y,$,l,null)}a=_,l=L,r.multiple=!!h,a!=null?wr(r,!!h,a,!1):l!=null&&wr(r,!!h,l,!0);return;case"textarea":_n("invalid",r),_=y=h=null;for(L in l)if(l.hasOwnProperty(L)&&($=l[L],$!=null))switch(L){case"value":h=$;break;case"defaultValue":y=$;break;case"children":_=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(i(91));break;default:li(r,a,L,$,l,null)}da(r,h,y,_);return;case"option":for(he in l)if(l.hasOwnProperty(he)&&(h=l[he],h!=null))switch(he){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:li(r,a,he,h,l,null)}return;case"dialog":_n("beforetoggle",r),_n("toggle",r),_n("cancel",r),_n("close",r);break;case"iframe":case"object":_n("load",r);break;case"video":case"audio":for(h=0;h<Ad.length;h++)_n(Ad[h],r);break;case"image":_n("error",r),_n("load",r);break;case"details":_n("toggle",r);break;case"embed":case"source":case"link":_n("error",r),_n("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in l)if(l.hasOwnProperty(De)&&(h=l[De],h!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:li(r,a,De,h,l,null)}return;default:if(jo(a)){for(Ue in l)l.hasOwnProperty(Ue)&&(h=l[Ue],h!==void 0&&I0(r,a,Ue,h,l,void 0));return}}for($ in l)l.hasOwnProperty($)&&(h=l[$],h!=null&&li(r,a,$,h,l,null))}function M6(r,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,L=null,$=null,he=null,De=null,Ue=null;for(je in l){var Ye=l[je];if(l.hasOwnProperty(je)&&Ye!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":he=Ye;default:h.hasOwnProperty(je)||li(r,a,je,null,h,Ye)}}for(var Oe in h){var je=h[Oe];if(Ye=l[Oe],h.hasOwnProperty(Oe)&&(je!=null||Ye!=null))switch(Oe){case"type":_=je;break;case"name":y=je;break;case"checked":De=je;break;case"defaultChecked":Ue=je;break;case"value":L=je;break;case"defaultValue":$=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,a));break;default:je!==Ye&&li(r,a,Oe,je,h,Ye)}}no(r,L,$,he,De,Ue,_,y);return;case"select":je=L=$=Oe=null;for(_ in l)if(he=l[_],l.hasOwnProperty(_)&&he!=null)switch(_){case"value":break;case"multiple":je=he;default:h.hasOwnProperty(_)||li(r,a,_,null,h,he)}for(y in h)if(_=h[y],he=l[y],h.hasOwnProperty(y)&&(_!=null||he!=null))switch(y){case"value":Oe=_;break;case"defaultValue":$=_;break;case"multiple":L=_;default:_!==he&&li(r,a,y,_,h,he)}a=$,l=L,h=je,Oe!=null?wr(r,!!l,Oe,!1):!!h!=!!l&&(a!=null?wr(r,!!l,a,!0):wr(r,!!l,l?[]:"",!1));return;case"textarea":je=Oe=null;for($ in l)if(y=l[$],l.hasOwnProperty($)&&y!=null&&!h.hasOwnProperty($))switch($){case"value":break;case"children":break;default:li(r,a,$,null,h,y)}for(L in h)if(y=h[L],_=l[L],h.hasOwnProperty(L)&&(y!=null||_!=null))switch(L){case"value":Oe=y;break;case"defaultValue":je=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==_&&li(r,a,L,y,h,_)}_l(r,Oe,je);return;case"option":for(var dt in l)if(Oe=l[dt],l.hasOwnProperty(dt)&&Oe!=null&&!h.hasOwnProperty(dt))switch(dt){case"selected":r.selected=!1;break;default:li(r,a,dt,null,h,Oe)}for(he in h)if(Oe=h[he],je=l[he],h.hasOwnProperty(he)&&Oe!==je&&(Oe!=null||je!=null))switch(he){case"selected":r.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol";break;default:li(r,a,he,Oe,h,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in l)Oe=l[zt],l.hasOwnProperty(zt)&&Oe!=null&&!h.hasOwnProperty(zt)&&li(r,a,zt,null,h,Oe);for(De in h)if(Oe=h[De],je=l[De],h.hasOwnProperty(De)&&Oe!==je&&(Oe!=null||je!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(i(137,a));break;default:li(r,a,De,Oe,h,je)}return;default:if(jo(a)){for(var ui in l)Oe=l[ui],l.hasOwnProperty(ui)&&Oe!==void 0&&!h.hasOwnProperty(ui)&&I0(r,a,ui,void 0,h,Oe);for(Ue in h)Oe=h[Ue],je=l[Ue],!h.hasOwnProperty(Ue)||Oe===je||Oe===void 0&&je===void 0||I0(r,a,Ue,Oe,h,je);return}}for(var we in l)Oe=l[we],l.hasOwnProperty(we)&&Oe!=null&&!h.hasOwnProperty(we)&&li(r,a,we,null,h,Oe);for(Ye in h)Oe=h[Ye],je=l[Ye],!h.hasOwnProperty(Ye)||Oe===je||Oe==null&&je==null||li(r,a,Ye,Oe,h,je)}function K_(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j6(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var y=l[h],_=y.transferSize,L=y.initiatorType,$=y.duration;if(_&&$&&K_(L)){for(L=0,$=y.responseEnd,h+=1;h<l.length;h++){var he=l[h],De=he.startTime;if(De>$)break;var Ue=he.transferSize,Ye=he.initiatorType;Ue&&K_(Ye)&&(he=he.responseEnd,L+=Ue*(he<$?1:($-De)/(he-De)))}if(--h,a+=8*(_+L)/(y.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var C0=null,R0=null;function _m(r){return r.nodeType===9?r:r.ownerDocument}function $_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function L0(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var k0=null;function V6(){var r=window.event;return r&&r.type==="popstate"?r===k0?!1:(k0=r,!0):(k0=null,!1)}var W_=typeof setTimeout=="function"?setTimeout:void 0,F6=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,B6=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(r){return Q_.resolve(null).then(r).catch(U6)}:W_;function U6(r){setTimeout(function(){throw r})}function Iu(r){return r==="head"}function X_(r,a){var l=a,h=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(h===0){r.removeChild(y),Gh(a);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Sd(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Sd(l);for(var _=l.firstChild;_;){var L=_.nextSibling,$=_.nodeName;_[Mr]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=L}}else l==="body"&&Sd(r.ownerDocument.body);l=y}while(l);Gh(a)}function J_(r,a){var l=r;r=0;do{var h=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=h}while(l)}function D0(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":D0(l),ha(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function z6(r,a,l,h){for(;r.nodeType===1;){var y=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Mr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=Ya(r.nextSibling),r===null)break}return null}function q6(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Ya(r.nextSibling),r===null))return null;return r}function Z_(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Ya(r.nextSibling),r===null))return null;return r}function P0(r){return r.data==="$?"||r.data==="$~"}function O0(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function H6(r,a){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||l.readyState!=="loading")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function Ya(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var M0=null;function eb(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(a===0)return Ya(r.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}r=r.nextSibling}return null}function tb(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return r;a--}else l!=="/$"&&l!=="/&"||a++}r=r.previousSibling}return null}function nb(r,a,l){switch(a=_m(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Sd(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);ha(r)}var Wa=new Map,ib=new Set;function bm(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var zl=oe.d;oe.d={f:G6,r:K6,D:$6,C:Y6,L:W6,m:Q6,X:J6,S:X6,M:Z6};function G6(){var r=zl.f(),a=hm();return r||a}function K6(r){var a=br(r);a!==null&&a.tag===5&&a.type==="form"?b5(a):zl.r(r)}var zh=typeof document>"u"?null:document;function rb(r,a,l){var h=zh;if(h&&typeof a=="string"&&a){var y=Si(a);y='link[rel="'+r+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),ib.has(y)||(ib.add(y),r={rel:r,crossOrigin:l,href:a},h.querySelector(y)===null&&(a=h.createElement("link"),us(a,"link",r),yi(a),h.head.appendChild(a)))}}function $6(r){zl.D(r),rb("dns-prefetch",r,null)}function Y6(r,a){zl.C(r,a),rb("preconnect",r,a)}function W6(r,a,l){zl.L(r,a,l);var h=zh;if(h&&r&&a){var y='link[rel="preload"][as="'+Si(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Si(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Si(l.imageSizes)+'"]')):y+='[href="'+Si(r)+'"]';var _=y;switch(a){case"style":_=qh(r);break;case"script":_=Hh(r)}Wa.has(_)||(r=w({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),Wa.set(_,r),h.querySelector(y)!==null||a==="style"&&h.querySelector(xd(_))||a==="script"&&h.querySelector(Td(_))||(a=h.createElement("link"),us(a,"link",r),yi(a),h.head.appendChild(a)))}}function Q6(r,a){zl.m(r,a);var l=zh;if(l&&r){var h=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Si(h)+'"][href="'+Si(r)+'"]',_=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Hh(r)}if(!Wa.has(_)&&(r=w({rel:"modulepreload",href:r},a),Wa.set(_,r),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Td(_)))return}h=l.createElement("link"),us(h,"link",r),yi(h),l.head.appendChild(h)}}}function X6(r,a,l){zl.S(r,a,l);var h=zh;if(h&&r){var y=ds(h).hoistableStyles,_=qh(r);a=a||"default";var L=y.get(_);if(!L){var $={loading:0,preload:null};if(L=h.querySelector(xd(_)))$.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":a},l),(l=Wa.get(_))&&j0(r,l);var he=L=h.createElement("link");yi(he),us(he,"link",r),he._p=new Promise(function(De,Ue){he.onload=De,he.onerror=Ue}),he.addEventListener("load",function(){$.loading|=1}),he.addEventListener("error",function(){$.loading|=2}),$.loading|=4,wm(L,a,h)}L={type:"stylesheet",instance:L,count:1,state:$},y.set(_,L)}}}function J6(r,a){zl.X(r,a);var l=zh;if(l&&r){var h=ds(l).hoistableScripts,y=Hh(r),_=h.get(y);_||(_=l.querySelector(Td(y)),_||(r=w({src:r,async:!0},a),(a=Wa.get(y))&&V0(r,a),_=l.createElement("script"),yi(_),us(_,"link",r),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(y,_))}}function Z6(r,a){zl.M(r,a);var l=zh;if(l&&r){var h=ds(l).hoistableScripts,y=Hh(r),_=h.get(y);_||(_=l.querySelector(Td(y)),_||(r=w({src:r,async:!0,type:"module"},a),(a=Wa.get(y))&&V0(r,a),_=l.createElement("script"),yi(_),us(_,"link",r),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(y,_))}}function sb(r,a,l,h){var y=(y=ce.current)?bm(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=qh(l.href),l=ds(y).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=qh(l.href);var _=ds(y).hoistableStyles,L=_.get(r);if(L||(y=y.ownerDocument||y,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,L),(_=y.querySelector(xd(r)))&&!_._p&&(L.instance=_,L.state.loading=5),Wa.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Wa.set(r,l),_||eN(y,r,l,L.state))),a&&h===null)throw Error(i(528,""));return L}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Hh(l),l=ds(y).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function qh(r){return'href="'+Si(r)+'"'}function xd(r){return'link[rel="stylesheet"]['+r+"]"}function ab(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function eN(r,a,l,h){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=r.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),us(a,"link",l),yi(a),r.head.appendChild(a))}function Hh(r){return'[src="'+Si(r)+'"]'}function Td(r){return"script[async]"+r}function ob(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=r.querySelector('style[data-href~="'+Si(l.href)+'"]');if(h)return a.instance=h,yi(h),h;var y=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),yi(h),us(h,"style",y),wm(h,l.precedence,r),a.instance=h;case"stylesheet":y=qh(l.href);var _=r.querySelector(xd(y));if(_)return a.state.loading|=4,a.instance=_,yi(_),_;h=ab(l),(y=Wa.get(y))&&j0(h,y),_=(r.ownerDocument||r).createElement("link"),yi(_);var L=_;return L._p=new Promise(function($,he){L.onload=$,L.onerror=he}),us(_,"link",h),a.state.loading|=4,wm(_,l.precedence,r),a.instance=_;case"script":return _=Hh(l.src),(y=r.querySelector(Td(_)))?(a.instance=y,yi(y),y):(h=l,(y=Wa.get(_))&&(h=w({},l),V0(h,y)),r=r.ownerDocument||r,y=r.createElement("script"),yi(y),us(y,"link",h),r.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,wm(h,l.precedence,r));return a.instance}function wm(r,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,_=y,L=0;L<h.length;L++){var $=h[L];if($.dataset.precedence===a)_=$;else if(_!==y)break}_?_.parentNode.insertBefore(r,_.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function j0(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function V0(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Am=null;function lb(r,a,l){if(Am===null){var h=new Map,y=Am=new Map;y.set(l,h)}else y=Am,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(r))return h;for(h.set(r,null),l=l.getElementsByTagName(r),y=0;y<l.length;y++){var _=l[y];if(!(_[Mr]||_[On]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var L=_.getAttribute(a)||"";L=r+L;var $=h.get(L);$?$.push(_):h.set(L,[_])}}return h}function ub(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function tN(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function cb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function nN(r,a,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=qh(h.href),_=a.querySelector(xd(y));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Em.bind(r),a.then(r,r)),l.state.loading|=4,l.instance=_,yi(_);return}_=a.ownerDocument||a,h=ab(h),(y=Wa.get(y))&&j0(h,y),_=_.createElement("link"),yi(_);var L=_;L._p=new Promise(function($,he){L.onload=$,L.onerror=he}),us(_,"link",h),l.instance=_}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Em.bind(r),a.addEventListener("load",l),a.addEventListener("error",l))}}var F0=0;function iN(r,a){return r.stylesheets&&r.count===0&&xm(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var h=setTimeout(function(){if(r.stylesheets&&xm(r,r.stylesheets),r.unsuspend){var _=r.unsuspend;r.unsuspend=null,_()}},6e4+a);0<r.imgBytes&&F0===0&&(F0=62500*j6());var y=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&xm(r,r.stylesheets),r.unsuspend)){var _=r.unsuspend;r.unsuspend=null,_()}},(r.imgBytes>F0?50:800)+a);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Em(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Sm=null;function xm(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Sm=new Map,a.forEach(rN,r),Sm=null,Em.call(r))}function rN(r,a){if(!(a.state.loading&4)){var l=Sm.get(r);if(l)var h=l.get(null);else{l=new Map,Sm.set(r,l);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var L=y[_];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(l.set(L.dataset.precedence,L),h=L)}h&&l.set(null,h)}y=a.instance,L=y.getAttribute("data-precedence"),_=l.get(L)||h,_===h&&l.set(null,y),l.set(L,y),this.count++,h=Em.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),_?_.parentNode.insertBefore(y,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),a.state.loading|=4}}var Nd={$$typeof:Q,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function sN(r,a,l,h,y,_,L,$,he){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function hb(r,a,l,h,y,_,L,$,he,De,Ue,Ye){return r=new sN(r,a,l,L,he,De,Ue,Ye,$),a=1,_===!0&&(a|=24),_=zr(3,null,null,a),r.current=_,_.stateNode=r,a=gu(),a.refCount++,r.pooledCache=a,a.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:a},tt(_),r}function fb(r){return r?(r=xr,r):xr}function db(r,a,l,h,y,_){y=fb(y),h.context===null?h.context=y:h.pendingContext=y,h=Ut(a),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=on(r,h,a),l!==null&&(oa(l,r,a),Bn(l,r,a))}function pb(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function B0(r,a){pb(r,a),(r=r.alternate)&&pb(r,a)}function mb(r){if(r.tag===13||r.tag===31){var a=mo(r,67108864);a!==null&&oa(a,r,67108864),B0(r,67108864)}}function gb(r){if(r.tag===13||r.tag===31){var a=Ea();a=Hn(a);var l=mo(r,a);l!==null&&oa(l,r,a),B0(r,a)}}var Tm=!0;function aN(r,a,l,h){var y=le.T;le.T=null;var _=oe.p;try{oe.p=2,U0(r,a,l,h)}finally{oe.p=_,le.T=y}}function oN(r,a,l,h){var y=le.T;le.T=null;var _=oe.p;try{oe.p=8,U0(r,a,l,h)}finally{oe.p=_,le.T=y}}function U0(r,a,l,h){if(Tm){var y=z0(h);if(y===null)N0(r,a,h,Nm,l),vb(r,h);else if(uN(y,r,a,l,h))h.stopPropagation();else if(vb(r,h),a&4&&-1<lN.indexOf(r)){for(;y!==null;){var _=br(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var L=bt(_.pendingLanes);if(L!==0){var $=_;for($.pendingLanes|=2,$.entangledLanes|=2;L;){var he=1<<31-Xt(L);$.entanglements[1]|=he,L&=~he}tl(_),(zn&6)===0&&(um=Qt()+500,wd(0))}}break;case 31:case 13:$=mo(_,2),$!==null&&oa($,_,2),hm(),B0(_,2)}if(_=z0(h),_===null&&N0(r,a,h,Nm,l),_===y)break;y=_}y!==null&&h.stopPropagation()}else N0(r,a,h,null,l)}}function z0(r){return r=Fr(r),q0(r)}var Nm=null;function q0(r){if(Nm=null,r=Xr(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===31){if(r=c(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Nm=r,null}function yb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nn()){case qt:return 2;case ln:return 8;case Jt:case vt:return 32;case Gt:return 268435456;default:return 32}default:return 32}}var H0=!1,Cu=null,Ru=null,Lu=null,Id=new Map,Cd=new Map,ku=[],lN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vb(r,a){switch(r){case"focusin":case"focusout":Cu=null;break;case"dragenter":case"dragleave":Ru=null;break;case"mouseover":case"mouseout":Lu=null;break;case"pointerover":case"pointerout":Id.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cd.delete(a.pointerId)}}function Rd(r,a,l,h,y,_){return r===null||r.nativeEvent!==_?(r={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[y]},a!==null&&(a=br(a),a!==null&&mb(a)),r):(r.eventSystemFlags|=h,a=r.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),r)}function uN(r,a,l,h,y){switch(a){case"focusin":return Cu=Rd(Cu,r,a,l,h,y),!0;case"dragenter":return Ru=Rd(Ru,r,a,l,h,y),!0;case"mouseover":return Lu=Rd(Lu,r,a,l,h,y),!0;case"pointerover":var _=y.pointerId;return Id.set(_,Rd(Id.get(_)||null,r,a,l,h,y)),!0;case"gotpointercapture":return _=y.pointerId,Cd.set(_,Rd(Cd.get(_)||null,r,a,l,h,y)),!0}return!1}function _b(r){var a=Xr(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,_r(r.priority,function(){gb(l)});return}}else if(a===31){if(a=c(l),a!==null){r.blockedOn=a,_r(r.priority,function(){gb(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Im(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=z0(r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);ma=h,l.target.dispatchEvent(h),ma=null}else return a=br(l),a!==null&&mb(a),r.blockedOn=l,!1;a.shift()}return!0}function bb(r,a,l){Im(r)&&l.delete(a)}function cN(){H0=!1,Cu!==null&&Im(Cu)&&(Cu=null),Ru!==null&&Im(Ru)&&(Ru=null),Lu!==null&&Im(Lu)&&(Lu=null),Id.forEach(bb),Cd.forEach(bb)}function Cm(r,a){r.blockedOn===a&&(r.blockedOn=null,H0||(H0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,cN)))}var Rm=null;function wb(r){Rm!==r&&(Rm=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rm===r&&(Rm=null);for(var a=0;a<r.length;a+=3){var l=r[a],h=r[a+1],y=r[a+2];if(typeof h!="function"){if(q0(h||l)===null)continue;break}var _=br(l);_!==null&&(r.splice(a,3),a-=3,z1(_,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function Gh(r){function a(he){return Cm(he,r)}Cu!==null&&Cm(Cu,r),Ru!==null&&Cm(Ru,r),Lu!==null&&Cm(Lu,r),Id.forEach(a),Cd.forEach(a);for(var l=0;l<ku.length;l++){var h=ku[l];h.blockedOn===r&&(h.blockedOn=null)}for(;0<ku.length&&(l=ku[0],l.blockedOn===null);)_b(l),l.blockedOn===null&&ku.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],_=l[h+1],L=y[Kn]||null;if(typeof _=="function")L||wb(l);else if(L){var $=null;if(_&&_.hasAttribute("formAction")){if(y=_,L=_[Kn]||null)$=L.formAction;else if(q0(y)!==null)continue}else $=L.action;typeof $=="function"?l[h+1]=$:(l.splice(h,3),h-=3),wb(l)}}}function Ab(){function r(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(L){return y=L})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function G0(r){this._internalRoot=r}Lm.prototype.render=G0.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,h=Ea();db(l,h,r,a,null,null)},Lm.prototype.unmount=G0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;db(r.current,2,null,r,null,null),hm(),a[Ui]=null}};function Lm(r){this._internalRoot=r}Lm.prototype.unstable_scheduleHydration=function(r){if(r){var a=Bi();r={blockedOn:null,target:r,priority:a};for(var l=0;l<ku.length&&a!==0&&a<ku[l].priority;l++);ku.splice(l,0,r),l===0&&_b(r)}};var Eb=e.version;if(Eb!=="19.2.4")throw Error(i(527,Eb,"19.2.4"));oe.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var hN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!km.isDisabled&&km.supportsFiber)try{Zt=km.inject(hN),Rt=km}catch{}}return kd.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,h="",y=R5,_=L5,L=k5;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError)),a=hb(r,1,!1,null,null,l,h,null,y,_,L,Ab),r[Ui]=a.current,T0(r),new G0(a)},kd.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var h=!1,y="",_=R5,L=L5,$=k5,he=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.formState!==void 0&&(he=l.formState)),a=hb(r,1,!0,a,l??null,h,y,he,_,L,$,Ab),a.context=fb(null),l=a.current,h=Ea(),h=Hn(h),y=Ut(h),y.callback=null,on(l,y,h),l=h,a.current.lanes=l,Tt(a,l),tl(a),r[Ui]=a.current,T0(r),new Lm(a)},kd.version="19.2.4",kd}var Db;function SN(){if(Db)return Y0.exports;Db=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Y0.exports=EN(),Y0.exports}var xN=SN();const TN=h3(xN);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Pb="popstate";function NN(n={}){function e(i,s){let{pathname:o,search:u,hash:c}=i.location;return G2("",{pathname:o,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:sp(s)}return CN(e,t,null,n)}function Li(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Io(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IN(){return Math.random().toString(36).substring(2,10)}function Ob(n,e){return{usr:n.state,key:n.key,idx:e}}function G2(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ff(e):e,state:t,key:e&&e.key||i||IN()}}function sp({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ff(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function CN(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,c="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function w(){c="POP";let U=g(),V=U==null?null:U-d;d=U,f&&f({action:c,location:M.location,delta:V})}function E(U,V){c="PUSH";let ee=G2(M.location,U,V);d=g()+1;let Q=Ob(ee,d),ne=M.createHref(ee);try{u.pushState(Q,"",ne)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;s.location.assign(ne)}o&&f&&f({action:c,location:M.location,delta:1})}function b(U,V){c="REPLACE";let ee=G2(M.location,U,V);d=g();let Q=Ob(ee,d),ne=M.createHref(ee);u.replaceState(Q,"",ne),o&&f&&f({action:c,location:M.location,delta:0})}function j(U){return RN(U)}let M={get action(){return c},get location(){return n(s,u)},listen(U){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Pb,w),f=U,()=>{s.removeEventListener(Pb,w),f=null}},createHref(U){return e(s,U)},createURL:j,encodeLocation(U){let V=j(U);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:b,go(U){return u.go(U)}};return M}function RN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Li(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:sp(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function f3(n,e,t="/"){return LN(n,e,t,!1)}function LN(n,e,t,i){let s=typeof e=="string"?Ff(e):e,o=Ql(s.pathname||"/",t);if(o==null)return null;let u=d3(n);kN(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let d=qN(o);c=UN(u[f],d,i)}return c}function d3(n,e=[],t=[],i="",s=!1){let o=(u,c,f=s,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;Li(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let w=Wl([i,g.relativePath]),E=t.concat(g);u.children&&u.children.length>0&&(Li(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),d3(u.children,e,E,w,f)),!(u.path==null&&!u.index)&&e.push({path:w,score:FN(w,u.index),routesMeta:E})};return n.forEach((u,c)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,c);else for(let d of p3(u.path))o(u,c,!0,d)}),e}function p3(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=p3(i.join("/")),c=[];return c.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&c.push(...u),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function kN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:BN(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var DN=/^:[\w-]+$/,PN=3,ON=2,MN=1,jN=10,VN=-2,Mb=n=>n==="*";function FN(n,e){let t=n.split("/"),i=t.length;return t.some(Mb)&&(i+=VN),e&&(i+=ON),t.filter(s=>!Mb(s)).reduce((s,o)=>s+(DN.test(o)?PN:o===""?MN:jN),i)}function BN(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function UN(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",u=[];for(let c=0;c<i.length;++c){let f=i[c],d=c===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",w=wg({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),E=f.route;if(!w&&d&&t&&!i[i.length-1].route.index&&(w=wg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:Wl([o,w.pathname]),pathnameBase:$N(Wl([o,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(o=Wl([o,w.pathnameBase]))}return u}function wg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=zN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:w},E)=>{if(g==="*"){let j=c[E]||"";u=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=c[E];return w&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function zN(n,e=!1,t=!0){Io(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function qN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Io(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ql(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var HN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function GN(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Ff(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=jb(t.substring(1),"/"):o=jb(t,e)):o=e,{pathname:o,search:YN(i),hash:WN(s)}}function jb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function J0(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Uy(n){let e=KN(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function zy(n,e,t,i=!1){let s;typeof n=="string"?s=Ff(n):(s={...n},Li(!s.pathname||!s.pathname.includes("?"),J0("?","pathname","search",s)),Li(!s.pathname||!s.pathname.includes("#"),J0("#","pathname","hash",s)),Li(!s.search||!s.search.includes("#"),J0("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,c;if(u==null)c=t;else{let w=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}c=w>=0?e[w]:"/"}let f=GN(s,c),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Wl=n=>n.join("/").replace(/\/\/+/g,"/"),$N=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),YN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,WN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,QN=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function XN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function JN(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var m3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function g3(n,e){let t=n;if(typeof t!="string"||!HN.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,s=!1;if(m3)try{let o=new URL(window.location.href),u=t.startsWith("//")?new URL(o.protocol+t):new URL(t),c=Ql(u.pathname,e);u.origin===o.origin&&c!=null?t=c+u.search+u.hash:s=!0}catch{Io(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var y3=["POST","PUT","PATCH","DELETE"];new Set(y3);var ZN=["GET",...y3];new Set(ZN);var Bf=Ae.createContext(null);Bf.displayName="DataRouter";var Zg=Ae.createContext(null);Zg.displayName="DataRouterState";var eI=Ae.createContext(!1),v3=Ae.createContext({isTransitioning:!1});v3.displayName="ViewTransition";var tI=Ae.createContext(new Map);tI.displayName="Fetchers";var nI=Ae.createContext(null);nI.displayName="Await";var Ra=Ae.createContext(null);Ra.displayName="Navigation";var Sp=Ae.createContext(null);Sp.displayName="Location";var ml=Ae.createContext({outlet:null,matches:[],isDataRoute:!1});ml.displayName="Route";var qy=Ae.createContext(null);qy.displayName="RouteError";var _3="REACT_ROUTER_ERROR",iI="REDIRECT",rI="ROUTE_ERROR_RESPONSE";function sI(n){if(n.startsWith(`${_3}:${iI}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function aI(n){if(n.startsWith(`${_3}:${rI}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new QN(e.status,e.statusText,e.data)}catch{}}function oI(n,{relative:e}={}){Li(Uf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Ae.useContext(Ra),{hash:s,pathname:o,search:u}=xp(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Wl([t,o])),i.createHref({pathname:c,search:u,hash:s})}function Uf(){return Ae.useContext(Sp)!=null}function nu(){return Li(Uf(),"useLocation() may be used only in the context of a <Router> component."),Ae.useContext(Sp).location}var b3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w3(n){Ae.useContext(Ra).static||Ae.useLayoutEffect(n)}function A3(){let{isDataRoute:n}=Ae.useContext(ml);return n?bI():lI()}function lI(){Li(Uf(),"useNavigate() may be used only in the context of a <Router> component.");let n=Ae.useContext(Bf),{basename:e,navigator:t}=Ae.useContext(Ra),{matches:i}=Ae.useContext(ml),{pathname:s}=nu(),o=JSON.stringify(Uy(i)),u=Ae.useRef(!1);return w3(()=>{u.current=!0}),Ae.useCallback((f,d={})=>{if(Io(u.current,b3),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=zy(f,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Wl([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,s,n])}Ae.createContext(null);function xp(n,{relative:e}={}){let{matches:t}=Ae.useContext(ml),{pathname:i}=nu(),s=JSON.stringify(Uy(t));return Ae.useMemo(()=>zy(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function uI(n,e){return E3(n,e)}function E3(n,e,t,i,s){var ee;Li(Uf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Ae.useContext(Ra),{matches:u}=Ae.useContext(ml),c=u[u.length-1],f=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",w=c&&c.route;{let Q=w&&w.path||"";x3(d,!w||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let E=nu(),b;if(e){let Q=typeof e=="string"?Ff(e):e;Li(g==="/"||((ee=Q.pathname)==null?void 0:ee.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),b=Q}else b=E;let j=b.pathname||"/",M=j;if(g!=="/"){let Q=g.replace(/^\//,"").split("/");M="/"+j.replace(/^\//,"").split("/").slice(Q.length).join("/")}let U=f3(n,{pathname:M});Io(w||U!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Io(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=pI(U&&U.map(Q=>Object.assign({},Q,{params:Object.assign({},f,Q.params),pathname:Wl([g,o.encodeLocation?o.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?g:Wl([g,o.encodeLocation?o.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),u,t,i,s);return e&&V?Ae.createElement(Sp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},V):V}function cI(){let n=_I(),e=XN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=Ae.createElement(Ae.Fragment,null,Ae.createElement("p",null," Hey developer "),Ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ae.createElement("code",{style:o},"ErrorBoundary")," or"," ",Ae.createElement("code",{style:o},"errorElement")," prop on your route.")),Ae.createElement(Ae.Fragment,null,Ae.createElement("h2",null,"Unexpected Application Error!"),Ae.createElement("h3",{style:{fontStyle:"italic"}},e),t?Ae.createElement("pre",{style:s},t):null,u)}var hI=Ae.createElement(cI,null),S3=class extends Ae.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=aI(n.digest);t&&(n=t)}let e=n!==void 0?Ae.createElement(ml.Provider,{value:this.props.routeContext},Ae.createElement(qy.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?Ae.createElement(fI,{error:n},e):e}};S3.contextType=eI;var Z0=new WeakMap;function fI({children:n,error:e}){let{basename:t}=Ae.useContext(Ra);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=sI(e.digest);if(i){let s=Z0.get(e);if(s)throw s;let o=g3(i.location,t);if(m3&&!Z0.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Z0.set(e,u),u}return Ae.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function dI({routeContext:n,match:e,children:t}){let i=Ae.useContext(Bf);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Ae.createElement(ml.Provider,{value:n},t)}function pI(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);Li(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let c=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let w=o[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=g),w.route.id){let{loaderData:E,errors:b}=t,j=w.route.loader&&!E.hasOwnProperty(w.route.id)&&(!b||b[w.route.id]===void 0);if(w.route.lazy||j){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=t&&i?(g,w)=>{var E,b;i(g,{location:t.location,params:((b=(E=t.matches)==null?void 0:E[0])==null?void 0:b.params)??{},unstable_pattern:JN(t.matches),errorInfo:w})}:void 0;return o.reduceRight((g,w,E)=>{let b,j=!1,M=null,U=null;t&&(b=u&&w.route.id?u[w.route.id]:void 0,M=w.route.errorElement||hI,c&&(f<0&&E===0?(x3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,U=null):f===E&&(j=!0,U=w.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,E+1)),ee=()=>{let Q;return b?Q=M:j?Q=U:w.route.Component?Q=Ae.createElement(w.route.Component,null):w.route.element?Q=w.route.element:Q=g,Ae.createElement(dI,{match:w,routeContext:{outlet:g,matches:V,isDataRoute:t!=null},children:Q})};return t&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?Ae.createElement(S3,{location:t.location,revalidation:t.revalidation,component:M,error:b,children:ee(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:d}):ee()},null)}function Hy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mI(n){let e=Ae.useContext(Bf);return Li(e,Hy(n)),e}function gI(n){let e=Ae.useContext(Zg);return Li(e,Hy(n)),e}function yI(n){let e=Ae.useContext(ml);return Li(e,Hy(n)),e}function Gy(n){let e=yI(n),t=e.matches[e.matches.length-1];return Li(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function vI(){return Gy("useRouteId")}function _I(){var i;let n=Ae.useContext(qy),e=gI("useRouteError"),t=Gy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function bI(){let{router:n}=mI("useNavigate"),e=Gy("useNavigate"),t=Ae.useRef(!1);return w3(()=>{t.current=!0}),Ae.useCallback(async(s,o={})=>{Io(t.current,b3),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Vb={};function x3(n,e,t){!e&&!Vb[n]&&(Vb[n]=!0,Io(!1,t))}Ae.memo(wI);function wI({routes:n,future:e,state:t,onError:i}){return E3(n,void 0,t,i,e)}function AI({to:n,replace:e,state:t,relative:i}){Li(Uf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=Ae.useContext(Ra);Io(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=Ae.useContext(ml),{pathname:u}=nu(),c=A3(),f=zy(n,Uy(o),u,i==="path"),d=JSON.stringify(f);return Ae.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:i})},[c,d,i,e,t]),null}function Bu(n){Li(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){Li(!Uf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=Ae.useMemo(()=>({basename:c,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[c,s,o,u]);typeof t=="string"&&(t=Ff(t));let{pathname:d="/",search:g="",hash:w="",state:E=null,key:b="default"}=t,j=Ae.useMemo(()=>{let M=Ql(d,c);return M==null?null:{location:{pathname:M,search:g,hash:w,state:E,key:b},navigationType:i}},[c,d,g,w,E,b,i]);return Io(j!=null,`<Router basename="${c}"> is not able to match the URL "${d}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:Ae.createElement(Ra.Provider,{value:f},Ae.createElement(Sp.Provider,{children:e,value:j}))}function SI({children:n,location:e}){return uI(K2(n),e)}function K2(n,e=[]){let t=[];return Ae.Children.forEach(n,(i,s)=>{if(!Ae.isValidElement(i))return;let o=[...e,s];if(i.type===Ae.Fragment){t.push.apply(t,K2(i.props.children,o));return}Li(i.type===Bu,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Li(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=K2(i.props.children,o)),t.push(u)}),t}var Xm="get",Jm="application/x-www-form-urlencoded";function e1(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function xI(n){return e1(n)&&n.tagName.toLowerCase()==="button"}function TI(n){return e1(n)&&n.tagName.toLowerCase()==="form"}function NI(n){return e1(n)&&n.tagName.toLowerCase()==="input"}function II(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CI(n,e){return n.button===0&&(!e||e==="_self")&&!II(n)}var Dm=null;function RI(){if(Dm===null)try{new FormData(document.createElement("form"),0),Dm=!1}catch{Dm=!0}return Dm}var LI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function e2(n){return n!=null&&!LI.has(n)?(Io(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jm}"`),null):n}function kI(n,e){let t,i,s,o,u;if(TI(n)){let c=n.getAttribute("action");i=c?Ql(c,e):null,t=n.getAttribute("method")||Xm,s=e2(n.getAttribute("enctype"))||Jm,o=new FormData(n)}else if(xI(n)||NI(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(i=f?Ql(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Xm,s=e2(n.getAttribute("formenctype"))||e2(c.getAttribute("enctype"))||Jm,o=new FormData(c,n),!RI()){let{name:d,type:g,value:w}=n;if(g==="image"){let E=d?`${d}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else d&&o.append(d,w)}}else{if(e1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xm,i=null,s=Jm,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ky(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function DI(n,e,t,i){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&Ql(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function PI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function MI(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await PI(o,t);return u.links?u.links():[]}return[]}));return BI(i.flat(1).filter(OI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Fb(n,e,t,i,s,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,c=(f,d)=>{var g;return t[d].pathname!==f.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>u(f,d)||c(f,d)):o==="data"?e.filter((f,d)=>{var w;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function jI(n,e,{includeHydrateFallback:t}={}){return VI(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function VI(n){return[...new Set(n)]}function FI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function BI(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(FI(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}function T3(){let n=Ae.useContext(Bf);return Ky(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function UI(){let n=Ae.useContext(Zg);return Ky(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var $y=Ae.createContext(void 0);$y.displayName="FrameworkContext";function N3(){let n=Ae.useContext($y);return Ky(n,"You must render this element inside a <HydratedRouter> element"),n}function zI(n,e){let t=Ae.useContext($y),[i,s]=Ae.useState(!1),[o,u]=Ae.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:w}=e,E=Ae.useRef(null);Ae.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=V=>{V.forEach(ee=>{u(ee.isIntersecting)})},U=new IntersectionObserver(M,{threshold:.5});return E.current&&U.observe(E.current),()=>{U.disconnect()}}},[n]),Ae.useEffect(()=>{if(i){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[i]);let b=()=>{s(!0)},j=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Dd(c,b),onBlur:Dd(f,j),onMouseEnter:Dd(d,b),onMouseLeave:Dd(g,j),onTouchStart:Dd(w,b)}]:[!1,E,{}]}function Dd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function qI({page:n,...e}){let{router:t}=T3(),i=Ae.useMemo(()=>f3(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Ae.createElement(GI,{page:n,matches:i,...e}):null}function HI(n){let{manifest:e,routeModules:t}=N3(),[i,s]=Ae.useState([]);return Ae.useEffect(()=>{let o=!1;return MI(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),i}function GI({page:n,matches:e,...t}){let i=nu(),{future:s,manifest:o,routeModules:u}=N3(),{basename:c}=T3(),{loaderData:f,matches:d}=UI(),g=Ae.useMemo(()=>Fb(n,e,d,o,i,"data"),[n,e,d,o,i]),w=Ae.useMemo(()=>Fb(n,e,d,o,i,"assets"),[n,e,d,o,i]),E=Ae.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,U=!1;if(e.forEach(ee=>{var ne;let Q=o.routes[ee.route.id];!Q||!Q.hasLoader||(!g.some(me=>me.route.id===ee.route.id)&&ee.route.id in f&&((ne=u[ee.route.id])!=null&&ne.shouldRevalidate)||Q.hasClientLoader?U=!0:M.add(ee.route.id))}),M.size===0)return[];let V=DI(n,c,s.unstable_trailingSlashAwareDataRequests,"data");return U&&M.size>0&&V.searchParams.set("_routes",e.filter(ee=>M.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[V.pathname+V.search]},[c,s.unstable_trailingSlashAwareDataRequests,f,i,o,g,e,n,u]),b=Ae.useMemo(()=>jI(w,o),[w,o]),j=HI(w);return Ae.createElement(Ae.Fragment,null,E.map(M=>Ae.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),b.map(M=>Ae.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),j.map(({key:M,link:U})=>Ae.createElement("link",{key:M,nonce:t.nonce,...U,crossOrigin:U.crossOrigin??t.crossOrigin})))}function KI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $I=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$I&&(window.__reactRouterVersion="7.13.0")}catch{}function YI({basename:n,children:e,unstable_useTransitions:t,window:i}){let s=Ae.useRef();s.current==null&&(s.current=NN({window:i,v5Compat:!0}));let o=s.current,[u,c]=Ae.useState({action:o.action,location:o.location}),f=Ae.useCallback(d=>{t===!1?c(d):Ae.startTransition(()=>c(d))},[t]);return Ae.useLayoutEffect(()=>o.listen(f),[o,f]),Ae.createElement(EI,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:t})}var I3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hf=Ae.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:c,target:f,to:d,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:E,...b},j){let{basename:M,unstable_useTransitions:U}=Ae.useContext(Ra),V=typeof d=="string"&&I3.test(d),ee=g3(d,M);d=ee.to;let Q=oI(d,{relative:s}),[ne,me,fe]=zI(i,b),z=XI(d,{replace:u,state:c,target:f,preventScrollReset:g,relative:s,viewTransition:w,unstable_defaultShouldRevalidate:E,unstable_useTransitions:U});function D(q){e&&e(q),q.defaultPrevented||z(q)}let C=Ae.createElement("a",{...b,...fe,href:ee.absoluteURL||Q,onClick:ee.isExternal||o?e:D,ref:KI(j,me),target:f,"data-discover":!V&&t==="render"?"true":void 0});return ne&&!V?Ae.createElement(Ae.Fragment,null,C,Ae.createElement(qI,{page:Q})):C});hf.displayName="Link";var C3=Ae.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:c,children:f,...d},g){let w=xp(u,{relative:d.relative}),E=nu(),b=Ae.useContext(Zg),{navigator:j,basename:M}=Ae.useContext(Ra),U=b!=null&&nC(w)&&c===!0,V=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,ee=E.pathname,Q=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),Q=Q?Q.toLowerCase():null,V=V.toLowerCase()),Q&&M&&(Q=Ql(Q,M)||Q);const ne=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let me=ee===V||!s&&ee.startsWith(V)&&ee.charAt(ne)==="/",fe=Q!=null&&(Q===V||!s&&Q.startsWith(V)&&Q.charAt(V.length)==="/"),z={isActive:me,isPending:fe,isTransitioning:U},D=me?e:void 0,C;typeof i=="function"?C=i(z):C=[i,me?"active":null,fe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(z):o;return Ae.createElement(hf,{...d,"aria-current":D,className:C,ref:g,style:q,to:u,viewTransition:c},typeof f=="function"?f(z):f)});C3.displayName="NavLink";var WI=Ae.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:u=Xm,action:c,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:E,...b},j)=>{let{unstable_useTransitions:M}=Ae.useContext(Ra),U=eC(),V=tC(c,{relative:d}),ee=u.toLowerCase()==="get"?"get":"post",Q=typeof c=="string"&&I3.test(c),ne=me=>{if(f&&f(me),me.defaultPrevented)return;me.preventDefault();let fe=me.nativeEvent.submitter,z=(fe==null?void 0:fe.getAttribute("formmethod"))||u,D=()=>U(fe||me.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:s,state:o,relative:d,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:E});M&&t!==!1?Ae.startTransition(()=>D()):D()};return Ae.createElement("form",{ref:j,method:ee,action:V,onSubmit:i?f:ne,...b,"data-discover":!Q&&n==="render"?"true":void 0})});WI.displayName="Form";function QI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R3(n){let e=Ae.useContext(Bf);return Li(e,QI(n)),e}function XI(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let d=A3(),g=nu(),w=xp(n,{relative:o});return Ae.useCallback(E=>{if(CI(E,e)){E.preventDefault();let b=t!==void 0?t:sp(g)===sp(w),j=()=>d(n,{replace:b,state:i,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c});f?Ae.startTransition(()=>j()):j()}},[g,d,w,t,i,e,n,s,o,u,c,f])}var JI=0,ZI=()=>`__${String(++JI)}__`;function eC(){let{router:n}=R3("useSubmit"),{basename:e}=Ae.useContext(Ra),t=vI(),i=n.fetch,s=n.navigate;return Ae.useCallback(async(o,u={})=>{let{action:c,method:f,encType:d,formData:g,body:w}=kI(o,e);if(u.navigate===!1){let E=u.fetcherKey||ZI();await i(E,t,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||d,flushSync:u.flushSync})}else await s(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,s,e,t])}function tC(n,{relative:e}={}){let{basename:t}=Ae.useContext(Ra),i=Ae.useContext(ml);Li(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...xp(n||".",{relative:e})},u=nu();if(n==null){o.search=u.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(w=>w).forEach(w=>c.append("index",w));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Wl([t,o.pathname])),sp(o)}function nC(n,{relative:e}={}){let t=Ae.useContext(v3);Li(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=R3("useViewTransitionState"),s=xp(n,{relative:e});if(!t.isTransitioning)return!1;let o=Ql(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Ql(t.nextLocation.pathname,i)||t.nextLocation.pathname;return wg(s.pathname,u)!=null||wg(s.pathname,o)!=null}const iC=()=>{};var Bb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},rC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],c=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},k3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,c=u?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,g=o>>2,w=(o&3)<<4|c>>4;let E=(c&15)<<2|d>>6,b=d&63;f||(b=64,u||(E=64)),i.push(t[g],t[w],t[E],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(L3(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||d==null||w==null)throw new sC;const E=o<<2|c>>4;if(i.push(E),d!==64){const b=c<<4&240|d>>2;if(i.push(b),w!==64){const j=d<<6&192|w;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aC=function(n){const e=L3(n);return k3.encodeByteArray(e,!0)},Ag=function(n){return aC(n).replace(/\./g,"")},D3=function(n){try{return k3.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=()=>P3().__FIREBASE_DEFAULTS__,lC=()=>{if(typeof process>"u"||typeof Bb>"u")return;const n=Bb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&D3(n[1]);return e&&JSON.parse(e)},t1=()=>{try{return iC()||oC()||lC()||uC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},O3=n=>{var e,t;return(t=(e=t1())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},cC=n=>{const e=O3(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},M3=()=>{var n;return(n=t1())==null?void 0:n.config},j3=n=>{var e;return(e=t1())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function V3(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ag(JSON.stringify(t)),Ag(JSON.stringify(u)),""].join(".")}const $d={};function dC(){const n={prod:[],emulator:[]};for(const e of Object.keys($d))$d[e]?n.emulator.push(e):n.prod.push(e);return n}function pC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ub=!1;function F3(n,e){if(typeof window>"u"||typeof document>"u"||!zf(window.location.host)||$d[n]===e||$d[n]||Ub)return;$d[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=dC().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function c(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,b){E.setAttribute("width","24"),E.setAttribute("id",b),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function d(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Ub=!0,u()},E}function g(E,b){E.setAttribute("id",b),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=pC(i),b=t("text"),j=document.getElementById(b)||document.createElement("span"),M=t("learnmore"),U=document.getElementById(M)||document.createElement("a"),V=t("preprendIcon"),ee=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Q=E.element;c(Q),g(U,M);const ne=d();f(ee,V),Q.append(ee,j,U,ne),document.body.appendChild(Q)}o?(j.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function B3(){var e;const n=(e=t1())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U3(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vC(){const n=Lr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function z3(){return!B3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q3(){return!B3()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Yy(){try{return typeof indexedDB=="object"}catch{return!1}}function H3(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}function _C(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="FirebaseError";class Lo extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=bC,Object.setPrototypeOf(this,Lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sh.prototype.create)}}class sh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?wC(o,i):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new Lo(s,c,i)}}function wC(n,e){return n.replace(AC,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const AC=/\{\$([^}]+)}/g;function EC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ec(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const o=n[s],u=e[s];if(zb(o)&&zb(u)){if(!ec(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function zb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function SC(n,e){const t=new xC(n,e);return t.subscribe.bind(t)}class xC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");TC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=t2),s.error===void 0&&(s.error=t2),s.complete===void 0&&(s.complete=t2);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function t2(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1e3,IC=2,CC=14400*1e3,RC=.5;function qb(n,e=NC,t=IC){const i=e*Math.pow(t,n),s=Math.round(RC*i*(Math.random()-.5)*2);return Math.min(CC,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(n){return n&&n._delegate?n._delegate:n}class Co{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new hC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DC(e))try{this.getOrInitializeService({instanceIdentifier:Cc})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Cc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cc){return this.instances.has(e)}getOptions(e=Cc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&u.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Cc){return this.component?this.component.multipleInstances?e:Cc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kC(n){return n===Cc?void 0:n}function DC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(En||(En={}));const OC={debug:En.DEBUG,verbose:En.VERBOSE,info:En.INFO,warn:En.WARN,error:En.ERROR,silent:En.SILENT},MC=En.INFO,jC={[En.DEBUG]:"log",[En.VERBOSE]:"log",[En.INFO]:"info",[En.WARN]:"warn",[En.ERROR]:"error"},VC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=jC[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class n1{constructor(e){this.name=e,this._logLevel=MC,this._logHandler=VC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in En))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,En.DEBUG,...e),this._logHandler(this,En.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,En.VERBOSE,...e),this._logHandler(this,En.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,En.INFO,...e),this._logHandler(this,En.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,En.WARN,...e),this._logHandler(this,En.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,En.ERROR,...e),this._logHandler(this,En.ERROR,...e)}}const FC=(n,e)=>e.some(t=>n instanceof t);let Hb,Gb;function BC(){return Hb||(Hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UC(){return Gb||(Gb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G3=new WeakMap,$2=new WeakMap,K3=new WeakMap,n2=new WeakMap,Wy=new WeakMap;function zC(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Yu(n.result)),s()},u=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&G3.set(t,n)}).catch(()=>{}),Wy.set(e,n),e}function qC(n){if($2.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});$2.set(n,e)}let Y2={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $2.get(n);if(e==="objectStoreNames")return n.objectStoreNames||K3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HC(n){Y2=n(Y2)}function GC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(i2(this),e,...t);return K3.set(i,e.sort?e.sort():[e]),Yu(i)}:UC().includes(n)?function(...e){return n.apply(i2(this),e),Yu(G3.get(this))}:function(...e){return Yu(n.apply(i2(this),e))}}function KC(n){return typeof n=="function"?GC(n):(n instanceof IDBTransaction&&qC(n),FC(n,BC())?new Proxy(n,Y2):n)}function Yu(n){if(n instanceof IDBRequest)return zC(n);if(n2.has(n))return n2.get(n);const e=KC(n);return e!==n&&(n2.set(n,e),Wy.set(e,n)),e}const i2=n=>Wy.get(n);function $3(n,e,{blocked:t,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),c=Yu(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Yu(u.result),f.oldVersion,f.newVersion,Yu(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const $C=["get","getKey","getAll","getAllKeys","count"],YC=["put","add","delete","clear"],r2=new Map;function Kb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(r2.get(e))return r2.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=YC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||$C.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),s&&f.done]))[0]};return r2.set(e,o),o}HC(n=>({...n,get:(e,t,i)=>Kb(e,t)||n.get(e,t,i),has:(e,t)=>!!Kb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function QC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const W2="@firebase/app",$b="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new n1("@firebase/app"),XC="@firebase/app-compat",JC="@firebase/analytics-compat",ZC="@firebase/analytics",eR="@firebase/app-check-compat",tR="@firebase/app-check",nR="@firebase/auth",iR="@firebase/auth-compat",rR="@firebase/database",sR="@firebase/data-connect",aR="@firebase/database-compat",oR="@firebase/functions",lR="@firebase/functions-compat",uR="@firebase/installations",cR="@firebase/installations-compat",hR="@firebase/messaging",fR="@firebase/messaging-compat",dR="@firebase/performance",pR="@firebase/performance-compat",mR="@firebase/remote-config",gR="@firebase/remote-config-compat",yR="@firebase/storage",vR="@firebase/storage-compat",_R="@firebase/firestore",bR="@firebase/ai",wR="@firebase/firestore-compat",AR="firebase",ER="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="[DEFAULT]",SR={[W2]:"fire-core",[XC]:"fire-core-compat",[ZC]:"fire-analytics",[JC]:"fire-analytics-compat",[tR]:"fire-app-check",[eR]:"fire-app-check-compat",[nR]:"fire-auth",[iR]:"fire-auth-compat",[rR]:"fire-rtdb",[sR]:"fire-data-connect",[aR]:"fire-rtdb-compat",[oR]:"fire-fn",[lR]:"fire-fn-compat",[uR]:"fire-iid",[cR]:"fire-iid-compat",[hR]:"fire-fcm",[fR]:"fire-fcm-compat",[dR]:"fire-perf",[pR]:"fire-perf-compat",[mR]:"fire-rc",[gR]:"fire-rc-compat",[yR]:"fire-gcs",[vR]:"fire-gcs-compat",[_R]:"fire-fst",[wR]:"fire-fst-compat",[bR]:"fire-vertex","fire-js":"fire-js",[AR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=new Map,xR=new Map,X2=new Map;function Yb(n,e){try{n.container.addComponent(e)}catch(t){Xl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function dl(n){const e=n.name;if(X2.has(e))return Xl.debug(`There were multiple attempts to register component ${e}.`),!1;X2.set(e,n);for(const t of Eg.values())Yb(t,n);for(const t of xR.values())Yb(t,n);return!0}function ah(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function sl(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wu=new sh("app","Firebase",TR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=ER;function Y3(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Q2,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw Wu.create("bad-app-name",{appName:String(s)});if(t||(t=M3()),!t)throw Wu.create("no-options");const o=Eg.get(s);if(o){if(ec(t,o.options)&&ec(i,o.config))return o;throw Wu.create("duplicate-app",{appName:s})}const u=new PC(s);for(const f of X2.values())u.addComponent(f);const c=new NR(t,i,u);return Eg.set(s,c),c}function Qy(n=Q2){const e=Eg.get(n);if(!e&&n===Q2&&M3())return Y3();if(!e)throw Wu.create("no-app",{appName:n});return e}function Ja(n,e,t){let i=SR[n]??n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xl.warn(u.join(" "));return}dl(new Co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firebase-heartbeat-database",CR=1,ap="firebase-heartbeat-store";let s2=null;function W3(){return s2||(s2=$3(IR,CR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ap)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wu.create("idb-open",{originalErrorMessage:n.message})})),s2}async function RR(n){try{const t=(await W3()).transaction(ap),i=await t.objectStore(ap).get(Q3(n));return await t.done,i}catch(e){if(e instanceof Lo)Xl.warn(e.message);else{const t=Wu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xl.warn(t.message)}}}async function Wb(n,e){try{const i=(await W3()).transaction(ap,"readwrite");await i.objectStore(ap).put(e,Q3(n)),await i.done}catch(t){if(t instanceof Lo)Xl.warn(t.message);else{const i=Wu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xl.warn(i.message)}}}function Q3(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=1024,kR=30;class DR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Qb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>kR){const u=MR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xl.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qb(),{heartbeatsToSend:i,unsentEntries:s}=PR(this._heartbeatsCache.heartbeats),o=Ag(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Xl.warn(t),""}}}function Qb(){return new Date().toISOString().substring(0,10)}function PR(n,e=LR){const t=[];let i=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),Xb(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Xb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class OR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yy()?H3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xb(n){return Ag(JSON.stringify({version:2,heartbeats:n})).length}function MR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(n){dl(new Co("platform-logger",e=>new WC(e),"PRIVATE")),dl(new Co("heartbeat",e=>new DR(e),"PRIVATE")),Ja(W2,$b,n),Ja(W2,$b,"esm2020"),Ja("fire-js","")}jR("");var VR="firebase",FR="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja(VR,FR,"app");function X3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BR=X3,J3=new sh("auth","Firebase",X3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new n1("@firebase/auth");function UR(n,...e){Sg.logLevel<=En.WARN&&Sg.warn(`Auth (${qf}): ${n}`,...e)}function Zm(n,...e){Sg.logLevel<=En.ERROR&&Sg.error(`Auth (${qf}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(n,...e){throw Xy(n,...e)}function ul(n,...e){return Xy(n,...e)}function Z3(n,e,t){const i={...BR(),[e]:t};return new sh("auth","Firebase",i).create(e,{appName:n.name})}function Bc(n){return Z3(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return J3.create(n,...e)}function Yt(n,e,...t){if(!n)throw Xy(e,...t)}function Kl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zm(e),new Error(e)}function Zl(n,e){n||Kl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function zR(){return Jb()==="http:"||Jb()==="https:"}function Jb(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zR()||U3()||"connection"in navigator)?navigator.onLine:!0}function HR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zl(t>e,"Short delay should be less than long delay!"),this.isMobile=mC()||yC()}get(){return qR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n,e){Zl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$R=new Np(3e4,6e4);function Zy(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Hf(n,e,t,i,s={}){return tE(n,s,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const c=Tp({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return gC()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&zf(n.emulatorConfig.host)&&(d.credentials="include"),eE.fetch()(await nE(n,n.config.apiHost,t,c),d)})}async function tE(n,e,t){n._canInitEmulator=!1;const i={...GR,...e};try{const s=new WR(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Pm(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pm(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Pm(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Pm(n,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Z3(n,g,d);Jl(n,g)}}catch(s){if(s instanceof Lo)throw s;Jl(n,"network-request-failed",{message:String(s)})}}async function YR(n,e,t,i,s={}){const o=await Hf(n,e,t,i,s);return"mfaPendingCredential"in o&&Jl(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function nE(n,e,t,i){const s=`${e}${t}?${i}`,o=n,u=o.config.emulator?Jy(n.config,s):`${n.config.apiScheme}://${s}`;return KR.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class WR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ul(this.auth,"network-request-failed")),$R.get())})}}function Pm(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=ul(n,e,i);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(n,e){return Hf(n,"POST","/v1/accounts:delete",e)}async function xg(n,e){return Hf(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XR(n,e=!1){const t=sr(n),i=await t.getIdToken(e),s=ev(i);Yt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Yd(a2(s.auth_time)),issuedAtTime:Yd(a2(s.iat)),expirationTime:Yd(a2(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function a2(n){return Number(n)*1e3}function ev(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Zm("JWT malformed, contained fewer than 3 sections"),null;try{const s=D3(t);return s?JSON.parse(s):(Zm("Failed to decode base64 JWT payload"),null)}catch(s){return Zm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Zb(n){const e=ev(n);return Yt(e,"internal-error"),Yt(typeof e.exp<"u","internal-error"),Yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Lo&&JR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function JR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yd(this.lastLoginAt),this.creationTime=Yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tg(n){var w;const e=n.auth,t=await n.getIdToken(),i=await op(n,xg(e,{idToken:t}));Yt(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(w=s.providerUserInfo)!=null&&w.length?iE(s.providerUserInfo):[],u=t8(n.providerData,o),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),d=c?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Z2(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function e8(n){const e=sr(n);await Tg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t8(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function iE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(n,e){const t=await tE(n,{},async()=>{const i=Tp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await nE(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:i};return n.emulatorConfig&&zf(n.emulatorConfig.host)&&(f.credentials="include"),eE.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function i8(n,e){return Hf(n,"POST","/v2/accounts:revokeToken",Zy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Yt(e.idToken,"internal-error"),Yt(typeof e.idToken<"u","internal-error"),Yt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Yt(e.length!==0,"internal-error");const t=Zb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await n8(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,u=new ff;return i&&(Yt(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(Yt(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Yt(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ff,this.toJSON())}_performRefresh(){return Kl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(n,e){Yt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class To{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new ZR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Z2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await op(this,this.stsTokenManager.getToken(this.auth,e));return Yt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return XR(this,e)}reload(){return e8(this)}_assign(e){this!==e&&(Yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new To({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Tg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sl(this.auth.app))return Promise.reject(Bc(this.auth));const e=await this.getIdToken();return await op(this,QR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:b,providerData:j,stsTokenManager:M}=t;Yt(w&&M,e,"internal-error");const U=ff.fromJSON(this.name,M);Yt(typeof w=="string",e,"internal-error"),Pu(i,e.name),Pu(s,e.name),Yt(typeof E=="boolean",e,"internal-error"),Yt(typeof b=="boolean",e,"internal-error"),Pu(o,e.name),Pu(u,e.name),Pu(c,e.name),Pu(f,e.name),Pu(d,e.name),Pu(g,e.name);const V=new To({uid:w,auth:e,email:s,emailVerified:E,displayName:i,isAnonymous:b,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:U,createdAt:d,lastLoginAt:g});return j&&Array.isArray(j)&&(V.providerData=j.map(ee=>({...ee}))),f&&(V._redirectEventId=f),V}static async _fromIdTokenResponse(e,t,i=!1){const s=new ff;s.updateFromServerResponse(t);const o=new To({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Tg(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Yt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?iE(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new ff;c.updateFromIdToken(i);const f=new To({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Z2(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;function $l(n){Zl(n instanceof Function,"Expected a class definition");let e=ew.get(n);return e?(Zl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ew.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rE.type="NONE";const tw=rE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(n,e,t){return`firebase:${n}:${e}:${t}`}class df{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=eg(this.userKey,s.apiKey,o),this.fullPersistenceKey=eg("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xg(this.auth,{idToken:e}).catch(()=>{});return t?To._fromGetAccountInfoResponse(this.auth,t,e):null}return To._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new df($l(tw),e,i);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||$l(tw);const u=eg(i,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(u);if(g){let w;if(typeof g=="string"){const E=await xg(e,{idToken:g}).catch(()=>{});if(!E)break;w=await To._fromGetAccountInfoResponse(e,E,g)}else w=To._fromJSON(e,g);d!==o&&(c=w),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new df(o,e,i):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new df(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cE(e))return"Blackberry";if(hE(e))return"Webos";if(aE(e))return"Safari";if((e.includes("chrome/")||oE(e))&&!e.includes("edge/"))return"Chrome";if(uE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function sE(n=Lr()){return/firefox\//i.test(n)}function aE(n=Lr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oE(n=Lr()){return/crios\//i.test(n)}function lE(n=Lr()){return/iemobile/i.test(n)}function uE(n=Lr()){return/android/i.test(n)}function cE(n=Lr()){return/blackberry/i.test(n)}function hE(n=Lr()){return/webos/i.test(n)}function tv(n=Lr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function r8(n=Lr()){var e;return tv(n)&&!!((e=window.navigator)!=null&&e.standalone)}function s8(){return vC()&&document.documentMode===10}function fE(n=Lr()){return tv(n)||uE(n)||hE(n)||cE(n)||/windows phone/i.test(n)||lE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(n,e=[]){let t;switch(n){case"Browser":t=nw(Lr());break;case"Worker":t=`${nw(Lr())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qf}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o8(n,e={}){return Hf(n,"GET","/v2/passwordPolicy",Zy(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=6;class u8{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??l8,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iw(this),this.idTokenSubscription=new iw(this),this.beforeStateQueue=new a8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$l(t)),this._initializationPromise=this.queue(async()=>{var i,s,o;if(!this._deleted&&(this.persistenceManager=await df.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xg(this,{idToken:e}),i=await To._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(sl(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(o=this.redirectUser)==null?void 0:o._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&(f!=null&&f.user)&&(i=f.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sl(this.app))return Promise.reject(Bc(this));const t=e?sr(e):null;return t&&Yt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sl(this.app)?Promise.reject(Bc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sl(this.app)?Promise.reject(Bc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($l(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o8(this),t=new u8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await i8(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$l(e)||this._popupRedirectResolver;Yt(t,this,"argument-error"),this.redirectPersistenceManager=await df.create(this,[$l(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Yt(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(sl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&UR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function nv(n){return sr(n)}class iw{constructor(e){this.auth=e,this.observer=null,this.addObserver=SC(t=>this.observer=t)}get next(){return Yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h8(n){iv=n}function f8(n){return iv.loadJS(n)}function d8(){return iv.gapiScript}function p8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(n,e){const t=ah(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(ec(o,e??{}))return s;Jl(s,"already-initialized")}return t.initialize({options:e})}function g8(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map($l);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function y8(n,e,t){const i=nv(n);Yt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=pE(e),{host:u,port:c}=v8(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Yt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Yt(ec(d,i.config.emulator)&&ec(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,zf(u)?(V3(`${o}//${u}${f}`),F3("Auth",!0)):_8()}function pE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function v8(n){const e=pE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:rw(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:rw(u)}}}function rw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kl("not implemented")}_getIdTokenResponse(e){return Kl("not implemented")}_linkToIdToken(e,t){return Kl("not implemented")}_getReauthenticationResolver(e){return Kl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(n,e){return YR(n,"POST","/v1/accounts:signInWithIdp",Zy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="http://localhost";class $c extends mE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $c(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...o}=t;if(!i||!s)return null;const u=new $c(i,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return pf(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,pf(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pf(e,t)}buildRequest(){const e={requestUri:b8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tp(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends gE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Ip{constructor(){super("facebook.com")}static credential(e){return $c._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uu.credentialFromTaggedObject(e)}static credentialFromError(e){return Uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uu.credential(e.oauthAccessToken)}catch{return null}}}Uu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Ip{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $c._fromParams({providerId:zu.PROVIDER_ID,signInMethod:zu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zu.credentialFromTaggedObject(e)}static credentialFromError(e){return zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return zu.credential(t,i)}catch{return null}}}zu.GOOGLE_SIGN_IN_METHOD="google.com";zu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Ip{constructor(){super("github.com")}static credential(e){return $c._fromParams({providerId:qu.PROVIDER_ID,signInMethod:qu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qu.credentialFromTaggedObject(e)}static credentialFromError(e){return qu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qu.credential(e.oauthAccessToken)}catch{return null}}}qu.GITHUB_SIGN_IN_METHOD="github.com";qu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends Ip{constructor(){super("twitter.com")}static credential(e,t){return $c._fromParams({providerId:Hu.PROVIDER_ID,signInMethod:Hu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hu.credentialFromTaggedObject(e)}static credentialFromError(e){return Hu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Hu.credential(t,i)}catch{return null}}}Hu.TWITTER_SIGN_IN_METHOD="twitter.com";Hu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await To._fromIdTokenResponse(e,i,s),u=sw(i);return new Ef({user:o,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=sw(i);return new Ef({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function sw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends Lo{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Ng.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Ng(e,t,i,s)}}function yE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ng._fromErrorAndOperation(n,o,e,i):o})}async function w8(n,e,t=!1){const i=await op(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ef._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(n,e,t=!1){const{auth:i}=n;if(sl(i.app))return Promise.reject(Bc(i));const s="reauthenticate";try{const o=await op(n,yE(i,s,e,n),t);Yt(o.idToken,i,"internal-error");const u=ev(o.idToken);Yt(u,i,"internal-error");const{sub:c}=u;return Yt(n.uid===c,i,"user-mismatch"),Ef._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Jl(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E8(n,e,t=!1){if(sl(n.app))return Promise.reject(Bc(n));const i="signIn",s=await yE(n,i,e),o=await Ef._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}function S8(n,e,t,i){return sr(n).onIdTokenChanged(e,t,i)}function x8(n,e,t){return sr(n).beforeAuthStateChanged(e,t)}const Ig="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ig,"1"),this.storage.removeItem(Ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=1e3,N8=10;class _E extends vE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);s8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,N8):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},T8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_E.type="LOCAL";const I8=_E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends vE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bE.type="SESSION";const wE=bE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new i1(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(u).map(async d=>d(t.origin,o)),f=await C8(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}i1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=rv("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(){return window}function L8(n){cl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){return typeof cl().WorkerGlobalScope<"u"&&typeof cl().importScripts=="function"}async function k8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D8(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function P8(){return AE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="firebaseLocalStorageDb",O8=1,Cg="firebaseLocalStorage",SE="fbase_key";class Cp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function r1(n,e){return n.transaction([Cg],e?"readwrite":"readonly").objectStore(Cg)}function M8(){const n=indexedDB.deleteDatabase(EE);return new Cp(n).toPromise()}function ey(){const n=indexedDB.open(EE,O8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Cg,{keyPath:SE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Cg)?e(i):(i.close(),await M8(),e(await ey()))})})}async function aw(n,e,t){const i=r1(n,!0).put({[SE]:e,value:t});return new Cp(i).toPromise()}async function j8(n,e){const t=r1(n,!1).get(e),i=await new Cp(t).toPromise();return i===void 0?null:i.value}function ow(n,e){const t=r1(n,!0).delete(e);return new Cp(t).toPromise()}const V8=800,F8=3;class xE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ey(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>F8)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=i1._getInstance(P8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await k8(),!this.activeServiceWorker)return;this.sender=new R8(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||D8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ey();return await aw(e,Ig,"1"),await ow(e,Ig),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>aw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>j8(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ow(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=r1(s,!1).getAll();return new Cp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xE.type="LOCAL";const B8=xE;new Np(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(n,e){return e?$l(e):(Yt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends mE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function z8(n){return E8(n.auth,new sv(n),n.bypassAuthState)}function q8(n){const{auth:e,user:t}=n;return Yt(t,e,"internal-error"),A8(t,new sv(n),n.bypassAuthState)}async function H8(n){const{auth:e,user:t}=n;return Yt(t,e,"internal-error"),w8(t,new sv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z8;case"linkViaPopup":case"linkViaRedirect":return H8;case"reauthViaPopup":case"reauthViaRedirect":return q8;default:Jl(this.auth,"internal-error")}}resolve(e){Zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=new Np(2e3,1e4);class uf extends TE{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,uf.currentPopupAction&&uf.currentPopupAction.cancel(),uf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Yt(e,this.auth,"internal-error"),e}async onExecution(){Zl(this.filter.length===1,"Popup operations only handle one event");const e=rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ul(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ul(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ul(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G8.get())};e()}}uf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8="pendingRedirect",tg=new Map;class $8 extends TE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=tg.get(this.auth._key());if(!e){try{const i=await Y8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}tg.set(this.auth._key(),e)}return this.bypassAuthState||tg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y8(n,e){const t=X8(e),i=Q8(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function W8(n,e){tg.set(n._key(),e)}function Q8(n){return $l(n._redirectPersistence)}function X8(n){return eg(K8,n.config.apiKey,n.name)}async function J8(n,e,t=!1){if(sl(n.app))return Promise.reject(Bc(n));const i=nv(n),s=U8(i,e),u=await new $8(i,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=600*1e3;class eL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!NE(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(ul(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z8&&this.cachedEventUids.clear(),this.cachedEventUids.has(lw(e))}saveEventToCache(e){this.cachedEventUids.add(lw(e)),this.lastProcessedEventTime=Date.now()}}function lw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function NE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(n,e={}){return Hf(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rL=/^https?/;async function sL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nL(n);for(const t of e)try{if(aL(t))return}catch{}Jl(n,"unauthorized-domain")}function aL(n){const e=J2(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!rL.test(t))return!1;if(iL.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=new Np(3e4,6e4);function uw(){const n=cl().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lL(n){return new Promise((e,t)=>{var s,o,u;function i(){uw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uw(),t(ul(n,"network-request-failed"))},timeout:oL.get()})}if((o=(s=cl().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((u=cl().gapi)!=null&&u.load)i();else{const c=p8("iframefcb");return cl()[c]=()=>{gapi.load?i():t(ul(n,"network-request-failed"))},f8(`${d8()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw ng=null,e})}let ng=null;function uL(n){return ng=ng||lL(n),ng}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new Np(5e3,15e3),hL="__/auth/iframe",fL="emulator/auth/iframe",dL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mL(n){const e=n.config;Yt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Jy(e,fL):`https://${n.config.authDomain}/${hL}`,i={apiKey:e.apiKey,appName:n.name,v:qf},s=pL.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Tp(i).slice(1)}`}async function gL(n){const e=await uL(n),t=cl().gapi;return Yt(t,n,"internal-error"),e.open({where:document.body,url:mL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dL,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const u=ul(n,"network-request-failed"),c=cl().setTimeout(()=>{o(u)},cL.get());function f(){cl().clearTimeout(c),s(i)}i.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vL=500,_L=600,bL="_blank",wL="http://localhost";class cw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AL(n,e,t,i=vL,s=_L){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const f={...yL,width:i.toString(),height:s.toString(),top:o,left:u},d=Lr().toLowerCase();t&&(c=oE(d)?bL:t),sE(d)&&(e=e||wL,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[b,j])=>`${E}${b}=${j},`,"");if(r8(d)&&c!=="_self")return EL(e||"",c),new cw(null);const w=window.open(e||"",c,g);Yt(w,n,"popup-blocked");try{w.focus()}catch{}return new cw(w)}function EL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="__/auth/handler",xL="emulator/auth/handler",TL=encodeURIComponent("fac");async function hw(n,e,t,i,s,o){Yt(n.config.authDomain,n,"auth-domain-config-required"),Yt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:qf,eventId:s};if(e instanceof gE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",EC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof Ip){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),d=f?`#${TL}=${encodeURIComponent(f)}`:"";return`${NL(n)}?${Tp(c).slice(1)}${d}`}function NL({config:n}){return n.emulator?Jy(n,xL):`https://${n.authDomain}/${SL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="webStorageSupport";class IL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wE,this._completeRedirectFn=J8,this._overrideRedirectResult=W8}async _openPopup(e,t,i,s){var u;Zl((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const o=await hw(e,t,i,J2(),s);return AL(e,o,rv())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await hw(e,t,i,J2(),s);return L8(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Zl(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await gL(e),i=new eL(e);return t.register("authEvent",s=>(Yt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(o2,{type:o2},s=>{var u;const o=(u=s==null?void 0:s[0])==null?void 0:u[o2];o!==void 0&&t(!!o),Jl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fE()||aE()||tv()}}const CL=IL;var fw="@firebase/auth",dw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kL(n){dl(new Co("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=i.options;Yt(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dE(n)},d=new c8(i,s,o,f);return g8(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),dl(new Co("auth-internal",e=>{const t=nv(e.getProvider("auth").getImmediate());return(i=>new RL(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ja(fw,dw,LL(n)),Ja(fw,dw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=300,PL=j3("authIdTokenMaxAge")||DL;let pw=null;const OL=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>PL)return;const s=t==null?void 0:t.token;pw!==s&&(pw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ML(n=Qy()){const e=ah(n,"auth");if(e.isInitialized())return e.getImmediate();const t=m8(n,{popupRedirectResolver:CL,persistence:[B8,I8,wE]}),i=j3("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=OL(o.toString());x8(t,u,()=>u(t.currentUser)),S8(t,c=>u(c))}}const s=O3("auth");return s&&y8(t,`http://${s}`),t}function jL(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}h8({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=ul("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",jL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kL("Browser");var mw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qu,IE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,D){function C(){}C.prototype=D.prototype,z.F=D.prototype,z.prototype=new C,z.prototype.constructor=z,z.D=function(q,I,P){for(var O=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)O[ue-2]=arguments[ue];return D.prototype[I].apply(q,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(z,D,C){C||(C=0);const q=Array(16);if(typeof D=="string")for(var I=0;I<16;++I)q[I]=D.charCodeAt(C++)|D.charCodeAt(C++)<<8|D.charCodeAt(C++)<<16|D.charCodeAt(C++)<<24;else for(I=0;I<16;++I)q[I]=D[C++]|D[C++]<<8|D[C++]<<16|D[C++]<<24;D=z.g[0],C=z.g[1],I=z.g[2];let P=z.g[3],O;O=D+(P^C&(I^P))+q[0]+3614090360&4294967295,D=C+(O<<7&4294967295|O>>>25),O=P+(I^D&(C^I))+q[1]+3905402710&4294967295,P=D+(O<<12&4294967295|O>>>20),O=I+(C^P&(D^C))+q[2]+606105819&4294967295,I=P+(O<<17&4294967295|O>>>15),O=C+(D^I&(P^D))+q[3]+3250441966&4294967295,C=I+(O<<22&4294967295|O>>>10),O=D+(P^C&(I^P))+q[4]+4118548399&4294967295,D=C+(O<<7&4294967295|O>>>25),O=P+(I^D&(C^I))+q[5]+1200080426&4294967295,P=D+(O<<12&4294967295|O>>>20),O=I+(C^P&(D^C))+q[6]+2821735955&4294967295,I=P+(O<<17&4294967295|O>>>15),O=C+(D^I&(P^D))+q[7]+4249261313&4294967295,C=I+(O<<22&4294967295|O>>>10),O=D+(P^C&(I^P))+q[8]+1770035416&4294967295,D=C+(O<<7&4294967295|O>>>25),O=P+(I^D&(C^I))+q[9]+2336552879&4294967295,P=D+(O<<12&4294967295|O>>>20),O=I+(C^P&(D^C))+q[10]+4294925233&4294967295,I=P+(O<<17&4294967295|O>>>15),O=C+(D^I&(P^D))+q[11]+2304563134&4294967295,C=I+(O<<22&4294967295|O>>>10),O=D+(P^C&(I^P))+q[12]+1804603682&4294967295,D=C+(O<<7&4294967295|O>>>25),O=P+(I^D&(C^I))+q[13]+4254626195&4294967295,P=D+(O<<12&4294967295|O>>>20),O=I+(C^P&(D^C))+q[14]+2792965006&4294967295,I=P+(O<<17&4294967295|O>>>15),O=C+(D^I&(P^D))+q[15]+1236535329&4294967295,C=I+(O<<22&4294967295|O>>>10),O=D+(I^P&(C^I))+q[1]+4129170786&4294967295,D=C+(O<<5&4294967295|O>>>27),O=P+(C^I&(D^C))+q[6]+3225465664&4294967295,P=D+(O<<9&4294967295|O>>>23),O=I+(D^C&(P^D))+q[11]+643717713&4294967295,I=P+(O<<14&4294967295|O>>>18),O=C+(P^D&(I^P))+q[0]+3921069994&4294967295,C=I+(O<<20&4294967295|O>>>12),O=D+(I^P&(C^I))+q[5]+3593408605&4294967295,D=C+(O<<5&4294967295|O>>>27),O=P+(C^I&(D^C))+q[10]+38016083&4294967295,P=D+(O<<9&4294967295|O>>>23),O=I+(D^C&(P^D))+q[15]+3634488961&4294967295,I=P+(O<<14&4294967295|O>>>18),O=C+(P^D&(I^P))+q[4]+3889429448&4294967295,C=I+(O<<20&4294967295|O>>>12),O=D+(I^P&(C^I))+q[9]+568446438&4294967295,D=C+(O<<5&4294967295|O>>>27),O=P+(C^I&(D^C))+q[14]+3275163606&4294967295,P=D+(O<<9&4294967295|O>>>23),O=I+(D^C&(P^D))+q[3]+4107603335&4294967295,I=P+(O<<14&4294967295|O>>>18),O=C+(P^D&(I^P))+q[8]+1163531501&4294967295,C=I+(O<<20&4294967295|O>>>12),O=D+(I^P&(C^I))+q[13]+2850285829&4294967295,D=C+(O<<5&4294967295|O>>>27),O=P+(C^I&(D^C))+q[2]+4243563512&4294967295,P=D+(O<<9&4294967295|O>>>23),O=I+(D^C&(P^D))+q[7]+1735328473&4294967295,I=P+(O<<14&4294967295|O>>>18),O=C+(P^D&(I^P))+q[12]+2368359562&4294967295,C=I+(O<<20&4294967295|O>>>12),O=D+(C^I^P)+q[5]+4294588738&4294967295,D=C+(O<<4&4294967295|O>>>28),O=P+(D^C^I)+q[8]+2272392833&4294967295,P=D+(O<<11&4294967295|O>>>21),O=I+(P^D^C)+q[11]+1839030562&4294967295,I=P+(O<<16&4294967295|O>>>16),O=C+(I^P^D)+q[14]+4259657740&4294967295,C=I+(O<<23&4294967295|O>>>9),O=D+(C^I^P)+q[1]+2763975236&4294967295,D=C+(O<<4&4294967295|O>>>28),O=P+(D^C^I)+q[4]+1272893353&4294967295,P=D+(O<<11&4294967295|O>>>21),O=I+(P^D^C)+q[7]+4139469664&4294967295,I=P+(O<<16&4294967295|O>>>16),O=C+(I^P^D)+q[10]+3200236656&4294967295,C=I+(O<<23&4294967295|O>>>9),O=D+(C^I^P)+q[13]+681279174&4294967295,D=C+(O<<4&4294967295|O>>>28),O=P+(D^C^I)+q[0]+3936430074&4294967295,P=D+(O<<11&4294967295|O>>>21),O=I+(P^D^C)+q[3]+3572445317&4294967295,I=P+(O<<16&4294967295|O>>>16),O=C+(I^P^D)+q[6]+76029189&4294967295,C=I+(O<<23&4294967295|O>>>9),O=D+(C^I^P)+q[9]+3654602809&4294967295,D=C+(O<<4&4294967295|O>>>28),O=P+(D^C^I)+q[12]+3873151461&4294967295,P=D+(O<<11&4294967295|O>>>21),O=I+(P^D^C)+q[15]+530742520&4294967295,I=P+(O<<16&4294967295|O>>>16),O=C+(I^P^D)+q[2]+3299628645&4294967295,C=I+(O<<23&4294967295|O>>>9),O=D+(I^(C|~P))+q[0]+4096336452&4294967295,D=C+(O<<6&4294967295|O>>>26),O=P+(C^(D|~I))+q[7]+1126891415&4294967295,P=D+(O<<10&4294967295|O>>>22),O=I+(D^(P|~C))+q[14]+2878612391&4294967295,I=P+(O<<15&4294967295|O>>>17),O=C+(P^(I|~D))+q[5]+4237533241&4294967295,C=I+(O<<21&4294967295|O>>>11),O=D+(I^(C|~P))+q[12]+1700485571&4294967295,D=C+(O<<6&4294967295|O>>>26),O=P+(C^(D|~I))+q[3]+2399980690&4294967295,P=D+(O<<10&4294967295|O>>>22),O=I+(D^(P|~C))+q[10]+4293915773&4294967295,I=P+(O<<15&4294967295|O>>>17),O=C+(P^(I|~D))+q[1]+2240044497&4294967295,C=I+(O<<21&4294967295|O>>>11),O=D+(I^(C|~P))+q[8]+1873313359&4294967295,D=C+(O<<6&4294967295|O>>>26),O=P+(C^(D|~I))+q[15]+4264355552&4294967295,P=D+(O<<10&4294967295|O>>>22),O=I+(D^(P|~C))+q[6]+2734768916&4294967295,I=P+(O<<15&4294967295|O>>>17),O=C+(P^(I|~D))+q[13]+1309151649&4294967295,C=I+(O<<21&4294967295|O>>>11),O=D+(I^(C|~P))+q[4]+4149444226&4294967295,D=C+(O<<6&4294967295|O>>>26),O=P+(C^(D|~I))+q[11]+3174756917&4294967295,P=D+(O<<10&4294967295|O>>>22),O=I+(D^(P|~C))+q[2]+718787259&4294967295,I=P+(O<<15&4294967295|O>>>17),O=C+(P^(I|~D))+q[9]+3951481745&4294967295,z.g[0]=z.g[0]+D&4294967295,z.g[1]=z.g[1]+(I+(O<<21&4294967295|O>>>11))&4294967295,z.g[2]=z.g[2]+I&4294967295,z.g[3]=z.g[3]+P&4294967295}i.prototype.v=function(z,D){D===void 0&&(D=z.length);const C=D-this.blockSize,q=this.C;let I=this.h,P=0;for(;P<D;){if(I==0)for(;P<=C;)s(this,z,P),P+=this.blockSize;if(typeof z=="string"){for(;P<D;)if(q[I++]=z.charCodeAt(P++),I==this.blockSize){s(this,q),I=0;break}}else for(;P<D;)if(q[I++]=z[P++],I==this.blockSize){s(this,q),I=0;break}}this.h=I,this.o+=D},i.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var D=1;D<z.length-8;++D)z[D]=0;D=this.o*8;for(var C=z.length-8;C<z.length;++C)z[C]=D&255,D/=256;for(this.v(z),z=Array(16),D=0,C=0;C<4;++C)for(let q=0;q<32;q+=8)z[D++]=this.g[C]>>>q&255;return z};function o(z,D){var C=c;return Object.prototype.hasOwnProperty.call(C,z)?C[z]:C[z]=D(z)}function u(z,D){this.h=D;const C=[];let q=!0;for(let I=z.length-1;I>=0;I--){const P=z[I]|0;q&&P==D||(C[I]=P,q=!1)}this.g=C}var c={};function f(z){return-128<=z&&z<128?o(z,function(D){return new u([D|0],D<0?-1:0)}):new u([z|0],z<0?-1:0)}function d(z){if(isNaN(z)||!isFinite(z))return w;if(z<0)return U(d(-z));const D=[];let C=1;for(let q=0;z>=C;q++)D[q]=z/C|0,C*=4294967296;return new u(D,0)}function g(z,D){if(z.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(z.charAt(0)=="-")return U(g(z.substring(1),D));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(D,8));let q=w;for(let P=0;P<z.length;P+=8){var I=Math.min(8,z.length-P);const O=parseInt(z.substring(P,P+I),D);I<8?(I=d(Math.pow(D,I)),q=q.j(I).add(d(O))):(q=q.j(C),q=q.add(d(O)))}return q}var w=f(0),E=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(M(this))return-U(this).m();let z=0,D=1;for(let C=0;C<this.g.length;C++){const q=this.i(C);z+=(q>=0?q:4294967296+q)*D,D*=4294967296}return z},n.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(j(this))return"0";if(M(this))return"-"+U(this).toString(z);const D=d(Math.pow(z,6));var C=this;let q="";for(;;){const I=ne(C,D).g;C=V(C,I.j(D));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(z);if(C=I,j(C))return P+q;for(;P.length<6;)P="0"+P;q=P+q}},n.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function j(z){if(z.h!=0)return!1;for(let D=0;D<z.g.length;D++)if(z.g[D]!=0)return!1;return!0}function M(z){return z.h==-1}n.l=function(z){return z=V(this,z),M(z)?-1:j(z)?0:1};function U(z){const D=z.g.length,C=[];for(let q=0;q<D;q++)C[q]=~z.g[q];return new u(C,~z.h).add(E)}n.abs=function(){return M(this)?U(this):this},n.add=function(z){const D=Math.max(this.g.length,z.g.length),C=[];let q=0;for(let I=0;I<=D;I++){let P=q+(this.i(I)&65535)+(z.i(I)&65535),O=(P>>>16)+(this.i(I)>>>16)+(z.i(I)>>>16);q=O>>>16,P&=65535,O&=65535,C[I]=O<<16|P}return new u(C,C[C.length-1]&-2147483648?-1:0)};function V(z,D){return z.add(U(D))}n.j=function(z){if(j(this)||j(z))return w;if(M(this))return M(z)?U(this).j(U(z)):U(U(this).j(z));if(M(z))return U(this.j(U(z)));if(this.l(b)<0&&z.l(b)<0)return d(this.m()*z.m());const D=this.g.length+z.g.length,C=[];for(var q=0;q<2*D;q++)C[q]=0;for(q=0;q<this.g.length;q++)for(let I=0;I<z.g.length;I++){const P=this.i(q)>>>16,O=this.i(q)&65535,ue=z.i(I)>>>16,Te=z.i(I)&65535;C[2*q+2*I]+=O*Te,ee(C,2*q+2*I),C[2*q+2*I+1]+=P*Te,ee(C,2*q+2*I+1),C[2*q+2*I+1]+=O*ue,ee(C,2*q+2*I+1),C[2*q+2*I+2]+=P*ue,ee(C,2*q+2*I+2)}for(z=0;z<D;z++)C[z]=C[2*z+1]<<16|C[2*z];for(z=D;z<2*D;z++)C[z]=0;return new u(C,0)};function ee(z,D){for(;(z[D]&65535)!=z[D];)z[D+1]+=z[D]>>>16,z[D]&=65535,D++}function Q(z,D){this.g=z,this.h=D}function ne(z,D){if(j(D))throw Error("division by zero");if(j(z))return new Q(w,w);if(M(z))return D=ne(U(z),D),new Q(U(D.g),U(D.h));if(M(D))return D=ne(z,U(D)),new Q(U(D.g),D.h);if(z.g.length>30){if(M(z)||M(D))throw Error("slowDivide_ only works with positive integers.");for(var C=E,q=D;q.l(z)<=0;)C=me(C),q=me(q);var I=fe(C,1),P=fe(q,1);for(q=fe(q,2),C=fe(C,2);!j(q);){var O=P.add(q);O.l(z)<=0&&(I=I.add(C),P=O),q=fe(q,1),C=fe(C,1)}return D=V(z,I.j(D)),new Q(I,D)}for(I=w;z.l(D)>=0;){for(C=Math.max(1,Math.floor(z.m()/D.m())),q=Math.ceil(Math.log(C)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),P=d(C),O=P.j(D);M(O)||O.l(z)>0;)C-=q,P=d(C),O=P.j(D);j(P)&&(P=E),I=I.add(P),z=V(z,O)}return new Q(I,z)}n.B=function(z){return ne(this,z).h},n.and=function(z){const D=Math.max(this.g.length,z.g.length),C=[];for(let q=0;q<D;q++)C[q]=this.i(q)&z.i(q);return new u(C,this.h&z.h)},n.or=function(z){const D=Math.max(this.g.length,z.g.length),C=[];for(let q=0;q<D;q++)C[q]=this.i(q)|z.i(q);return new u(C,this.h|z.h)},n.xor=function(z){const D=Math.max(this.g.length,z.g.length),C=[];for(let q=0;q<D;q++)C[q]=this.i(q)^z.i(q);return new u(C,this.h^z.h)};function me(z){const D=z.g.length+1,C=[];for(let q=0;q<D;q++)C[q]=z.i(q)<<1|z.i(q-1)>>>31;return new u(C,z.h)}function fe(z,D){const C=D>>5;D%=32;const q=z.g.length-C,I=[];for(let P=0;P<q;P++)I[P]=D>0?z.i(P+C)>>>D|z.i(P+C+1)<<32-D:z.i(P+C);return new u(I,z.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,IE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Qu=u}).apply(typeof mw<"u"?mw:typeof self<"u"?self:typeof window<"u"?window:{});var Om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CE,zd,RE,ig,ty,LE,kE,DE;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Om=="object"&&Om];for(var T=0;T<m.length;++T){var k=m[T];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var i=t(this);function s(m,T){if(T)e:{var k=i;m=m.split(".");for(var W=0;W<m.length-1;W++){var Ee=m[W];if(!(Ee in k))break e;k=k[Ee]}m=m[m.length-1],W=k[m],T=T(W),T!=W&&T!=null&&e(k,m,{configurable:!0,writable:!0,value:T})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(T){var k=[],W;for(W in T)Object.prototype.hasOwnProperty.call(T,W)&&k.push([W,T[W]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function c(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function f(m,T,k){return m.call.apply(m.bind,arguments)}function d(m,T,k){return d=f,d.apply(null,arguments)}function g(m,T){var k=Array.prototype.slice.call(arguments,1);return function(){var W=k.slice();return W.push.apply(W,arguments),m.apply(this,W)}}function w(m,T){function k(){}k.prototype=T.prototype,m.Z=T.prototype,m.prototype=new k,m.prototype.constructor=m,m.Ob=function(W,Ee,Pe){for(var Ze=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)Ze[Ht-2]=arguments[Ht];return T.prototype[Ee].apply(W,Ze)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function b(m){const T=m.length;if(T>0){const k=Array(T);for(let W=0;W<T;W++)k[W]=m[W];return k}return[]}function j(m,T){for(let W=1;W<arguments.length;W++){const Ee=arguments[W];var k=typeof Ee;if(k=k!="object"?k:Ee?Array.isArray(Ee)?"array":k:"null",k=="array"||k=="object"&&typeof Ee.length=="number"){k=m.length||0;const Pe=Ee.length||0;m.length=k+Pe;for(let Ze=0;Ze<Pe;Ze++)m[k+Ze]=Ee[Ze]}else m.push(Ee)}}class M{constructor(T,k){this.i=T,this.j=k,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function U(m){u.setTimeout(()=>{throw m},0)}function V(){var m=z;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class ee{constructor(){this.h=this.g=null}add(T,k){const W=Q.get();W.set(T,k),this.h?this.h.next=W:this.g=W,this.h=W}}var Q=new M(()=>new ne,m=>m.reset());class ne{constructor(){this.next=this.g=this.h=null}set(T,k){this.h=T,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let me,fe=!1,z=new ee,D=()=>{const m=Promise.resolve(void 0);me=()=>{m.then(C)}};function C(){for(var m;m=V();){try{m.h.call(m.g)}catch(k){U(k)}var T=Q;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}fe=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};u.addEventListener("test",k,T),u.removeEventListener("test",k,T)}catch{}return m})();function O(m){return/^[\s\xa0]*$/.test(m)}function ue(m,T){I.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}w(ue,I),ue.prototype.init=function(m,T){const k=this.type=m.type,W=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(k=="mouseover"?T=m.fromElement:k=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),le=0;function oe(m,T,k,W,Ee){this.listener=m,this.proxy=null,this.src=T,this.type=k,this.capture=!!W,this.ha=Ee,this.key=++le,this.da=this.fa=!1}function de(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ne(m,T,k){for(const W in m)T.call(k,m[W],W,m)}function He(m,T){for(const k in m)T.call(void 0,m[k],k,m)}function Z(m){const T={};for(const k in m)T[k]=m[k];return T}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(m,T){let k,W;for(let Ee=1;Ee<arguments.length;Ee++){W=arguments[Ee];for(k in W)m[k]=W[k];for(let Pe=0;Pe<R.length;Pe++)k=R[Pe],Object.prototype.hasOwnProperty.call(W,k)&&(m[k]=W[k])}}function X(m){this.src=m,this.g={},this.h=0}X.prototype.add=function(m,T,k,W,Ee){const Pe=m.toString();m=this.g[Pe],m||(m=this.g[Pe]=[],this.h++);const Ze=ce(m,T,W,Ee);return Ze>-1?(T=m[Ze],k||(T.fa=!1)):(T=new oe(T,this.src,Pe,!!W,Ee),T.fa=k,m.push(T)),T};function ae(m,T){const k=T.type;if(k in m.g){var W=m.g[k],Ee=Array.prototype.indexOf.call(W,T,void 0),Pe;(Pe=Ee>=0)&&Array.prototype.splice.call(W,Ee,1),Pe&&(de(T),m.g[k].length==0&&(delete m.g[k],m.h--))}}function ce(m,T,k,W){for(let Ee=0;Ee<m.length;++Ee){const Pe=m[Ee];if(!Pe.da&&Pe.listener==T&&Pe.capture==!!k&&Pe.ha==W)return Ee}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Re={};function xe(m,T,k,W,Ee){if(Array.isArray(T)){for(let Pe=0;Pe<T.length;Pe++)xe(m,T[Pe],k,W,Ee);return null}return k=Ct(k),m&&m[Te]?m.J(T,k,c(W)?!!W.capture:!1,Ee):Me(m,T,k,!1,W,Ee)}function Me(m,T,k,W,Ee,Pe){if(!T)throw Error("Invalid event type");const Ze=c(Ee)?!!Ee.capture:!!Ee;let Ht=it(m);if(Ht||(m[ge]=Ht=new X(m)),k=Ht.add(T,k,W,Ze,Pe),k.proxy)return k;if(W=$e(),k.proxy=W,W.src=m,W.listener=k,m.addEventListener)P||(Ee=Ze),Ee===void 0&&(Ee=!1),m.addEventListener(T.toString(),W,Ee);else if(m.attachEvent)m.attachEvent(ht(T.toString()),W);else if(m.addListener&&m.removeListener)m.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return k}function $e(){function m(k){return T.call(m.src,m.listener,k)}const T=te;return m}function et(m,T,k,W,Ee){if(Array.isArray(T))for(var Pe=0;Pe<T.length;Pe++)et(m,T[Pe],k,W,Ee);else W=c(W)?!!W.capture:!!W,k=Ct(k),m&&m[Te]?(m=m.i,Pe=String(T).toString(),Pe in m.g&&(T=m.g[Pe],k=ce(T,k,W,Ee),k>-1&&(de(T[k]),Array.prototype.splice.call(T,k,1),T.length==0&&(delete m.g[Pe],m.h--)))):m&&(m=it(m))&&(T=m.g[T.toString()],m=-1,T&&(m=ce(T,k,W,Ee)),(k=m>-1?T[m]:null)&&rt(k))}function rt(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[Te])ae(T.i,m);else{var k=m.type,W=m.proxy;T.removeEventListener?T.removeEventListener(k,W,m.capture):T.detachEvent?T.detachEvent(ht(k),W):T.addListener&&T.removeListener&&T.removeListener(W),(k=it(T))?(ae(k,m),k.h==0&&(k.src=null,T[ge]=null)):de(m)}}}function ht(m){return m in Re?Re[m]:Re[m]="on"+m}function te(m,T){if(m.da)m=!0;else{T=new ue(T,this);const k=m.listener,W=m.ha||m.src;m.fa&&rt(m),m=k.call(W,T)}return m}function it(m){return m=m[ge],m instanceof X?m:null}var Wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ct(m){return typeof m=="function"?m:(m[Wt]||(m[Wt]=function(T){return m.handleEvent(T)}),m[Wt])}function Ge(){q.call(this),this.i=new X(this),this.M=this,this.G=null}w(Ge,q),Ge.prototype[Te]=!0,Ge.prototype.removeEventListener=function(m,T,k,W){et(this,m,T,k,W)};function ot(m,T){var k,W=m.G;if(W)for(k=[];W;W=W.G)k.push(W);if(m=m.M,W=T.type||T,typeof T=="string")T=new I(T,m);else if(T instanceof I)T.target=T.target||m;else{var Ee=T;T=new I(W,m),G(T,Ee)}Ee=!0;let Pe,Ze;if(k)for(Ze=k.length-1;Ze>=0;Ze--)Pe=T.g=k[Ze],Ee=at(Pe,W,!0,T)&&Ee;if(Pe=T.g=m,Ee=at(Pe,W,!0,T)&&Ee,Ee=at(Pe,W,!1,T)&&Ee,k)for(Ze=0;Ze<k.length;Ze++)Pe=T.g=k[Ze],Ee=at(Pe,W,!1,T)&&Ee}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const k=m.g[T];for(let W=0;W<k.length;W++)de(k[W]);delete m.g[T],m.h--}}this.G=null},Ge.prototype.J=function(m,T,k,W){return this.i.add(String(m),T,!1,k,W)},Ge.prototype.K=function(m,T,k,W){return this.i.add(String(m),T,!0,k,W)};function at(m,T,k,W){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let Ee=!0;for(let Pe=0;Pe<T.length;++Pe){const Ze=T[Pe];if(Ze&&!Ze.da&&Ze.capture==k){const Ht=Ze.listener,ri=Ze.ha||Ze.src;Ze.fa&&ae(m.i,Ze),Ee=Ht.call(ri,W)!==!1&&Ee}}return Ee&&!W.defaultPrevented}function Lt(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:u.setTimeout(m,T||0)}function At(m){m.g=Lt(()=>{m.g=null,m.i&&(m.i=!1,At(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Qt extends q{constructor(T,k){super(),this.m=T,this.l=k,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nn(m){q.call(this),this.h=m,this.g={}}w(nn,q);var qt=[];function ln(m){Ne(m.g,function(T,k){this.g.hasOwnProperty(k)&&rt(T)},m),m.g={}}nn.prototype.N=function(){nn.Z.N.call(this),ln(this)},nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jt=u.JSON.stringify,vt=u.JSON.parse,Gt=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function _t(){}function mi(){}var Zt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rt(){I.call(this,"d")}w(Rt,I);function Bt(){I.call(this,"c")}w(Bt,I);var Xt={},xt=null;function Ln(){return xt=xt||new Ge}Xt.Ia="serverreachability";function jt(m){I.call(this,Xt.Ia,m)}w(jt,I);function Vt(m){const T=Ln();ot(T,new jt(T))}Xt.STAT_EVENT="statevent";function Pn(m,T){I.call(this,Xt.STAT_EVENT,m),this.stat=T}w(Pn,I);function Et(m){const T=Ln();ot(T,new Pn(T,m))}Xt.Ja="timingevent";function bt(m,T){I.call(this,Xt.Ja,m),this.size=T}w(bt,I);function un(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},T)}function vr(){this.g=!0}vr.prototype.ua=function(){this.g=!1};function ar(m,T,k,W,Ee,Pe){m.info(function(){if(m.g)if(Pe){var Ze="",Ht=Pe.split("&");for(let hn=0;hn<Ht.length;hn++){var ri=Ht[hn].split("=");if(ri.length>1){const jn=ri[0];ri=ri[1];const cr=jn.split("_");Ze=cr.length>=2&&cr[1]=="type"?Ze+(jn+"="+ri+"&"):Ze+(jn+"=redacted&")}}}else Ze=null;else Ze=Pe;return"XMLHTTP REQ ("+W+") [attempt "+Ee+"]: "+T+`
`+k+`
`+Ze})}function Us(m,T,k,W,Ee,Pe,Ze){m.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+Ee+"]: "+T+`
`+k+`
`+Pe+" "+Ze})}function Xi(m,T,k,W){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+ca(m,k)+(W?" "+W:"")})}function Tt(m,T){m.info(function(){return"TIMEOUT: "+T})}vr.prototype.info=function(){};function ca(m,T){if(!m.g)return T;if(!T)return null;try{const Pe=JSON.parse(T);if(Pe){for(m=0;m<Pe.length;m++)if(Array.isArray(Pe[m])){var k=Pe[m];if(!(k.length<2)){var W=k[1];if(Array.isArray(W)&&!(W.length<1)){var Ee=W[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(let Ze=1;Ze<W.length;Ze++)W[Ze]=""}}}}return Jt(Pe)}catch{return T}}var Qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pr;function Hn(){}w(Hn,_t),Hn.prototype.g=function(){return new XMLHttpRequest},Pr=new Hn;function ni(m){return encodeURIComponent(String(m))}function Bi(m){var T=1;m=m.split(":");const k=[];for(;T>0&&m.length;)k.push(m.shift()),T--;return m.length&&k.push(m.join(":")),k}function _r(m,T,k,W){this.j=m,this.i=T,this.l=k,this.S=W||1,this.V=new nn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new or}function or(){this.i=null,this.g="",this.h=!1}var On={},Kn={};function Ui(m,T,k){m.M=1,m.A=ka(Ei(T)),m.u=k,m.R=!0,Or(m,null)}function Or(m,T){m.F=Date.now(),Mr(m),m.B=Ei(m.A);var k=m.B,W=m.S;Array.isArray(W)||(W=[String(W)]),jo(k.i,"t",W),m.C=0,k=m.j.L,m.h=new or,m.g=ct(m.j,k?T:null,!m.u),m.P>0&&(m.O=new Qt(d(m.Y,m,m.g),m.P)),T=m.V,k=m.g,W=m.ba;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(qt[0]=Ee.toString()),Ee=qt);for(let Pe=0;Pe<Ee.length;Pe++){const Ze=xe(k,Ee[Pe],W||T.handleEvent,!1,T.h||T);if(!Ze)break;T.g[Ze.key]=Ze}T=m.J?Z(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Vt(),ar(m.i,m.v,m.B,m.l,m.S,m.u)}_r.prototype.ba=function(m){m=m.target;const T=this.O;T&&ns(m)==3?T.j():this.Y(m)},_r.prototype.Y=function(m){try{if(m==this.g)e:{const Ht=ns(this.g),ri=this.g.ya(),hn=this.g.ca();if(!(Ht<3)&&(Ht!=3||this.g&&(this.h.h||this.g.la()||Pi(this.g)))){this.K||Ht!=4||ri==7||(ri==8||hn<=0?Vt(3):Vt(2)),Xr(this);var T=this.g.ca();this.X=T;var k=fs(this);if(this.o=T==200,Us(this.i,this.v,this.B,this.l,this.S,Ht,T),this.o){if(this.U&&!this.L){t:{if(this.g){var W,Ee=this.g;if((W=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(W)){var Pe=W;break t}}Pe=null}if(m=Pe)Xi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ds(this,m);else{this.o=!1,this.m=3,Et(12),Jr(this),br(this);break e}}if(this.R){m=!0;let jn;for(;!this.K&&this.C<k.length;)if(jn=Is(this,k),jn==Kn){Ht==4&&(this.m=4,Et(14),m=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==On){this.m=4,Et(15),Xi(this.i,this.l,k,"[Invalid Chunk]"),m=!1;break}else Xi(this.i,this.l,jn,null),ds(this,jn);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||k.length!=0||this.h.h||(this.m=1,Et(16),m=!1),this.o=this.o&&m,!m)Xi(this.i,this.l,k,"[Invalid Chunked Response]"),Jr(this),br(this);else if(k.length>0&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.aa&&!Ze.P&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Uo(Ze),Ze.P=!0,Et(11))}}else Xi(this.i,this.l,k,null),ds(this,k);Ht==4&&Jr(this),this.o&&!this.K&&(Ht==4?re(this.j,this):(this.o=!1,Mr(this)))}else zs(this.g),T==400&&k.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),Jr(this),br(this)}}}catch{}finally{}};function fs(m){if(!La(m))return m.g.la();const T=Pi(m.g);if(T==="")return"";let k="";const W=T.length,Ee=ns(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Jr(m),br(m),"";m.h.i=new u.TextDecoder}for(let Pe=0;Pe<W;Pe++)m.h.h=!0,k+=m.h.i.decode(T[Pe],{stream:!(Ee&&Pe==W-1)});return T.length=0,m.h.g+=k,m.C=0,m.h.g}function La(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Is(m,T){var k=m.C,W=T.indexOf(`
`,k);return W==-1?Kn:(k=Number(T.substring(k,W)),isNaN(k)?On:(W+=1,W+k>T.length?Kn:(T=T.slice(W,W+k),m.C=W+k,T)))}_r.prototype.cancel=function(){this.K=!0,Jr(this)};function Mr(m){m.T=Date.now()+m.H,ha(m,m.H)}function ha(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=un(d(m.aa,m),T)}function Xr(m){m.D&&(u.clearTimeout(m.D),m.D=null)}_r.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Tt(this.i,this.B),this.M!=2&&(Vt(),Et(17)),Jr(this),this.m=2,br(this)):ha(this,this.T-m)};function br(m){m.j.I==0||m.K||re(m.j,m)}function Jr(m){Xr(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,ln(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function ds(m,T){try{var k=m.j;if(k.I!=0&&(k.g==m||Cs(k.h,m))){if(!m.L&&Cs(k.h,m)&&k.I==3){try{var W=k.Ba.g.parse(T)}catch{W=null}if(Array.isArray(W)&&W.length==3){var Ee=W;if(Ee[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<m.F)F(k),Hs(k);else break e;ks(k),Et(18)}}else k.xa=Ee[1],0<k.xa-k.K&&Ee[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=un(d(k.Va,k),6e3));ps(k.h)<=1&&k.ta&&(k.ta=void 0)}else be(k,11)}else if((m.L||k.g==m)&&F(k),!O(T))for(Ee=k.Ba.g.parse(T),T=0;T<Ee.length;T++){let hn=Ee[T];const jn=hn[0];if(!(jn<=k.K))if(k.K=jn,hn=hn[1],k.I==2)if(hn[0]=="c"){k.M=hn[1],k.ba=hn[2];const cr=hn[3];cr!=null&&(k.ka=cr,k.j.info("VER="+k.ka));const Ar=hn[4];Ar!=null&&(k.za=Ar,k.j.info("SVER="+k.za));const $n=hn[5];$n!=null&&typeof $n=="number"&&$n>0&&(W=1.5*$n,k.O=W,k.j.info("backChannelRequestTimeoutMs_="+W)),W=k;const Er=m.g;if(Er){const Ds=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var Pe=W.h;Pe.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(to(Pe,Pe.h),Pe.h=null))}if(W.G){const ja=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(W.wa=ja,bn(W.J,W.G,ja))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-m.F,k.j.info("Handshake RTT: "+k.T+"ms")),W=k;var Ze=m;if(W.na=Qe(W,W.L?W.ba:null,W.W),Ze.L){Oo(W.h,Ze);var Ht=Ze,ri=W.O;ri&&(Ht.H=ri),Ht.D&&(Xr(Ht),Mr(Ht)),W.g=Ze}else El(W);k.i.length>0&&gs(k)}else hn[0]!="stop"&&hn[0]!="close"||be(k,7);else k.I==3&&(hn[0]=="stop"||hn[0]=="close"?hn[0]=="stop"?be(k,7):Ma(k):hn[0]!="noop"&&k.l&&k.l.qa(hn),k.A=0)}}Vt(4)}catch{}}var yi=class{constructor(m,T){this.g=m,this.map=T}};function Po(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ps(m){return m.h?1:m.g?m.g.size:0}function Cs(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function to(m,T){m.g?m.g.add(T):m.h=T}function Oo(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}Po.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Mo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const k of m.g.values())T=T.concat(k.G);return T}return b(m.i)}var yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zr(m,T){if(m){m=m.split("&");for(let k=0;k<m.length;k++){const W=m[k].indexOf("=");let Ee,Pe=null;W>=0?(Ee=m[k].substring(0,W),Pe=m[k].substring(W+1)):Ee=m[k],T(Ee,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}function lr(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof lr?(this.l=m.l,dn(this,m.j),this.o=m.o,this.g=m.g,fa(this,m.u),this.h=m.h,ms(this,Vo(m.i)),this.m=m.m):m&&(T=String(m).match(yl))?(this.l=!1,dn(this,T[1]||"",!0),this.o=Di(T[2]||""),this.g=Di(T[3]||"",!0),fa(this,T[4]),this.h=Di(T[5]||"",!0),ms(this,T[6]||"",!0),this.m=Di(T[7]||"")):(this.l=!1,this.i=new da(null,this.l))}lr.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(ci(T,no,!0),":");var k=this.g;return(k||T=="file")&&(m.push("//"),(T=this.o)&&m.push(ci(T,no,!0),"@"),m.push(ni(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&m.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(ci(k,k.charAt(0)=="/"?vl:su,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",ci(k,_l)),m.join("")},lr.prototype.resolve=function(m){const T=Ei(this);let k=!!m.j;k?dn(T,m.j):k=!!m.o,k?T.o=m.o:k=!!m.g,k?T.g=m.g:k=m.u!=null;var W=m.h;if(k)fa(T,m.u);else if(k=!!m.h){if(W.charAt(0)!="/")if(this.g&&!this.h)W="/"+W;else{var Ee=T.h.lastIndexOf("/");Ee!=-1&&(W=T.h.slice(0,Ee+1)+W)}if(Ee=W,Ee==".."||Ee==".")W="";else if(Ee.indexOf("./")!=-1||Ee.indexOf("/.")!=-1){W=Ee.lastIndexOf("/",0)==0,Ee=Ee.split("/");const Pe=[];for(let Ze=0;Ze<Ee.length;){const Ht=Ee[Ze++];Ht=="."?W&&Ze==Ee.length&&Pe.push(""):Ht==".."?((Pe.length>1||Pe.length==1&&Pe[0]!="")&&Pe.pop(),W&&Ze==Ee.length&&Pe.push("")):(Pe.push(Ht),W=!0)}W=Pe.join("/")}else W=Ee}return k?T.h=W:k=m.i.toString()!=="",k?ms(T,Vo(m.i)):k=!!m.m,k&&(T.m=m.m),T};function Ei(m){return new lr(m)}function dn(m,T,k){m.j=k?Di(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function fa(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function ms(m,T,k){T instanceof da?(m.i=T,Vr(m.i,m.l)):(k||(T=ci(T,wr)),m.i=new da(T,m.l))}function bn(m,T,k){m.i.set(T,k)}function ka(m){return bn(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Di(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ci(m,T,k){return typeof m=="string"?(m=encodeURI(m).replace(T,Si),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Si(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var no=/[#\/\?@]/g,su=/[#\?:]/g,vl=/[#\?]/g,wr=/[#\?@]/g,_l=/#/g;function da(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function Ji(m){m.g||(m.g=new Map,m.h=0,m.i&&Zr(m.i,function(T,k){m.add(decodeURIComponent(T.replace(/\+/g," ")),k)}))}n=da.prototype,n.add=function(m,T){Ji(this),this.i=null,m=pa(this,m);let k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(T),this.h+=1,this};function Da(m,T){Ji(m),T=pa(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function bl(m,T){return Ji(m),T=pa(m,T),m.g.has(T)}n.forEach=function(m,T){Ji(this),this.g.forEach(function(k,W){k.forEach(function(Ee){m.call(T,Ee,W,this)},this)},this)};function wl(m,T){Ji(m);let k=[];if(typeof T=="string")bl(m,T)&&(k=k.concat(m.g.get(pa(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)k=k.concat(m[T]);return k}n.set=function(m,T){return Ji(this),this.i=null,m=pa(this,m),bl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},n.get=function(m,T){return m?(m=wl(this,m),m.length>0?String(m[0]):T):T};function jo(m,T,k){Da(m,T),k.length>0&&(m.i=null,m.g.set(pa(m,T),b(k)),m.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let W=0;W<T.length;W++){var k=T[W];const Ee=ni(k);k=wl(this,k);for(let Pe=0;Pe<k.length;Pe++){let Ze=Ee;k[Pe]!==""&&(Ze+="="+ni(k[Pe])),m.push(Ze)}}return this.i=m.join("&")};function Vo(m){const T=new da;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function pa(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function Vr(m,T){T&&!m.j&&(Ji(m),m.i=null,m.g.forEach(function(k,W){const Ee=W.toLowerCase();W!=Ee&&(Da(this,W),jo(this,Ee,k))},m)),m.j=T}function Rs(m,T){const k=new vr;if(u.Image){const W=new Image;W.onload=g(Fr,k,"TestLoadImage: loaded",!0,T,W),W.onerror=g(Fr,k,"TestLoadImage: error",!1,T,W),W.onabort=g(Fr,k,"TestLoadImage: abort",!1,T,W),W.ontimeout=g(Fr,k,"TestLoadImage: timeout",!1,T,W),u.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=m}else T(!1)}function ma(m,T){const k=new vr,W=new AbortController,Ee=setTimeout(()=>{W.abort(),Fr(k,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:W.signal}).then(Pe=>{clearTimeout(Ee),Pe.ok?Fr(k,"TestPingServer: ok",!0,T):Fr(k,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Ee),Fr(k,"TestPingServer: error",!1,T)})}function Fr(m,T,k,W,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),W(k)}catch{}}function Pa(){this.g=new Gt}function kt(m){this.i=m.Sb||null,this.h=m.ab||!1}w(kt,_t),kt.prototype.g=function(){return new io(this.i,this.h)};function io(m,T){Ge.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(io,Ge),n=io.prototype,n.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Zi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||u).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Oa(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Oa(this):Zi(this),this.readyState==3&&Fo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Oa(this))},n.Na=function(m){this.g&&(this.response=m,Oa(this))},n.ga=function(){this.g&&Oa(this)};function Oa(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Zi(m)}n.setRequestHeader=function(m,T){this.A.append(m,T)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var k=T.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=T.next();return m.join(`\r
`)};function Zi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function zi(m){let T="";return Ne(m,function(k,W){T+=W,T+=":",T+=k,T+=`\r
`}),T}function ro(m,T,k){e:{for(W in k){var W=!1;break e}W=!0}W||(k=zi(k),typeof m=="string"?k!=null&&ni(k):bn(m,T,k))}function Mn(m){Ge.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Mn,Ge);var es=/^https?$/i,so=["POST","PUT"];n=Mn.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,T,k,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pr.g(),this.g.onreadystatechange=E(d(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(Pe){Ls(this,Pe);return}if(m=k||"",k=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var Ee in W)k.set(Ee,W[Ee]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const Pe of W.keys())k.set(Pe,W.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(k.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),Ee=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(so,T,void 0)>=0)||W||Ee||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,Ze]of k)this.g.setRequestHeader(Pe,Ze);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Pe){Ls(this,Pe)}};function Ls(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,Al(m),ga(m)}function Al(m){m.A||(m.A=!0,ot(m,"complete"),ot(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,ot(this,"complete"),ot(this,"abort"),ga(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ga(this,!0)),Mn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ts(this):this.Xa())},n.Xa=function(){ts(this)};function ts(m){if(m.h&&typeof o<"u"){if(m.v&&ns(m)==4)setTimeout(m.Ca.bind(m),0);else if(ot(m,"readystatechange"),ns(m)==4){m.h=!1;try{const Pe=m.ca();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var k;if(!(k=T)){var W;if(W=Pe===0){let Ze=String(m.D).match(yl)[1]||null;!Ze&&u.self&&u.self.location&&(Ze=u.self.location.protocol.slice(0,-1)),W=!es.test(Ze?Ze.toLowerCase():"")}k=W}if(k)ot(m,"complete"),ot(m,"success");else{m.o=6;try{var Ee=ns(m)>2?m.g.statusText:""}catch{Ee=""}m.l=Ee+" ["+m.ca()+"]",Al(m)}}finally{ga(m)}}}}function ga(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const k=m.g;m.g=null,T||ot(m,"ready");try{k.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ns(m){return m.g?m.g.readyState:0}n.ca=function(){try{return ns(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),vt(T)}};function Pi(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function zs(m){const T={};m=(m.g&&ns(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<m.length;W++){if(O(m[W]))continue;var k=Bi(m[W]);const Ee=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Pe=T[Ee]||[];T[Ee]=Pe,Pe.push(k)}He(T,function(W){return W.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(m,T,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||T}function qs(m){this.za=0,this.i=[],this.j=new vr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ur("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ur("baseRetryDelayMs",5e3,m),this.Za=ur("retryDelaySeedMs",1e4,m),this.Ta=ur("forwardChannelMaxRetries",2,m),this.va=ur("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(m&&m.concurrentRequestLimit),this.Ba=new Pa,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=qs.prototype,n.ka=8,n.I=1,n.connect=function(m,T,k,W){Et(0),this.W=m,this.H=T||{},k&&W!==void 0&&(this.H.OSID=k,this.H.OAID=W),this.F=this.X,this.J=Qe(this,null,this.W),gs(this)};function Ma(m){if(Gs(m),m.I==3){var T=m.V++,k=Ei(m.J);if(bn(k,"SID",m.M),bn(k,"RID",T),bn(k,"TYPE","terminate"),is(m,k),T=new _r(m,m.j,T),T.M=2,T.A=ka(Ei(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(T.A.toString(),"")}catch{}!k&&u.Image&&(new Image().src=T.A,k=!0),k||(T.g=ct(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Mr(T)}Be(m)}function Hs(m){m.g&&(Uo(m),m.g.cancel(),m.g=null)}function Gs(m){Hs(m),m.v&&(u.clearTimeout(m.v),m.v=null),F(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function gs(m){if(!jr(m.h)&&!m.m){m.m=!0;var T=m.Ea;me||D(),fe||(me(),fe=!0),z.add(T,m),m.D=0}}function ao(m,T){return ps(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=un(d(m.Ea,m,T),pe(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Ee=new _r(this,this.j,m);let Pe=this.o;if(this.U&&(Pe?(Pe=Z(Pe),G(Pe,this.U)):Pe=this.U),this.u!==null||this.R||(Ee.J=Pe,Pe=null),this.S)e:{for(var T=0,k=0;k<this.i.length;k++){t:{var W=this.i[k];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(T+=W,T>4096){T=k;break e}if(T===4096||k===this.i.length-1){T=k+1;break e}}T=1e3}else T=1e3;T=Ks(this,Ee,T),k=Ei(this.J),bn(k,"RID",m),bn(k,"CVER",22),this.G&&bn(k,"X-HTTP-Session-Id",this.G),is(this,k),Pe&&(this.R?T="headers="+ni(zi(Pe))+"&"+T:this.u&&ro(k,this.u,Pe)),to(this.h,Ee),this.Ra&&bn(k,"TYPE","init"),this.S?(bn(k,"$req",T),bn(k,"SID","null"),Ee.U=!0,Ui(Ee,k,null)):Ui(Ee,k,T),this.I=2}}else this.I==3&&(m?Bo(this,m):this.i.length==0||jr(this.h)||Bo(this))};function Bo(m,T){var k;T?k=T.l:k=m.V++;const W=Ei(m.J);bn(W,"SID",m.M),bn(W,"RID",k),bn(W,"AID",m.K),is(m,W),m.u&&m.o&&ro(W,m.u,m.o),k=new _r(m,m.j,k,m.D+1),m.u===null&&(k.J=m.o),T&&(m.i=T.G.concat(m.i)),T=Ks(m,k,1e3),k.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),to(m.h,k),Ui(k,W,T)}function is(m,T){m.H&&Ne(m.H,function(k,W){bn(T,W,k)}),m.l&&Ne({},function(k,W){bn(T,W,k)})}function Ks(m,T,k){k=Math.min(m.i.length,k);const W=m.l?d(m.l.Ka,m.l,m):null;e:{var Ee=m.i;let Ht=-1;for(;;){const ri=["count="+k];Ht==-1?k>0?(Ht=Ee[0].g,ri.push("ofs="+Ht)):Ht=0:ri.push("ofs="+Ht);let hn=!0;for(let jn=0;jn<k;jn++){var Pe=Ee[jn].g;const cr=Ee[jn].map;if(Pe-=Ht,Pe<0)Ht=Math.max(0,Ee[jn].g-100),hn=!1;else try{Pe="req"+Pe+"_"||"";try{var Ze=cr instanceof Map?cr:Object.entries(cr);for(const[Ar,$n]of Ze){let Er=$n;c($n)&&(Er=Jt($n)),ri.push(Pe+Ar+"="+encodeURIComponent(Er))}}catch(Ar){throw ri.push(Pe+"type="+encodeURIComponent("_badmap")),Ar}}catch{W&&W(cr)}}if(hn){Ze=ri.join("&");break e}}Ze=void 0}return m=m.i.splice(0,k),T.G=m,Ze}function El(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;me||D(),fe||(me(),fe=!0),z.add(T,m),m.A=0}}function ks(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=un(d(m.Da,m),pe(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,A(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=un(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Hs(this),A(this))};function Uo(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function A(m){m.g=new _r(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=Ei(m.na);bn(T,"RID","rpc"),bn(T,"SID",m.M),bn(T,"AID",m.K),bn(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&bn(T,"TO",m.ia),bn(T,"TYPE","xmlhttp"),is(m,T),m.u&&m.o&&ro(T,m.u,m.o),m.O&&(m.g.H=m.O);var k=m.g;m=m.ba,k.M=1,k.A=ka(Ei(T)),k.u=null,k.R=!0,Or(k,m)}n.Va=function(){this.C!=null&&(this.C=null,Hs(this),ks(this),Et(19))};function F(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function re(m,T){var k=null;if(m.g==T){F(m),Uo(m),m.g=null;var W=2}else if(Cs(m.h,T))k=T.G,Oo(m.h,T),W=1;else return;if(m.I!=0){if(T.o)if(W==1){k=T.u?T.u.length:0,T=Date.now()-T.F;var Ee=m.D;W=Ln(),ot(W,new bt(W,k)),gs(m)}else El(m);else if(Ee=T.m,Ee==3||Ee==0&&T.X>0||!(W==1&&ao(m,T)||W==2&&ks(m)))switch(k&&k.length>0&&(T=m.h,T.i=T.i.concat(k)),Ee){case 1:be(m,5);break;case 4:be(m,10);break;case 3:be(m,6);break;default:be(m,2)}}}function pe(m,T){let k=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(k*=2),k*T}function be(m,T){if(m.j.info("Error code "+T),T==2){var k=d(m.bb,m),W=m.Ua;const Ee=!W;W=new lr(W||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||dn(W,"https"),ka(W),Ee?Rs(W.toString(),k):ma(W.toString(),k)}else Et(2);m.I=0,m.l&&m.l.pa(T),Be(m),Gs(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Be(m){if(m.I=0,m.ja=[],m.l){const T=Mo(m.h);(T.length!=0||m.i.length!=0)&&(j(m.ja,T),j(m.ja,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.oa()}}function Qe(m,T,k){var W=k instanceof lr?Ei(k):new lr(k);if(W.g!="")T&&(W.g=T+"."+W.g),fa(W,W.u);else{var Ee=u.location;W=Ee.protocol,T=T?T+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;const Pe=new lr(null);W&&dn(Pe,W),T&&(Pe.g=T),Ee&&fa(Pe,Ee),k&&(Pe.h=k),W=Pe}return k=m.G,T=m.wa,k&&T&&bn(W,k,T),bn(W,"VER",m.ka),is(m,W),W}function ct(m,T,k){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new Mn(new kt({ab:k})):new Mn(m.ma),T.Fa(m.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pt(){}n=pt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Pt(){}Pt.prototype.g=function(m,T){return new Nt(m,T)};function Nt(m,T){Ge.call(this),this.g=new qs(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!O(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!O(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Gn(this)}w(Nt,Ge),Nt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){Ma(this.g)},Nt.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.v&&(k={},k.__data__=Jt(m),m=k);T.i.push(new yi(T.Ya++,m)),T.I==3&&gs(T)},Nt.prototype.N=function(){this.g.l=null,delete this.j,Ma(this.g),delete this.g,Nt.Z.N.call(this)};function mn(m){Rt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const k in T){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}w(mn,Rt);function ii(){Bt.call(this),this.status=1}w(ii,Bt);function Gn(m){this.g=m}w(Gn,pt),Gn.prototype.ra=function(){ot(this.g,"a")},Gn.prototype.qa=function(m){ot(this.g,new mn(m))},Gn.prototype.pa=function(m){ot(this.g,new ii)},Gn.prototype.oa=function(){ot(this.g,"b")},Pt.prototype.createWebChannel=Pt.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,DE=function(){return new Pt},kE=function(){return Ln()},LE=Xt,ty={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,ig=Qr,Dr.COMPLETE="complete",RE=Dr,mi.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,zd=mi,Mn.prototype.listenOnce=Mn.prototype.K,Mn.prototype.getLastError=Mn.prototype.Ha,Mn.prototype.getLastErrorCode=Mn.prototype.ya,Mn.prototype.getStatus=Mn.prototype.ca,Mn.prototype.getResponseJson=Mn.prototype.La,Mn.prototype.getResponseText=Mn.prototype.la,Mn.prototype.send=Mn.prototype.ea,Mn.prototype.setWithCredentials=Mn.prototype.Fa,CE=Mn}).apply(typeof Om<"u"?Om:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf="12.9.0";function VL(n){Gf=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new n1("@firebase/firestore");function tf(){return Yc.logLevel}function Je(n,...e){if(Yc.logLevel<=En.DEBUG){const t=e.map(av);Yc.debug(`Firestore (${Gf}): ${n}`,...t)}}function Vs(n,...e){if(Yc.logLevel<=En.ERROR){const t=e.map(av);Yc.error(`Firestore (${Gf}): ${n}`,...t)}}function tc(n,...e){if(Yc.logLevel<=En.WARN){const t=e.map(av);Yc.warn(`Firestore (${Gf}): ${n}`,...t)}}function av(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,PE(n,i,t)}function PE(n,e,t){let i=`FIRESTORE (${Gf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Vs(i),new Error(i)}function It(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||PE(e,s,i)}function tn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Lo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cs.UNAUTHENTICATED)))}shutdown(){}}class BL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class UL{constructor(e){this.t=e,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){It(this.o===void 0,42304);let i=this.i;const s=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let o=new Xu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xu,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},c=f=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xu)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(It(typeof i.accessToken=="string",31837,{l:i}),new OE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new cs(e)}}class zL{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=cs.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qL{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new zL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(cs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){It(this.o===void 0,3512);const i=o=>{o.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Je("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(It(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new gw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=GL(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<t&&(i+=e.charAt(s[o]%62))}return i}}function en(n,e){return n<e?-1:n>e?1:0}function ny(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const s=n.charAt(i),o=e.charAt(i);if(s!==o)return l2(s)===l2(o)?en(s,o):l2(s)?1:-1}return en(n.length,e.length)}const KL=55296,$L=57343;function l2(n){const e=n.charCodeAt(0);return e>=KL&&e<=$L}function Sf(n,e,t){return n.length===e.length&&n.every(((i,s)=>t(i,e[s])))}function ME(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="__name__";class rl{constructor(e,t,i){t===void 0?t=0:t>e.length&&yt(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&yt(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return rl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rl?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const o=rl.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return en(e.length,t.length)}static compareSegments(e,t){const i=rl.isNumericId(e),s=rl.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?rl.extractNumericId(e).compare(rl.extractNumericId(t)):ny(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qu.fromString(e.substring(4,e.length-2))}}class qn extends rl{construct(e,t,i){return new qn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new nt(ze.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((s=>s.length>0)))}return new qn(t)}static emptyPath(){return new qn([])}}const YL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fi extends rl{construct(e,t,i){return new Fi(e,t,i)}static isValidIdentifier(e){return YL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yw}static keyField(){return new Fi([yw])}static fromServerFormat(e){const t=[];let i="",s=0;const o=()=>{if(i.length===0)throw new nt(ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new nt(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new nt(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(i+=c,s++):(o(),s++)}if(o(),u)throw new nt(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fi(t)}static emptyPath(){return new Fi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.path=e}static fromPath(e){return new st(qn.fromString(e))}static fromName(e){return new st(qn.fromString(e).popFirst(5))}static empty(){return new st(qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new qn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n,e,t){if(!t)throw new nt(ze.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WL(n,e,t,i){if(e===!0&&i===!0)throw new nt(ze.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vw(n){if(!st.isDocumentKey(n))throw new nt(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _w(n){if(st.isDocumentKey(n))throw new nt(ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function VE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function s1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":yt(12329,{type:typeof n})}function hl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new nt(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=s1(n);throw new nt(ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(n,e){const t={typeString:n};return e&&(t.value=e),t}function Rp(n,e){if(!VE(n))throw new nt(ze.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(s&&typeof u!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new nt(ze.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=-62135596800,ww=1e6;class Zn{static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*ww);return new Zn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nt(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nt(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bw)throw new nt(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ww}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rp(e,Zn._jsonSchema))return new Zn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zn._jsonSchemaVersion="firestore/timestamp/1.0",Zn._jsonSchema={type:mr("string",Zn._jsonSchemaVersion),seconds:mr("number"),nanoseconds:mr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static fromTimestamp(e){return new Ft(e)}static min(){return new Ft(new Zn(0,0))}static max(){return new Ft(new Zn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=-1;class Rg{constructor(e,t,i,s){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=s}}function iy(n){return n.fields.find((e=>e.kind===2))}function Rc(n){return n.fields.filter((e=>e.kind!==2))}Rg.UNKNOWN_ID=-1;class rg{constructor(e,t){this.fieldPath=e,this.kind=t}}class up{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new up(0,Ca.min())}}function QL(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ft.fromTimestamp(i===1e9?new Zn(t+1,0):new Zn(t,i));return new Ca(s,st.empty(),e)}function FE(n){return new Ca(n.readTime,n.key,lp)}class Ca{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ca(Ft.min(),st.empty(),lp)}static max(){return new Ca(Ft.max(),st.empty(),lp)}}function lv(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=st.comparator(n.documentKey,e.documentKey),t!==0?t:en(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(n){if(n.code!==ze.FAILED_PRECONDITION||n.message!==BE)throw n;Je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ce.reject(t)}static resolve(e){return new Ce(((t,i)=>{t(e)}))}static reject(e){return new Ce(((t,i)=>{i(e)}))}static waitFor(e){return new Ce(((t,i)=>{let s=0,o=0,u=!1;e.forEach((c=>{++s,c.next((()=>{++o,u&&o===s&&t()}),(f=>i(f)))})),u=!0,o===s&&t()}))}static or(e){let t=Ce.resolve(!1);for(const i of e)t=t.next((s=>s?Ce.resolve(s):i()));return t}static forEach(e,t){const i=[];return e.forEach(((s,o)=>{i.push(t.call(this,s,o))})),this.waitFor(i)}static mapArray(e,t){return new Ce(((i,s)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((g=>{u[d]=g,++c,c===o&&i(u)}),(g=>s(g)))}}))}static doWhile(e,t){return new Ce(((i,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):i()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="SimpleDb";class a1{static open(e,t,i,s){try{return new a1(t,e.transaction(s,i))}catch(o){throw new Wd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Xu,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Wd(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const s=uv(i.target.error);this.S.reject(new Wd(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Je(xa,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new JL(t)}}class Ju{static delete(e){return Je(xa,"Removing database:",e),Dc(P3().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Yy())return!1;if(Ju.F())return!0;const e=Lr(),t=Ju.M(e),i=0<t&&t<10,s=zE(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,Ju.M(Lr())===12.2&&Vs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Je(xa,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;t(u)},s.onblocked=()=>{i(new Wd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?i(new nt(ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new nt(ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new Wd(e,u))},s.onupgradeneeded=o=>{Je(xa,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,s.transaction,o.oldVersion,this.version).next((()=>{Je(xa,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,s){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const c=a1.open(this.db,e,o?"readonly":"readwrite",i),f=s(c).next((d=>(c.C(),d))).catch((d=>(c.abort(d),Ce.reject(d)))).toPromise();return f.catch((()=>{})),await c.D,f}catch(c){const f=c,d=f.name!=="FirebaseError"&&u<3;if(Je(xa,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function zE(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class XL{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Dc(this.U.delete())}}class Wd extends nt{constructor(e,t){super(ze.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function lc(n){return n.name==="IndexedDbTransactionError"}class JL{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(Je(xa,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(Je(xa,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Dc(i)}add(e){return Je(xa,"ADD",this.store.name,e,e),Dc(this.store.add(e))}get(e){return Dc(this.store.get(e)).next((t=>(t===void 0&&(t=null),Je(xa,"GET",this.store.name,e,t),t)))}delete(e){return Je(xa,"DELETE",this.store.name,e),Dc(this.store.delete(e))}count(){return Je(xa,"COUNT",this.store.name),Dc(this.store.count())}H(e,t){const i=this.options(e,t),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(i.range);return new Ce(((u,c)=>{o.onerror=f=>{c(f.target.error)},o.onsuccess=f=>{u(f.target.result)}}))}{const o=this.cursor(i),u=[];return this.J(o,((c,f)=>{u.push(f)})).next((()=>u))}}Z(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new Ce(((s,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{s(u.target.result)}}))}X(e,t){Je(xa,"DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const s=this.cursor(i);return this.J(s,((o,u,c)=>c.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const s=this.cursor(i);return this.J(s,t)}te(e){const t=this.cursor({});return new Ce(((i,s)=>{t.onerror=o=>{const u=uv(o.target.error);s(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((c=>{c?u.continue():i()})):i()}}))}J(e,t){const i=[];return new Ce(((s,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const c=u.target.result;if(!c)return void s();const f=new XL(c),d=t(c.primaryKey,c.value,f);if(d instanceof Ce){const g=d.catch((w=>(f.done(),Ce.reject(w))));i.push(g)}f.isDone?s():f.G===null?c.continue():c.continue(f.G)}})).next((()=>Ce.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Dc(n){return new Ce(((e,t)=>{n.onsuccess=i=>{const s=i.target.result;e(s)},n.onerror=i=>{const s=uv(i.target.error);t(s)}}))}let Aw=!1;function uv(n){const e=Ju.M(Lr());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Aw||(Aw=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Qd="IndexBackfiller";class ZL{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Je(Qd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();Je(Qd,`Documents written: ${t}`)}catch(t){lc(t)?Je(Qd,"Ignoring IndexedDB error during index backfill: ",t):await oh(t)}await this.re(6e4)}))}}class ek{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let s=t,o=!0;return Ce.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!i.has(u))return Je(Qd,`Processing collection: ${u}`),this.oe(e,u,s).next((c=>{s-=c,i.add(u)}));o=!1})))).next((()=>t-s))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,i).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(s,o))).next((c=>(Je(Qd,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c)))).next((()=>u.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((s,o)=>{const u=FE(o);lv(u,i)>0&&(i=u)})),new Ca(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xa.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=-1;function o1(n){return n==null}function cp(n){return n===0&&1/n==-1/0}function tk(n){return typeof n=="number"&&Number.isInteger(n)&&!cp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="";function Ns(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ew(e)),e=nk(n.get(t),e);return Ew(e)}function nk(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Lg:t+="";break;default:t+=o}}return t}function Ew(n){return n+Lg+""}function al(n){const e=n.length;if(It(e>=2,64408,{path:n}),e===2)return It(n.charAt(0)===Lg&&n.charAt(1)==="",56145,{path:n}),qn.emptyPath();const t=e-2,i=[];let s="";for(let o=0;o<e;){const u=n.indexOf(Lg,o);switch((u<0||u>t)&&yt(50515,{path:n}),n.charAt(u+1)){case"":const c=n.substring(o,u);let f;s.length===0?f=c:(s+=c,f=s,s=""),i.push(f);break;case"":s+=n.substring(o,u),s+="\0";break;case"":s+=n.substring(o,u+1);break;default:yt(61167,{path:n})}o=u+2}return new qn(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="remoteDocuments",Lp="owner",Kh="owner",hp="mutationQueues",ik="userId",xo="mutations",Sw="batchId",Vc="userMutationsIndex",xw=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(n,e){return[n,Ns(e)]}function qE(n,e,t){return[n,Ns(e),t]}const rk={},xf="documentMutations",kg="remoteDocumentsV14",sk=["prefixPath","collectionGroup","readTime","documentId"],ag="documentKeyIndex",ak=["prefixPath","collectionGroup","documentId"],HE="collectionGroupIndex",ok=["collectionGroup","readTime","prefixPath","documentId"],fp="remoteDocumentGlobal",ry="remoteDocumentGlobalKey",Tf="targets",GE="queryTargetsIndex",lk=["canonicalId","targetId"],Nf="targetDocuments",uk=["targetId","path"],cv="documentTargetsIndex",ck=["path","targetId"],Dg="targetGlobalKey",zc="targetGlobal",dp="collectionParents",hk=["collectionId","parent"],If="clientMetadata",fk="clientId",l1="bundles",dk="bundleId",u1="namedQueries",pk="name",hv="indexConfiguration",mk="indexId",sy="collectionGroupIndex",gk="collectionGroup",Xd="indexState",yk=["indexId","uid"],KE="sequenceNumberIndex",vk=["uid","sequenceNumber"],Jd="indexEntries",_k=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$E="documentKeyIndex",bk=["indexId","uid","orderedDocumentKey"],c1="documentOverlays",wk=["userId","collectionPath","documentId"],ay="collectionPathOverlayIndex",Ak=["userId","collectionPath","largestBatchId"],YE="collectionGroupOverlayIndex",Ek=["userId","collectionGroup","largestBatchId"],fv="globals",Sk="name",WE=[hp,xo,xf,Lc,Tf,Lp,zc,Nf,If,fp,dp,l1,u1],xk=[...WE,c1],QE=[hp,xo,xf,kg,Tf,Lp,zc,Nf,If,fp,dp,l1,u1,c1],XE=QE,dv=[...XE,hv,Xd,Jd],Tk=dv,JE=[...dv,fv],Nk=JE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends UE{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function kr(n,e){const t=tn(n);return Ju.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function uc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t){this.comparator=e,this.root=t||hs.EMPTY}insert(e,t){return new ki(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hs.BLACK,null,null))}remove(e){return new ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mm(this.root,e,this.comparator,!0)}}class Mm{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hs{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??hs.RED,this.left=s??hs.EMPTY,this.right=o??hs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,o){return new hs(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return hs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return hs.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}hs.EMPTY=null,hs.RED=!0,hs.BLACK=!1;hs.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,t,i,s,o){return this}insert(e,t,i){return new hs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.comparator=e,this.data=new ki(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nw(this.data.getIterator())}getIteratorFrom(e){return new Nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof ti)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ti(this.comparator);return t.data=e,t}}class Nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $h(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.fields=e,e.sort(Fi.comparator)}static empty(){return new la([])}unionWith(e){let t=new ti(Fi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new la(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sf(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eS("Invalid base64 string: "+o):o}})(e);return new yr(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const Ik=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eu(n){if(It(!!n,39018),typeof n=="string"){let e=0;const t=Ik.exec(n);if(It(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ri(n.seconds),nanos:Ri(n.nanos)}}function Ri(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function tu(n){return typeof n=="string"?yr.fromBase64String(n):yr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="server_timestamp",nS="__type__",iS="__previous_value__",rS="__local_write_time__";function pv(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[nS])==null?void 0:i.stringValue)===tS}function h1(n){const e=n.mapValue.fields[iS];return pv(e)?h1(e):e}function pp(n){const e=eu(n.mapValue.fields[rS].timestampValue);return new Zn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t,i,s,o,u,c,f,d,g,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g,this.apiKey=w}}const Pg="(default)";class Wc{constructor(e,t){this.projectId=e,this.database=t||Pg}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===Pg}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}function Rk(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new nt(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="__type__",sS="__max__",Ku={mapValue:{fields:{__type__:{stringValue:sS}}}},gv="__vector__",Cf="value",og={nullValue:"NULL_VALUE"};function nc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pv(n)?4:aS(n)?9007199254740991:f1(n)?10:11:yt(28295,{value:n})}function pl(n,e){if(n===e)return!0;const t=nc(n);if(t!==nc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pp(n).isEqual(pp(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=eu(s.timestampValue),c=eu(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return tu(s.bytesValue).isEqual(tu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Ri(s.geoPointValue.latitude)===Ri(o.geoPointValue.latitude)&&Ri(s.geoPointValue.longitude)===Ri(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Ri(s.integerValue)===Ri(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Ri(s.doubleValue),c=Ri(o.doubleValue);return u===c?cp(u)===cp(c):isNaN(u)&&isNaN(c)}return!1})(n,e);case 9:return Sf(n.arrayValue.values||[],e.arrayValue.values||[],pl);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(Tw(u)!==Tw(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!pl(u[f],c[f])))return!1;return!0})(n,e);default:return yt(52216,{left:n})}}function mp(n,e){return(n.values||[]).find((t=>pl(t,e)))!==void 0}function ic(n,e){if(n===e)return 0;const t=nc(n),i=nc(e);if(t!==i)return en(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=Ri(o.integerValue||o.doubleValue),f=Ri(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return Iw(n.timestampValue,e.timestampValue);case 4:return Iw(pp(n),pp(e));case 5:return ny(n.stringValue,e.stringValue);case 6:return(function(o,u){const c=tu(o),f=tu(u);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const g=en(c[d],f[d]);if(g!==0)return g}return en(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=en(Ri(o.latitude),Ri(u.latitude));return c!==0?c:en(Ri(o.longitude),Ri(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Cw(n.arrayValue,e.arrayValue);case 10:return(function(o,u){var E,b,j,M;const c=o.fields||{},f=u.fields||{},d=(E=c[Cf])==null?void 0:E.arrayValue,g=(b=f[Cf])==null?void 0:b.arrayValue,w=en(((j=d==null?void 0:d.values)==null?void 0:j.length)||0,((M=g==null?void 0:g.values)==null?void 0:M.length)||0);return w!==0?w:Cw(d,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Ku.mapValue&&u===Ku.mapValue)return 0;if(o===Ku.mapValue)return 1;if(u===Ku.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const E=ny(f[w],g[w]);if(E!==0)return E;const b=ic(c[f[w]],d[g[w]]);if(b!==0)return b}return en(f.length,g.length)})(n.mapValue,e.mapValue);default:throw yt(23264,{he:t})}}function Iw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return en(n,e);const t=eu(n),i=eu(e),s=en(t.seconds,i.seconds);return s!==0?s:en(t.nanos,i.nanos)}function Cw(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const o=ic(t[s],i[s]);if(o)return o}return en(t.length,i.length)}function Rf(n){return ly(n)}function ly(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=eu(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return tu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return st.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",s=!0;for(const o of t.values||[])s?s=!1:i+=",",i+=ly(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${ly(t.fields[u])}`;return s+"}"})(n.mapValue):yt(61005,{value:n})}function lg(n){switch(nc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=h1(n);return e?16+lg(e):16;case 5:return 2*n.stringValue.length;case 6:return tu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+lg(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let s=0;return uc(i.fields,((o,u)=>{s+=o.length+lg(u)})),s})(n.mapValue);default:throw yt(13486,{value:n})}}function gp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uy(n){return!!n&&"integerValue"in n}function yp(n){return!!n&&"arrayValue"in n}function Rw(n){return!!n&&"nullValue"in n}function Lw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ug(n){return!!n&&"mapValue"in n}function f1(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[mv])==null?void 0:i.stringValue)===gv}function Zd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return uc(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Zd(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zd(n.arrayValue.values[t]);return e}return{...n}}function aS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sS}const oS={mapValue:{fields:{[mv]:{stringValue:gv},[Cf]:{arrayValue:{}}}}};function Lk(n){return"nullValue"in n?og:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?gp(Wc.empty(),st.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?f1(n)?oS:{mapValue:{}}:yt(35942,{value:n})}function kk(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?gp(Wc.empty(),st.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?oS:"mapValue"in n?f1(n)?{mapValue:{}}:Ku:yt(61959,{value:n})}function kw(n,e){const t=ic(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Dw(n,e){const t=ic(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.value=e}static empty(){return new Ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ug(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zd(t)}setAll(e){let t=Fi.emptyPath(),i={},s=[];e.forEach(((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,i,s),i={},s=[],t=c.popLast()}u?i[c.lastSegment()]=Zd(u):s.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,s)}delete(e){const t=this.field(e.popLast());ug(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];ug(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){uc(t,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new Ts(Zd(this.value))}}function lS(n){const e=[];return uc(n.fields,((t,i)=>{const s=new Fi([t]);if(ug(i)){const o=lS(i.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new la(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,t,i,s,o,u,c){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Qi(e,0,Ft.min(),Ft.min(),Ft.min(),Ts.empty(),0)}static newFoundDocument(e,t,i,s){return new Qi(e,1,t,Ft.min(),i,s,0)}static newNoDocument(e,t){return new Qi(e,2,t,Ft.min(),Ft.min(),Ts.empty(),0)}static newUnknownDocument(e,t){return new Qi(e,3,t,Ft.min(),Ft.min(),Ts.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t){this.position=e,this.inclusive=t}}function Pw(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?i=st.comparator(st.fromName(u.referenceValue),t.key):i=ic(u,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ow(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t="asc"){this.field=e,this.dir=t}}function Dk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{}class Sn extends uS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Pk(e,t,i):t==="array-contains"?new jk(e,i):t==="in"?new mS(e,i):t==="not-in"?new Vk(e,i):t==="array-contains-any"?new Fk(e,i):new Sn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Ok(e,i):new Mk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ic(t,this.value)):t!==null&&nc(this.value)===nc(t)&&this.matchesComparison(ic(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends uS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ei(e,t)}matches(e){return kf(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kf(n){return n.op==="and"}function cy(n){return n.op==="or"}function yv(n){return cS(n)&&kf(n)}function cS(n){for(const e of n.filters)if(e instanceof ei)return!1;return!0}function hy(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+Rf(n.value);if(yv(n))return n.filters.map((e=>hy(e))).join(",");{const e=n.filters.map((t=>hy(t))).join(",");return`${n.op}(${e})`}}function hS(n,e){return n instanceof Sn?(function(i,s){return s instanceof Sn&&i.op===s.op&&i.field.isEqual(s.field)&&pl(i.value,s.value)})(n,e):n instanceof ei?(function(i,s){return s instanceof ei&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,u,c)=>o&&hS(u,s.filters[c])),!0):!1})(n,e):void yt(19439)}function fS(n,e){const t=n.filters.concat(e);return ei.create(t,n.op)}function dS(n){return n instanceof Sn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Rf(t.value)}`})(n):n instanceof ei?(function(t){return t.op.toString()+" {"+t.getFilters().map(dS).join(" ,")+"}"})(n):"Filter"}class Pk extends Sn{constructor(e,t,i){super(e,t,i),this.key=st.fromName(i.referenceValue)}matches(e){const t=st.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ok extends Sn{constructor(e,t){super(e,"in",t),this.keys=pS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Mk extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=pS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function pS(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>st.fromName(i.referenceValue)))}class jk extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yp(t)&&mp(t.arrayValue,this.value)}}class mS extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&mp(this.value.arrayValue,t)}}class Vk extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(mp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!mp(this.value.arrayValue,t)}}class Fk extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>mp(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t=null,i=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function fy(n,e=null,t=[],i=[],s=null,o=null,u=null){return new Bk(n,e,t,i,s,o,u)}function Qc(n){const e=tn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>hy(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),o1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Rf(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Rf(i))).join(",")),e.Te=t}return e.Te}function kp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Dk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ow(n.startAt,e.startAt)&&Ow(n.endAt,e.endAt)}function Og(n){return st.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Mg(n,e){return n.filters.filter((t=>t instanceof Sn&&t.field.isEqual(e)))}function Mw(n,e,t){let i=og,s=!0;for(const o of Mg(n,e)){let u=og,c=!0;switch(o.op){case"<":case"<=":u=Lk(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,c=!1;break;case"!=":case"not-in":u=og}kw({value:i,inclusive:s},{value:u,inclusive:c})<0&&(i=u,s=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];kw({value:i,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(i=u,s=t.inclusive);break}}return{value:i,inclusive:s}}function jw(n,e,t){let i=Ku,s=!0;for(const o of Mg(n,e)){let u=Ku,c=!0;switch(o.op){case">=":case">":u=kk(o.value),c=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,c=!1;break;case"!=":case"not-in":u=Ku}Dw({value:i,inclusive:s},{value:u,inclusive:c})>0&&(i=u,s=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];Dw({value:i,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(i=u,s=t.inclusive);break}}return{value:i,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t=null,i=[],s=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Uk(n,e,t,i,s,o,u,c){return new Kf(n,e,t,i,s,o,u,c)}function d1(n){return new Kf(n)}function Vw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zk(n){return st.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function gS(n){return n.collectionGroup!==null}function ep(n){const e=tn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new ti(Fi.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new vp(o,i))})),t.has(Fi.keyField().canonicalString())||e.Ie.push(new vp(Fi.keyField(),i))}return e.Ie}function Za(n){const e=tn(n);return e.Ee||(e.Ee=qk(e,ep(n))),e.Ee}function qk(n,e){if(n.limitType==="F")return fy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new vp(s.field,o)}));const t=n.endAt?new Lf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Lf(n.startAt.position,n.startAt.inclusive):null;return fy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function dy(n,e){const t=n.filters.concat([e]);return new Kf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hk(n,e){const t=n.explicitOrderBy.concat([e]);return new Kf(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function py(n,e,t){return new Kf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function p1(n,e){return kp(Za(n),Za(e))&&n.limitType===e.limitType}function yS(n){return`${Qc(Za(n))}|lt:${n.limitType}`}function nf(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((s=>dS(s))).join(", ")}]`),o1(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Rf(s))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Rf(s))).join(",")),`Target(${i})`})(Za(n))}; limitType=${n.limitType})`}function Dp(n,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):st.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,s){for(const o of ep(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(i,s){return!(i.startAt&&!(function(u,c,f){const d=Pw(u,c,f);return u.inclusive?d<=0:d<0})(i.startAt,ep(i),s)||i.endAt&&!(function(u,c,f){const d=Pw(u,c,f);return u.inclusive?d>=0:d>0})(i.endAt,ep(i),s))})(n,e)}function Gk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vS(n){return(e,t)=>{let i=!1;for(const s of ep(n)){const o=Kk(s,e,t);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function Kk(n,e,t){const i=n.field.isKeyField()?st.comparator(e.key,t.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?ic(f,d):yt(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return yt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){uc(this.inner,((t,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new ki(st.comparator);function Ta(){return $k}const _S=new ki(st.comparator);function qd(...n){let e=_S;for(const t of n)e=e.insert(t.key,t);return e}function bS(n){let e=_S;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ol(){return tp()}function wS(){return tp()}function tp(){return new iu((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Yk=new ki(st.comparator),Wk=new ti(st.comparator);function pn(...n){let e=Wk;for(const t of n)e=e.add(t);return e}const Qk=new ti(en);function Xk(){return Qk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cp(e)?"-0":e}}function AS(n){return{integerValue:""+n}}function Jk(n,e){return tk(e)?AS(e):vv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this._=void 0}}function Zk(n,e,t){return n instanceof _p?(function(s,o){const u={fields:{[nS]:{stringValue:tS},[rS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&pv(o)&&(o=h1(o)),o&&(u.fields[iS]=o),{mapValue:u}})(t,e):n instanceof Df?SS(n,e):n instanceof Pf?xS(n,e):(function(s,o){const u=ES(s,o),c=Fw(u)+Fw(s.Ae);return uy(u)&&uy(s.Ae)?AS(c):vv(s.serializer,c)})(n,e)}function e7(n,e,t){return n instanceof Df?SS(n,e):n instanceof Pf?xS(n,e):t}function ES(n,e){return n instanceof bp?(function(i){return uy(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class _p extends m1{}class Df extends m1{constructor(e){super(),this.elements=e}}function SS(n,e){const t=TS(e);for(const i of n.elements)t.some((s=>pl(s,i)))||t.push(i);return{arrayValue:{values:t}}}class Pf extends m1{constructor(e){super(),this.elements=e}}function xS(n,e){let t=TS(e);for(const i of n.elements)t=t.filter((s=>!pl(s,i)));return{arrayValue:{values:t}}}class bp extends m1{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Fw(n){return Ri(n.integerValue||n.doubleValue)}function TS(n){return yp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,t){this.field=e,this.transform=t}}function n7(n,e){return n.field.isEqual(e.field)&&(function(i,s){return i instanceof Df&&s instanceof Df||i instanceof Pf&&s instanceof Pf?Sf(i.elements,s.elements,pl):i instanceof bp&&s instanceof bp?pl(i.Ae,s.Ae):i instanceof _p&&s instanceof _p})(n.transform,e.transform)}class i7{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class g1{}function NS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pp(n.key,Wr.none()):new $f(n.key,n.data,Wr.none());{const t=n.data,i=Ts.empty();let s=new ti(Fi.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new ru(n.key,i,new la(s.toArray()),Wr.none())}}function r7(n,e,t){n instanceof $f?(function(s,o,u){const c=s.value.clone(),f=Uw(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,e,t):n instanceof ru?(function(s,o,u){if(!cg(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=Uw(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(IS(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function np(n,e,t,i){return n instanceof $f?(function(o,u,c,f){if(!cg(o.precondition,u))return c;const d=o.value.clone(),g=zw(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,i):n instanceof ru?(function(o,u,c,f){if(!cg(o.precondition,u))return c;const d=zw(o.fieldTransforms,f,u),g=u.data;return g.setAll(IS(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((w=>w.field)))})(n,e,t,i):(function(o,u,c){return cg(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,e,t)}function s7(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),o=ES(i.transform,s||null);o!=null&&(t===null&&(t=Ts.empty()),t.set(i.field,o))}return t||null}function Bw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Sf(i,s,((o,u)=>n7(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class $f extends g1{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ru extends g1{constructor(e,t,i,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function IS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Uw(n,e,t){const i=new Map;It(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,c=e.data.field(o.field);i.set(o.field,e7(u,c,t[s]))}return i}function zw(n,e,t){const i=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);i.set(s.field,Zk(o,u,e))}return i}class Pp extends g1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CS extends g1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&r7(o,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=np(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=np(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=wS();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(s.key)?null:c;const f=NS(u,c);f!==null&&i.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ft.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),pn())}isEqual(e){return this.batchId===e.batchId&&Sf(this.mutations,e.mutations,((t,i)=>Bw(t,i)))&&Sf(this.baseMutations,e.baseMutations,((t,i)=>Bw(t,i)))}}class bv{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){It(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return Yk})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new bv(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr,Rn;function o7(n){switch(n){case ze.OK:return yt(64938);case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0;default:return yt(15467,{code:n})}}function RS(n){if(n===void 0)return Vs("GRPC error has no .code"),ze.UNKNOWN;switch(n){case pr.OK:return ze.OK;case pr.CANCELLED:return ze.CANCELLED;case pr.UNKNOWN:return ze.UNKNOWN;case pr.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case pr.INTERNAL:return ze.INTERNAL;case pr.UNAVAILABLE:return ze.UNAVAILABLE;case pr.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case pr.NOT_FOUND:return ze.NOT_FOUND;case pr.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case pr.ABORTED:return ze.ABORTED;case pr.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case pr.DATA_LOSS:return ze.DATA_LOSS;default:return yt(39323,{code:n})}}(Rn=pr||(pr={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=new Qu([4294967295,4294967295],0);function qw(n){const e=l7().encode(n),t=new IE;return t.update(e),new Uint8Array(t.digest())}function Hw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qu([t,i],0),new Qu([s,o],0)]}class Av{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Hd(`Invalid padding: ${t}`);if(i<0)throw new Hd(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Hd(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Hd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Qu.fromNumber(this.ge)}ye(e,t,i){let s=e.add(t.multiply(Qu.fromNumber(i)));return s.compare(u7)===1&&(s=new Qu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=qw(e),[i,s]=Hw(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);if(!this.we(u))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Av(o,s,t);return i.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const t=qw(e),[i,s]=Hw(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);this.be(u)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Hd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,t,i,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Op.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new y1(Ft.min(),s,new ki(en),Ta(),pn())}}class Op{constructor(e,t,i,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Op(i,t,pn(),pn(),pn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t,i,s){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=s}}class LS{constructor(e,t){this.targetId=e,this.Ce=t}}class kS{constructor(e,t,i=yr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class Gw{constructor(){this.ve=0,this.Fe=Kw(),this.Me=yr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pn(),t=pn(),i=pn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:yt(38017,{changeType:o})}})),new Op(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=Kw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class c7{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ta(),this.He=jm(),this.Je=jm(),this.Ze=new ki(en)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,i=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(Og(o))if(i===0){const u=new st(o.path);this.et(t,u,Qi.newNoDocument(u,Ft.min()))}else It(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const c=this.ut(e),f=c?this.ct(c,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=t;let u,c;try{u=tu(i).toUint8Array()}catch(f){if(f instanceof eS)return tc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Av(u,s,o)}catch(f){return tc(f instanceof Hd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let s=0;return i.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&Og(c.target)){const f=new st(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Qi.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.Ke())}}));let i=pn();this.Je.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new y1(e,t,this.Ze,this.je,i);return this.je=Ta(),this.He=jm(),this.Je=jm(),this.Ze=new ki(en),s}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Gw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new ti(en),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new ti(en),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Je("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function jm(){return new ki(st.comparator)}function Kw(){return new ki(st.comparator)}const h7={asc:"ASCENDING",desc:"DESCENDING"},f7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d7={and:"AND",or:"OR"};class p7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function my(n,e){return n.useProto3Json||o1(e)?e:{value:e}}function Of(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function m7(n,e){return Of(n,e.toTimestamp())}function Fs(n){return It(!!n,49232),Ft.fromTimestamp((function(t){const i=eu(t);return new Zn(i.seconds,i.nanos)})(n))}function Ev(n,e){return gy(n,e).canonicalString()}function gy(n,e){const t=(function(s){return new qn(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function PS(n){const e=qn.fromString(n);return It(qS(e),10190,{key:e.toString()}),e}function jg(n,e){return Ev(n.databaseId,e.path)}function qc(n,e){const t=PS(e);if(t.get(1)!==n.databaseId.projectId)throw new nt(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new nt(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new st(jS(t))}function OS(n,e){return Ev(n.databaseId,e)}function MS(n){const e=PS(n);return e.length===4?qn.emptyPath():jS(e)}function yy(n){return new qn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jS(n){return It(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $w(n,e,t){return{name:jg(n,e),fields:t.value.mapValue.fields}}function g7(n,e,t){const i=qc(n,e.name),s=Fs(e.updateTime),o=e.createTime?Fs(e.createTime):Ft.min(),u=new Ts({mapValue:{fields:e.fields}}),c=Qi.newFoundDocument(i,s,o,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function y7(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:yt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(It(g===void 0||typeof g=="string",58123),yr.fromBase64String(g||"")):(It(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),yr.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(d){const g=d.code===void 0?ze.UNKNOWN:RS(d.code);return new nt(g,d.message||"")})(u);t=new kS(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=qc(n,i.document.name),o=Fs(i.document.updateTime),u=i.document.createTime?Fs(i.document.createTime):Ft.min(),c=new Ts({mapValue:{fields:i.document.fields}}),f=Qi.newFoundDocument(s,o,u,c),d=i.targetIds||[],g=i.removedTargetIds||[];t=new hg(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=qc(n,i.document),o=i.readTime?Fs(i.readTime):Ft.min(),u=Qi.newNoDocument(s,o),c=i.removedTargetIds||[];t=new hg([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=qc(n,i.document),o=i.removedTargetIds||[];t=new hg([],o,s,null)}else{if(!("filter"in e))return yt(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new a7(s,o),c=i.targetId;t=new LS(c,u)}}return t}function Vg(n,e){let t;if(e instanceof $f)t={update:$w(n,e.key,e.value)};else if(e instanceof Pp)t={delete:jg(n,e.key)};else if(e instanceof ru)t={update:$w(n,e.key,e.data),updateMask:E7(e.fieldMask)};else{if(!(e instanceof CS))return yt(16599,{dt:e.type});t={verify:jg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const c=u.transform;if(c instanceof _p)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Df)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Pf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bp)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw yt(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:m7(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:yt(27497)})(n,e.precondition)),t}function vy(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?Wr.updateTime(Fs(o.updateTime)):o.exists!==void 0?Wr.exists(o.exists):Wr.none()})(e.currentDocument):Wr.none(),i=e.updateTransforms?e.updateTransforms.map((s=>(function(u,c){let f=null;if("setToServerValue"in c)It(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),f=new _p;else if("appendMissingElements"in c){const g=c.appendMissingElements.values||[];f=new Df(g)}else if("removeAllFromArray"in c){const g=c.removeAllFromArray.values||[];f=new Pf(g)}else"increment"in c?f=new bp(u,c.increment):yt(16584,{proto:c});const d=Fi.fromServerFormat(c.fieldPath);return new t7(d,f)})(n,s))):[];if(e.update){e.update.name;const s=qc(n,e.update.name),o=new Ts({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(f){const d=f.fieldPaths||[];return new la(d.map((g=>Fi.fromServerFormat(g))))})(e.updateMask);return new ru(s,o,u,t,i)}return new $f(s,o,t,i)}if(e.delete){const s=qc(n,e.delete);return new Pp(s,t)}if(e.verify){const s=qc(n,e.verify);return new CS(s,t)}return yt(1463,{proto:e})}function v7(n,e){return n&&n.length>0?(It(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?Fs(s.updateTime):Fs(o);return u.isEqual(Ft.min())&&(u=Fs(o)),new i7(u,s.transformResults||[])})(t,e)))):[]}function VS(n,e){return{documents:[OS(n,e.path)]}}function FS(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=OS(n,s);const o=(function(d){if(d.length!==0)return zS(ei.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((g=>(function(E){return{field:rf(E.field),direction:b7(E.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=my(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function BS(n){let e=MS(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){It(i===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(w){const E=US(w);return E instanceof ei&&yv(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((E=>(function(j){return new vp(sf(j.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(E)))})(t.orderBy));let c=null;t.limit&&(c=(function(w){let E;return E=typeof w=="object"?w.value:w,o1(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(w){const E=!!w.before,b=w.values||[];return new Lf(b,E)})(t.startAt));let d=null;return t.endAt&&(d=(function(w){const E=!w.before,b=w.values||[];return new Lf(b,E)})(t.endAt)),Uk(e,s,u,o,c,"F",f,d)}function _7(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function US(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=sf(t.unaryFilter.field);return Sn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=sf(t.unaryFilter.field);return Sn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=sf(t.unaryFilter.field);return Sn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=sf(t.unaryFilter.field);return Sn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Sn.create(sf(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ei.create(t.compositeFilter.filters.map((i=>US(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(t.compositeFilter.op))})(n):yt(30097,{filter:n})}function b7(n){return h7[n]}function w7(n){return f7[n]}function A7(n){return d7[n]}function rf(n){return{fieldPath:n.canonicalString()}}function sf(n){return Fi.fromServerFormat(n.fieldPath)}function zS(n){return n instanceof Sn?(function(t){if(t.op==="=="){if(Lw(t.value))return{unaryFilter:{field:rf(t.field),op:"IS_NAN"}};if(Rw(t.value))return{unaryFilter:{field:rf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Lw(t.value))return{unaryFilter:{field:rf(t.field),op:"IS_NOT_NAN"}};if(Rw(t.value))return{unaryFilter:{field:rf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rf(t.field),op:w7(t.op),value:t.value}}})(n):n instanceof ei?(function(t){const i=t.getFilters().map((s=>zS(s)));return i.length===1?i[0]:{compositeFilter:{op:A7(t.op),filters:i}}})(n):yt(54877,{filter:n})}function E7(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function qS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function HS(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,t,i,s,o=Ft.min(),u=Ft.min(),c=yr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.yt=e}}function S7(n,e){let t;if(e.document)t=g7(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=st.fromSegments(e.noDocument.path),s=Jc(e.noDocument.readTime);t=Qi.newNoDocument(i,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return yt(56709);{const i=st.fromSegments(e.unknownDocument.path),s=Jc(e.unknownDocument.version);t=Qi.newUnknownDocument(i,s)}}return e.readTime&&t.setReadTime((function(s){const o=new Zn(s[0],s[1]);return Ft.fromTimestamp(o)})(e.readTime)),t}function Yw(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Fg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(o,u){return{name:jg(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Of(o,u.version.toTimestamp()),createTime:Of(o,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Xc(e.version)};else{if(!e.isUnknownDocument())return yt(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:Xc(e.version)}}return i}function Fg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jc(n){const e=new Zn(n.seconds,n.nanoseconds);return Ft.fromTimestamp(e)}function Pc(n,e){const t=(e.baseMutations||[]).map((o=>vy(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const c=e.mutations[o+1];u.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const i=e.mutations.map((o=>vy(n.yt,o))),s=Zn.fromMillis(e.localWriteTimeMs);return new _v(e.batchId,s,t,i)}function Gd(n){const e=Jc(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Jc(n.lastLimboFreeSnapshotVersion):Ft.min();let i;return i=(function(o){return o.documents!==void 0})(n.query)?(function(o){const u=o.documents.length;return It(u===1,1966,{count:u}),Za(d1(MS(o.documents[0])))})(n.query):(function(o){return Za(BS(o))})(n.query),new Yl(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,yr.fromBase64String(n.resumeToken))}function KS(n,e){const t=Xc(e.snapshotVersion),i=Xc(e.lastLimboFreeSnapshotVersion);let s;s=Og(e.target)?VS(n.yt,e.target):FS(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qc(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function $S(n){const e=BS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?py(e,e.limit,"L"):e}function u2(n,e){return new wv(e.largestBatchId,vy(n.yt,e.overlayMutation))}function Ww(n,e){const t=e.path.lastSegment();return[n,Ns(e.path.popLast()),t]}function Qw(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:Xc(i.readTime),documentKey:Ns(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{getBundleMetadata(e,t){return Xw(e).get(t).next((i=>{if(i)return(function(o){return{id:o.bundleId,createTime:Jc(o.createTime),version:o.version}})(i)}))}saveBundleMetadata(e,t){return Xw(e).put((function(s){return{bundleId:s.id,createTime:Xc(Fs(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return Jw(e).get(t).next((i=>{if(i)return(function(o){return{name:o.name,query:$S(o.bundledQuery),readTime:Jc(o.readTime)}})(i)}))}saveNamedQuery(e,t){return Jw(e).put((function(s){return{name:s.name,readTime:Xc(Fs(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function Xw(n){return kr(n,l1)}function Jw(n){return kr(n,u1)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new v1(e,i)}getOverlay(e,t){return Pd(e).get(Ww(this.userId,t)).next((i=>i?u2(this.serializer,i):null))}getOverlays(e,t){const i=ol();return Ce.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,t,i){const s=[];return i.forEach(((o,u)=>{const c=new wv(t,u);s.push(this.bt(e,c))})),Ce.waitFor(s)}removeOverlaysForBatchId(e,t,i){const s=new Set;t.forEach((u=>s.add(Ns(u.getCollectionPath()))));const o=[];return s.forEach((u=>{const c=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(Pd(e).X(ay,c))})),Ce.waitFor(o)}getOverlaysForCollection(e,t,i){const s=ol(),o=Ns(t),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Pd(e).H(ay,u).next((c=>{for(const f of c){const d=u2(this.serializer,f);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(e,t,i,s){const o=ol();let u;const c=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pd(e).ee({index:YE,range:c},((f,d,g)=>{const w=u2(this.serializer,d);o.size()<s||w.largestBatchId===u?(o.set(w.getKey(),w),u=w.largestBatchId):g.done()})).next((()=>o))}bt(e,t){return Pd(e).put((function(s,o,u){const[c,f,d]=Ww(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:d,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Vg(s.yt,u.mutation)}})(this.serializer,this.userId,t))}}function Pd(n){return kr(n,c1)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{St(e){return kr(e,fv)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const i=t==null?void 0:t.value;return i?yr.fromUint8Array(i):yr.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Ri(e.integerValue));else if("doubleValue"in e){const i=Ri(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),cp(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=eu(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(tu(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?aS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):f1(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):yt(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const i=e.fields||{};this.Ft(t,55);for(const s of Object.keys(i))this.Ot(s,t),this.Ct(i[s],t)}kt(e,t){var u,c;const i=e.fields||{};this.Ft(t,53);const s=Cf,o=((c=(u=i[s].arrayValue)==null?void 0:u.values)==null?void 0:c.length)||0;this.Ft(t,15),t.Mt(Ri(o)),this.Ot(s,t),this.Ct(i[s],t)}qt(e,t){const i=e.values||[];this.Ft(t,50);for(const s of i)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),st.fromName(e).path.forEach((i=>{this.Ft(t,60),this.$t(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Oc.Wt=new Oc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=255;function N7(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function Zw(n){const e=64-(function(i){let s=0;for(let o=0;o<8;++o){const u=N7(255&i[o]);if(s+=u,u!==8)break}return s})(n);return Math.ceil(e/8)}class I7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ht(i.value),i=t.next();this.Jt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const s=t.codePointAt(0);this.Ht(240|s>>>18),this.Ht(128|63&s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s)}}this.Jt()}Yt(e){const t=this.en(e),i=Zw(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),i=Zw(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(Yh),this.sn(255)}_n(){this.an(Yh),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let s=1;s<t.length;++s)t[s]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Yh?(this.sn(Yh),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Yh?(this.an(Yh),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class C7{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class R7{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Od{constructor(){this.cn=new I7,this.ascending=new C7(this.cn),this.descending=new R7(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t,i,s){this.hn=e,this.Pn=t,this.Tn=i,this.In=s}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.In,0),t!==e?i.set([0],this.In.length):++i[i.length-1],new Mc(this.hn,this.Pn,this.Tn,i)}Rn(e,t,i){return{indexId:this.hn,uid:e,arrayValue:fg(this.Tn),directionalValue:fg(this.In),orderedDocumentKey:fg(t),documentKey:i.path.toArray()}}An(e,t,i){const s=this.Rn(e,t,i);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Ou(n,e){let t=n.hn-e.hn;return t!==0?t:(t=eA(n.Tn,e.Tn),t!==0?t:(t=eA(n.In,e.In),t!==0?t:st.comparator(n.Pn,e.Pn)))}function eA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}function fg(n){return q3()?(function(t){let i="";for(let s=0;s<t.length;s++)i+=String.fromCharCode(t[s]);return i})(n):n}function tA(n){return typeof n!="string"?n:(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(n)}class nA{constructor(e){this.Vn=new ti(((t,i)=>Fi.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const i=t;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(e){if(It(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=iy(e);if(t!==void 0&&!this.pn(t))return!1;const i=Rc(e);let s=new Set,o=0,u=0;for(;o<i.length&&this.pn(i[o]);++o)s=s.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Vn.size>0){const c=this.Vn.getIterator().getNext();if(!s.has(c.field.canonicalString())){const f=i[o];if(!this.yn(c,f)||!this.wn(this.dn[u++],f))return!1}++o}for(;o<i.length;++o){const c=i[o];if(u>=this.dn.length||!this.wn(this.dn[u++],c))return!1}return!0}bn(){if(this.fn)return null;let e=new ti(Fi.comparator);const t=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new rg(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new rg(i.field,0))}for(const i of this.dn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new rg(i.field,i.dir==="asc"?0:1)));return new Rg(Rg.UNKNOWN_ID,this.collectionId,t,up.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(n){var t,i;if(It(n instanceof Sn||n instanceof ei,20012),n instanceof Sn){if(n instanceof mS){const s=((i=(t=n.value.arrayValue)==null?void 0:t.values)==null?void 0:i.map((o=>Sn.create(n.field,"==",o))))||[];return ei.create(s,"or")}return n}const e=n.filters.map((s=>YS(s)));return ei.create(e,n.op)}function L7(n){if(n.getFilters().length===0)return[];const e=wy(YS(n));return It(WS(e),7391),_y(e)||by(e)?[e]:e.getFilters()}function _y(n){return n instanceof Sn}function by(n){return n instanceof ei&&yv(n)}function WS(n){return _y(n)||by(n)||(function(t){if(t instanceof ei&&cy(t)){for(const i of t.getFilters())if(!_y(i)&&!by(i))return!1;return!0}return!1})(n)}function wy(n){if(It(n instanceof Sn||n instanceof ei,34018),n instanceof Sn)return n;if(n.filters.length===1)return wy(n.filters[0]);const e=n.filters.map((i=>wy(i)));let t=ei.create(e,n.op);return t=Bg(t),WS(t)?t:(It(t instanceof ei,64498),It(kf(t),40251),It(t.filters.length>1,57927),t.filters.reduce(((i,s)=>Sv(i,s))))}function Sv(n,e){let t;return It(n instanceof Sn||n instanceof ei,38388),It(e instanceof Sn||e instanceof ei,25473),t=n instanceof Sn?e instanceof Sn?(function(s,o){return ei.create([s,o],"and")})(n,e):iA(n,e):e instanceof Sn?iA(e,n):(function(s,o){if(It(s.filters.length>0&&o.filters.length>0,48005),kf(s)&&kf(o))return fS(s,o.getFilters());const u=cy(s)?s:o,c=cy(s)?o:s,f=u.filters.map((d=>Sv(d,c)));return ei.create(f,"or")})(n,e),Bg(t)}function iA(n,e){if(kf(e))return fS(e,n.getFilters());{const t=e.filters.map((i=>Sv(n,i)));return ei.create(t,"or")}}function Bg(n){if(It(n instanceof Sn||n instanceof ei,11850),n instanceof Sn)return n;const e=n.getFilters();if(e.length===1)return Bg(e[0]);if(cS(n))return n;const t=e.map((s=>Bg(s))),i=[];return t.forEach((s=>{s instanceof Sn?i.push(s):s instanceof ei&&(s.op===n.op?i.push(...s.filters):i.push(s))})),i.length===1?i[0]:ei.create(i,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.Sn=new xv}addToCollectionParentIndex(e,t){return this.Sn.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(Ca.min())}updateCollectionGroup(e,t,i){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class xv{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new ti(qn.comparator),o=!s.has(i);return this.index[t]=s.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new ti(qn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="IndexedDbIndexManager",Vm=new Uint8Array(0);class D7{constructor(e,t){this.databaseId=t,this.Dn=new xv,this.Cn=new iu((i=>Qc(i)),((i,s)=>kp(i,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const i=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const o={collectionId:i,parent:Ns(s)};return sA(e).put(o)}return Ce.resolve()}getCollectionParents(e,t){const i=[],s=IDBKeyRange.bound([t,""],[ME(t),""],!1,!0);return sA(e).H(s).next((o=>{for(const u of o){if(u.collectionId!==t)break;i.push(al(u.parent))}return i}))}addFieldIndex(e,t){const i=Md(e),s=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete s.indexId;const o=i.add(s);if(t.indexState){const u=Qh(e);return o.next((c=>{u.put(Qw(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const i=Md(e),s=Qh(e),o=Wh(e);return i.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Md(e),i=Wh(e),s=Qh(e);return t.X().next((()=>i.X())).next((()=>s.X()))}createTargetIndexes(e,t){return Ce.forEach(this.vn(t),(i=>this.getIndexType(e,i).next((s=>{if(s===0||s===1){const o=new nA(i).bn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const i=Wh(e);let s=!0;const o=new Map;return Ce.forEach(this.vn(t),(u=>this.Fn(e,u).next((c=>{s&&(s=!!c),o.set(u,c)})))).next((()=>{if(s){let u=pn();const c=[];return Ce.forEach(o,((f,d)=>{Je(rA,`Using index ${(function(Q){return`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map((ne=>`${ne.fieldPath}:${ne.kind}`)).join(",")}`})(f)} to execute ${Qc(t)}`);const g=(function(Q,ne){const me=iy(ne);if(me===void 0)return null;for(const fe of Mg(Q,me.fieldPath))switch(fe.op){case"array-contains-any":return fe.value.arrayValue.values||[];case"array-contains":return[fe.value]}return null})(d,f),w=(function(Q,ne){const me=new Map;for(const fe of Rc(ne))for(const z of Mg(Q,fe.fieldPath))switch(z.op){case"==":case"in":me.set(fe.fieldPath.canonicalString(),z.value);break;case"not-in":case"!=":return me.set(fe.fieldPath.canonicalString(),z.value),Array.from(me.values())}return null})(d,f),E=(function(Q,ne){const me=[];let fe=!0;for(const z of Rc(ne)){const D=z.kind===0?Mw(Q,z.fieldPath,Q.startAt):jw(Q,z.fieldPath,Q.startAt);me.push(D.value),fe&&(fe=D.inclusive)}return new Lf(me,fe)})(d,f),b=(function(Q,ne){const me=[];let fe=!0;for(const z of Rc(ne)){const D=z.kind===0?jw(Q,z.fieldPath,Q.endAt):Mw(Q,z.fieldPath,Q.endAt);me.push(D.value),fe&&(fe=D.inclusive)}return new Lf(me,fe)})(d,f),j=this.Mn(f,d,E),M=this.Mn(f,d,b),U=this.xn(f,d,w),V=this.On(f.indexId,g,j,E.inclusive,M,b.inclusive,U);return Ce.forEach(V,(ee=>i.Z(ee,t.limit).next((Q=>{Q.forEach((ne=>{const me=st.fromSegments(ne.documentKey);u.has(me)||(u=u.add(me),c.push(me))}))}))))})).next((()=>c))}return Ce.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=L7(ei.create(e.filters,"and")).map((i=>fy(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,i,s,o,u,c){const f=(t!=null?t.length:1)*Math.max(i.length,o.length),d=f/(t!=null?t.length:1),g=[];for(let w=0;w<f;++w){const E=t?this.Nn(t[w/d]):Vm,b=this.Bn(e,E,i[w%d],s),j=this.Ln(e,E,o[w%d],u),M=c.map((U=>this.Bn(e,E,U,!0)));g.push(...this.createRange(b,j,M))}return g}Bn(e,t,i,s){const o=new Mc(e,st.empty(),t,i);return s?o:o.En()}Ln(e,t,i,s){const o=new Mc(e,st.empty(),t,i);return s?o.En():o}Fn(e,t){const i=new nA(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((o=>{let u=null;for(const c of o)i.gn(c)&&(!u||c.fields.length>u.fields.length)&&(u=c);return u}))}getIndexType(e,t){let i=2;const s=this.vn(t);return Ce.forEach(s,(o=>this.Fn(e,o).next((u=>{u?i!==0&&u.fields.length<(function(f){let d=new ti(Fi.comparator),g=!1;for(const w of f.filters)for(const E of w.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?g=!0:d=d.add(E.field));for(const w of f.orderBy)w.field.isKeyField()||(d=d.add(w.field));return d.size+(g?1:0)})(o)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(t)&&s.length>1&&i===2?1:i))}kn(e,t){const i=new Od;for(const s of Rc(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const u=i.ln(s.kind);Oc.Wt.Dt(o,u)}return i.un()}Nn(e){const t=new Od;return Oc.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const i=new Od;return Oc.Wt.Dt(gp(this.databaseId,t),i.ln((function(o){const u=Rc(o);return u.length===0?0:u[u.length-1].kind})(e))),i.un()}xn(e,t,i){if(i===null)return[];let s=[];s.push(new Od);let o=0;for(const u of Rc(e)){const c=i[o++];for(const f of s)if(this.qn(t,u.fieldPath)&&yp(c))s=this.Un(s,u,c);else{const d=f.ln(u.kind);Oc.Wt.Dt(c,d)}}return this.$n(s)}Mn(e,t,i){return this.xn(e,t,i.position)}$n(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Un(e,t,i){const s=[...e],o=[];for(const u of i.arrayValue.values||[])for(const c of s){const f=new Od;f.seed(c.un()),Oc.Wt.Dt(u,f.ln(t.kind)),o.push(f)}return o}qn(e,t){return!!e.filters.find((i=>i instanceof Sn&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=Md(e),s=Qh(e);return(t?i.H(sy,IDBKeyRange.bound(t,t)):i.H()).next((o=>{const u=[];return Ce.forEach(o,(c=>s.get([c.indexId,this.uid]).next((f=>{u.push((function(g,w){const E=w?new up(w.sequenceNumber,new Ca(Jc(w.readTime),new st(al(w.documentKey)),w.largestBatchId)):up.empty(),b=g.fields.map((([j,M])=>new rg(Fi.fromServerFormat(j),M)));return new Rg(g.indexId,g.collectionGroup,b,E)})(c,f))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,s)=>{const o=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:en(i.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const s=Md(e),o=Qh(e);return this.Wn(e).next((u=>s.H(sy,IDBKeyRange.bound(t,t)).next((c=>Ce.forEach(c,(f=>o.put(Qw(f.indexId,this.uid,u,i))))))))}updateIndexEntries(e,t){const i=new Map;return Ce.forEach(t,((s,o)=>{const u=i.get(s.collectionGroup);return(u?Ce.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next((c=>(i.set(s.collectionGroup,c),Ce.forEach(c,(f=>this.Qn(e,s,f).next((d=>{const g=this.Gn(o,f);return d.isEqual(g)?Ce.resolve():this.zn(e,o,f,d,g)})))))))}))}jn(e,t,i,s){return Wh(e).put(s.Rn(this.uid,this.Kn(i,t.key),t.key))}Hn(e,t,i,s){return Wh(e).delete(s.An(this.uid,this.Kn(i,t.key),t.key))}Qn(e,t,i){const s=Wh(e);let o=new ti(Ou);return s.ee({index:$E,range:IDBKeyRange.only([i.indexId,this.uid,fg(this.Kn(i,t))])},((u,c)=>{o=o.add(new Mc(i.indexId,t,tA(c.arrayValue),tA(c.directionalValue)))})).next((()=>o))}Gn(e,t){let i=new ti(Ou);const s=this.kn(t,e);if(s==null)return i;const o=iy(t);if(o!=null){const u=e.data.field(o.fieldPath);if(yp(u))for(const c of u.arrayValue.values||[])i=i.add(new Mc(t.indexId,e.key,this.Nn(c),s))}else i=i.add(new Mc(t.indexId,e.key,Vm,s));return i}zn(e,t,i,s,o){Je(rA,"Updating index entries for document '%s'",t.key);const u=[];return(function(f,d,g,w,E){const b=f.getIterator(),j=d.getIterator();let M=$h(b),U=$h(j);for(;M||U;){let V=!1,ee=!1;if(M&&U){const Q=g(M,U);Q<0?ee=!0:Q>0&&(V=!0)}else M!=null?ee=!0:V=!0;V?(w(U),U=$h(j)):ee?(E(M),M=$h(b)):(M=$h(b),U=$h(j))}})(s,o,Ou,(c=>{u.push(this.jn(e,t,i,c))}),(c=>{u.push(this.Hn(e,t,i,c))})),Ce.waitFor(u)}Wn(e){let t=1;return Qh(e).ee({index:KE,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,s,o)=>{o.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((u,c)=>Ou(u,c))).filter(((u,c,f)=>!c||Ou(u,f[c-1])!==0));const s=[];s.push(e);for(const u of i){const c=Ou(u,e),f=Ou(u,t);if(c===0)s[0]=e.En();else if(c>0&&f<0)s.push(u),s.push(u.En());else if(f>0)break}s.push(t);const o=[];for(let u=0;u<s.length;u+=2){if(this.Jn(s[u],s[u+1]))return[];const c=s[u].An(this.uid,Vm,st.empty()),f=s[u+1].An(this.uid,Vm,st.empty());o.push(IDBKeyRange.bound(c,f))}return o}Jn(e,t){return Ou(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(aA)}getMinOffset(e,t){return Ce.mapArray(this.vn(t),(i=>this.Fn(e,i).next((s=>s||yt(44426))))).next(aA)}}function sA(n){return kr(n,dp)}function Wh(n){return kr(n,Jd)}function Md(n){return kr(n,hv)}function Qh(n){return kr(n,Xd)}function aA(n){It(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const s=n[i].indexState.offset;lv(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Ca(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QS=41943040;class xs{static withCacheSize(e){return new xs(e,xs.DEFAULT_COLLECTION_PERCENTILE,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(n,e,t){const i=n.store(xo),s=n.store(xf),o=[],u=IDBKeyRange.only(t.batchId);let c=0;const f=i.ee({range:u},((g,w,E)=>(c++,E.delete())));o.push(f.next((()=>{It(c===1,47070,{batchId:t.batchId})})));const d=[];for(const g of t.mutations){const w=qE(e,g.key.path,t.batchId);o.push(s.delete(w)),d.push(g.key)}return Ce.waitFor(o).next((()=>d))}function Ug(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw yt(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs.DEFAULT_COLLECTION_PERCENTILE=10,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xs.DEFAULT=new xs(QS,xs.DEFAULT_COLLECTION_PERCENTILE,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xs.DISABLED=new xs(-1,0,0);class _1{constructor(e,t,i,s){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=s,this.Zn={}}static wt(e,t,i,s){It(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new _1(o,t,i,s)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mu(e).ee({index:Vc,range:i},((s,o,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,i,s){const o=af(e),u=Mu(e);return u.add({}).next((c=>{It(typeof c=="number",49019);const f=new _v(c,t,i,s),d=(function(b,j,M){const U=M.baseMutations.map((ee=>Vg(b.yt,ee))),V=M.mutations.map((ee=>Vg(b.yt,ee)));return{userId:j,batchId:M.batchId,localWriteTimeMs:M.localWriteTime.toMillis(),baseMutations:U,mutations:V}})(this.serializer,this.userId,f),g=[];let w=new ti(((E,b)=>en(E.canonicalString(),b.canonicalString())));for(const E of s){const b=qE(this.userId,E.key.path,c);w=w.add(E.key.path.popLast()),g.push(u.put(d)),g.push(o.put(b,rk))}return w.forEach((E=>{g.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Zn[c]=f.keys()})),Ce.waitFor(g).next((()=>f))}))}lookupMutationBatch(e,t){return Mu(e).get(t).next((i=>i?(It(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),Pc(this.serializer,i)):null))}Xn(e,t){return this.Zn[t]?Ce.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const s=i.keys();return this.Zn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Mu(e).ee({index:Vc,range:s},((u,c,f)=>{c.userId===this.userId&&(It(c.batchId>=i,47524,{Yn:i}),o=Pc(this.serializer,c)),f.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Uc;return Mu(e).ee({index:Vc,range:t,reverse:!0},((s,o,u)=>{i=o.batchId,u.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Uc],[this.userId,Number.POSITIVE_INFINITY]);return Mu(e).H(Vc,t).next((i=>i.map((s=>Pc(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=sg(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=[];return af(e).ee({range:s},((u,c,f)=>{const[d,g,w]=u,E=al(g);if(d===this.userId&&t.path.isEqual(E))return Mu(e).get(w).next((b=>{if(!b)throw yt(61480,{er:u,batchId:w});It(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:w}),o.push(Pc(this.serializer,b))}));f.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ti(en);const s=[];return t.forEach((o=>{const u=sg(this.userId,o.path),c=IDBKeyRange.lowerBound(u),f=af(e).ee({range:c},((d,g,w)=>{const[E,b,j]=d,M=al(b);E===this.userId&&o.path.isEqual(M)?i=i.add(j):w.done()}));s.push(f)})),Ce.waitFor(s).next((()=>this.tr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1,o=sg(this.userId,i),u=IDBKeyRange.lowerBound(o);let c=new ti(en);return af(e).ee({range:u},((f,d,g)=>{const[w,E,b]=f,j=al(E);w===this.userId&&i.isPrefixOf(j)?j.length===s&&(c=c.add(b)):g.done()})).next((()=>this.tr(e,c)))}tr(e,t){const i=[],s=[];return t.forEach((o=>{s.push(Mu(e).get(o).next((u=>{if(u===null)throw yt(35274,{batchId:o});It(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),i.push(Pc(this.serializer,u))})))})),Ce.waitFor(s).next((()=>i))}removeMutationBatch(e,t){return XS(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),Ce.forEach(i,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ce.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),s=[];return af(e).ee({range:i},((o,u,c)=>{if(o[0]===this.userId){const f=al(o[1]);s.push(f)}else c.done()})).next((()=>{It(s.length===0,56720,{rr:s.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return JS(e,this.userId,t)}ir(e){return ZS(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Uc,lastStreamToken:""}))}}function JS(n,e,t){const i=sg(e,t.path),s=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return af(n).ee({range:o,Y:!0},((c,f,d)=>{const[g,w,E]=c;g===e&&w===s&&(u=!0),d.done()})).next((()=>u))}function Mu(n){return kr(n,xo)}function af(n){return kr(n,xf)}function ZS(n){return kr(n,hp)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Zc(0)}static ar(){return new Zc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const i=new Zc(t.highestTargetId);return t.highestTargetId=i.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Ft.fromTimestamp(new Zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.ur(e).next((s=>(s.highestListenSequenceNumber=t,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.cr(e,s))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((i=>(i.targetCount+=1,this.hr(t,i),this.cr(e,i))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Xh(e).delete(t.targetId))).next((()=>this.ur(e))).next((i=>(It(i.targetCount>0,8065),i.targetCount-=1,this.cr(e,i))))}removeTargets(e,t,i){let s=0;const o=[];return Xh(e).ee(((u,c)=>{const f=Gd(c);f.sequenceNumber<=t&&i.get(f.targetId)===null&&(s++,o.push(this.removeTargetData(e,f)))})).next((()=>Ce.waitFor(o))).next((()=>s))}forEachTarget(e,t){return Xh(e).ee(((i,s)=>{const o=Gd(s);t(o)}))}ur(e){return lA(e).get(Dg).next((t=>(It(t!==null,2888),t)))}cr(e,t){return lA(e).put(Dg,t)}lr(e,t){return Xh(e).put(KS(this.serializer,t))}hr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const i=Qc(t),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Xh(e).ee({range:s,index:GE},((u,c,f)=>{const d=Gd(c);kp(t,d.target)&&(o=d,f.done())})).next((()=>o))}addMatchingKeys(e,t,i){const s=[],o=Gu(e);return t.forEach((u=>{const c=Ns(u.path);s.push(o.put({targetId:i,path:c})),s.push(this.referenceDelegate.addReference(e,i,u))})),Ce.waitFor(s)}removeMatchingKeys(e,t,i){const s=Gu(e);return Ce.forEach(t,(o=>{const u=Ns(o.path);return Ce.waitFor([s.delete([i,u]),this.referenceDelegate.removeReference(e,i,o)])}))}removeMatchingKeysForTargetId(e,t){const i=Gu(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),s=Gu(e);let o=pn();return s.ee({range:i,Y:!0},((u,c,f)=>{const d=al(u[1]),g=new st(d);o=o.add(g)})).next((()=>o))}containsKey(e,t){const i=Ns(t.path),s=IDBKeyRange.bound([i],[ME(i)],!1,!0);let o=0;return Gu(e).ee({index:cv,Y:!0,range:s},(([u,c],f,d)=>{u!==0&&(o++,d.done())})).next((()=>o>0))}At(e,t){return Xh(e).get(t).next((i=>i?Gd(i):null))}}function Xh(n){return kr(n,Tf)}function lA(n){return kr(n,zc)}function Gu(n){return kr(n,Nf)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="LruGarbageCollector",O7=1048576;function cA([n,e],[t,i]){const s=en(n,t);return s===0?en(e,i):s}class M7{constructor(e){this.Pr=e,this.buffer=new ti(cA),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();cA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ex{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Je(uA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){lc(t)?Je(uA,"Ignoring IndexedDB error during garbage collection: ",t):await oh(t)}await this.Ar(3e5)}))}}class j7{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return Ce.resolve(Xa.ce);const i=new M7(t);return this.Vr.forEachTarget(e,(s=>i.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>i.Er(s))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Je("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(oA)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oA):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,s,o,u,c,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(i=w,c=Date.now(),this.removeTargets(e,i,t)))).next((w=>(o=w,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((w=>(d=Date.now(),tf()<=En.DEBUG&&Je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${w} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:w}))))}}function tx(n,e){return new j7(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,t){this.db=e,this.garbageCollector=tx(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((i,s)=>t(s)))}addReference(e,t,i){return Fm(e,i)}removeReference(e,t,i){return Fm(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Fm(e,t)}wr(e,t){return(function(s,o){let u=!1;return ZS(s).te((c=>JS(s,c,o).next((f=>(f&&(u=!0),Ce.resolve(!f)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.yr(e,((u,c)=>{if(c<=t){const f=this.wr(e,u).next((d=>{if(!d)return o++,i.getEntry(e,u).next((()=>(i.removeEntry(u,Ft.min()),Gu(e).delete((function(w){return[0,Ns(w.path)]})(u)))))}));s.push(f)}})).next((()=>Ce.waitFor(s))).next((()=>i.apply(e))).next((()=>o))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Fm(e,t)}yr(e,t){const i=Gu(e);let s,o=Xa.ce;return i.ee({index:cv},(([u,c],{path:f,sequenceNumber:d})=>{u===0?(o!==Xa.ce&&t(new st(al(s)),o),o=d,s=f):o=Xa.ce})).next((()=>{o!==Xa.ce&&t(new st(al(s)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fm(n,e){return Gu(n).put((function(i,s){return{targetId:0,path:Ns(i.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.changes=new iu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ic(e).put(i)}removeEntry(e,t,i){return Ic(e).delete((function(o,u){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Fg(u),c[c.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.br(e,i))))}getEntry(e,t){let i=Qi.newInvalidDocument(t);return Ic(e).ee({index:ag,range:IDBKeyRange.only(jd(t))},((s,o)=>{i=this.Sr(t,o)})).next((()=>i))}Dr(e,t){let i={size:0,document:Qi.newInvalidDocument(t)};return Ic(e).ee({index:ag,range:IDBKeyRange.only(jd(t))},((s,o)=>{i={document:this.Sr(t,o),size:Ug(o)}})).next((()=>i))}getEntries(e,t){let i=Ta();return this.Cr(e,t,((s,o)=>{const u=this.Sr(s,o);i=i.insert(s,u)})).next((()=>i))}vr(e,t){let i=Ta(),s=new ki(st.comparator);return this.Cr(e,t,((o,u)=>{const c=this.Sr(o,u);i=i.insert(o,c),s=s.insert(o,Ug(u))})).next((()=>({documents:i,Fr:s})))}Cr(e,t,i){if(t.isEmpty())return Ce.resolve();let s=new ti(dA);t.forEach((f=>s=s.add(f)));const o=IDBKeyRange.bound(jd(s.first()),jd(s.last())),u=s.getIterator();let c=u.getNext();return Ic(e).ee({index:ag,range:o},((f,d,g)=>{const w=st.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;c&&dA(c,w)<0;)i(c,null),c=u.getNext();c&&c.isEqual(w)&&(i(c,d),c=u.hasNext()?u.getNext():null),c?g.j(jd(c)):g.done()})).next((()=>{for(;c;)i(c,null),c=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,i,s,o){const u=t.path,c=[u.popLast().toArray(),u.lastSegment(),Fg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ic(e).H(IDBKeyRange.bound(c,f,!0)).next((d=>{o==null||o.incrementDocumentReadCount(d.length);let g=Ta();for(const w of d){const E=this.Sr(st.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);E.isFoundDocument()&&(Dp(t,E)||s.has(E.key))&&(g=g.insert(E.key,E))}return g}))}getAllFromCollectionGroup(e,t,i,s){let o=Ta();const u=fA(t,i),c=fA(t,Ca.max());return Ic(e).ee({index:HE,range:IDBKeyRange.bound(u,c,!0)},((f,d,g)=>{const w=this.Sr(st.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(w.key,w),o.size===s&&g.done()})).next((()=>o))}newChangeBuffer(e){return new B7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return hA(e).get(ry).next((t=>(It(!!t,20021),t)))}br(e,t){return hA(e).put(ry,t)}Sr(e,t){if(t){const i=S7(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(Ft.min())))return i}return Qi.newInvalidDocument(e)}}function ix(n){return new F7(n)}class B7 extends nx{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new iu((i=>i.toString()),((i,s)=>i.isEqual(s)))}applyChanges(e){const t=[];let i=0,s=new ti(((o,u)=>en(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const c=this.Or.get(o);if(t.push(this.Mr.removeEntry(e,o,c.readTime)),u.isValidDocument()){const f=Yw(this.Mr.serializer,u);s=s.add(o.path.popLast());const d=Ug(f);i+=d-c.size,t.push(this.Mr.addEntry(e,o,f))}else if(i-=c.size,this.trackRemovals){const f=Yw(this.Mr.serializer,u.convertToNoDocument(Ft.min()));t.push(this.Mr.addEntry(e,o,f))}})),s.forEach((o=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Mr.updateMetadata(e,i)),Ce.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((i=>(this.Or.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:i,Fr:s})=>(s.forEach(((o,u)=>{this.Or.set(o,{size:u,readTime:i.get(o).readTime})})),i)))}}function hA(n){return kr(n,fp)}function Ic(n){return kr(n,kg)}function jd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fA(n,e){const t=e.documentKey.path.toArray();return[n,Fg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function dA(n,e){const t=n.path.toArray(),i=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(s=en(t[o],i[o]),s)return s;return s=en(t.length,i.length),s||(s=en(t[t.length-2],i[i.length-2]),s||en(t[t.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(i!==null&&np(i.mutation,s,la.empty(),Zn.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,pn()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=pn()){const s=ol();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,i).next((o=>{let u=qd();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=ol();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,pn())))}populateOverlays(e,t,i){const s=[];return i.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,c)=>{t.set(u,c)}))}))}computeViews(e,t,i,s){let o=Ta();const u=tp(),c=(function(){return tp()})();return t.forEach(((f,d)=>{const g=i.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof ru)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),np(g.mutation,d,g.mutation.getFieldMask(),Zn.now())):u.set(d.key,la.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>c.set(d,new U7(g,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const i=tp();let s=new ki(((u,c)=>u-c)),o=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=i.get(f)||la.empty();g=c.applyToLocalView(d,g),i.set(f,g);const w=(s.get(c.batchId)||pn()).add(f);s=s.insert(c.batchId,w)}))})).next((()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,g=f.value,w=wS();g.forEach((E=>{if(!o.has(E)){const b=NS(t.get(E),i.get(E));b!==null&&w.set(E,b),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,w))}return Ce.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,s){return zk(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-o.size):Ce.resolve(ol());let c=lp,f=o;return u.next((d=>Ce.forEach(d,((g,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),o.get(g)?Ce.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{f=f.insert(g,E)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,pn()))).next((g=>({batchId:c,changes:bS(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new st(t)).next((i=>{let s=qd();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const o=t.collectionGroup;let u=qd();return this.indexManager.getCollectionParents(e,o).next((c=>Ce.forEach(c,(f=>{const d=(function(w,E){return new Kf(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next((g=>{g.forEach(((w,E)=>{u=u.insert(w,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,s)))).next((u=>{o.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,Qi.newInvalidDocument(g)))}));let c=qd();return u.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&np(g.mutation,d,la.empty(),Zn.now()),Dp(t,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Fs(s.createTime)}})(t)),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:$S(s.bundledQuery),readTime:Fs(s.readTime)}})(t)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(){this.overlays=new ki(st.comparator),this.Lr=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ol();return Ce.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((s,o)=>{this.bt(e,t,o)})),Ce.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Lr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),Ce.resolve()}getOverlaysForCollection(e,t,i){const s=ol(),o=t.length+1,u=new st(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return Ce.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let o=new ki(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let g=o.get(d.largestBatchId);g===null&&(g=ol(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=ol(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>c.set(d,g))),!(c.size()>=s)););return Ce.resolve(c)}bt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.Lr.get(s.largestBatchId).delete(i.key);this.Lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new wv(t,i));let o=this.Lr.get(t);o===void 0&&(o=pn(),this.Lr.set(t,o)),this.Lr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.kr=new ti($r.Kr),this.qr=new ti($r.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new $r(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new $r(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new st(new qn([])),i=new $r(t,e),s=new $r(t,e+1),o=[];return this.qr.forEachInRange([i,s],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new st(new qn([])),i=new $r(t,e),s=new $r(t,e+1);let o=pn();return this.qr.forEachInRange([i,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new $r(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class $r{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return st.comparator(e.key,t.key)||en(e.Hr,t.Hr)}static Ur(e,t){return en(e.Hr,t.Hr)||st.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new ti($r.Kr)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new _v(o,t,i,s);this.mutationQueue.push(u);for(const c of s)this.Jr=this.Jr.add(new $r(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ce.resolve(u)}lookupMutationBatch(e,t){return Ce.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Xr(i),o=s<0?0:s;return Ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?Uc:this.Yn-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $r(t,0),s=new $r(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,s],(u=>{const c=this.Zr(u.Hr);o.push(c)})),Ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ti(en);return t.forEach((s=>{const o=new $r(s,0),u=new $r(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(c=>{i=i.add(c.Hr)}))})),Ce.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let o=i;st.isDocumentKey(o)||(o=o.child(""));const u=new $r(new st(o),0);let c=new ti(en);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.Hr)),!0)}),u),Ce.resolve(this.Yr(c))}Yr(e){const t=[];return e.forEach((i=>{const s=this.Zr(i);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){It(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Ce.forEach(t.mutations,(s=>{const o=new $r(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new $r(t,0),s=this.Jr.firstAfterOrEqual(i);return Ce.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e){this.ti=e,this.docs=(function(){return new ki(st.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),o=s?s.size:0,u=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ce.resolve(i?i.document.mutableCopy():Qi.newInvalidDocument(t))}getEntries(e,t){let i=Ta();return t.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Qi.newInvalidDocument(s))})),Ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let o=Ta();const u=t.path,c=new st(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||lv(FE(g),i)<=0||(s.has(g.key)||Dp(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Ce.resolve(o)}getAllFromCollectionGroup(e,t,i,s){yt(9500)}ni(e,t){return Ce.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new $7(this)}getSize(e){return Ce.resolve(this.size)}}class $7 extends nx{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(i)})),Ce.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e){this.persistence=e,this.ri=new iu((t=>Qc(t)),kp),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.ii=0,this.si=new Tv,this.targetCount=0,this.oi=Zc._r()}forEachTarget(e,t){return this.ri.forEach(((i,s)=>t(s))),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),Ce.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Zc(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.lr(t),Ce.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,i){let s=0;const o=[];return this.ri.forEach(((u,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),Ce.waitFor(o).next((()=>s))}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return Ce.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),Ce.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),Ce.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return Ce.resolve(i)}containsKey(e,t){return Ce.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t){this._i={},this.overlays={},this.ai=new Xa(0),this.ui=!1,this.ui=!0,this.ci=new H7,this.referenceDelegate=e(this),this.li=new Y7(this),this.indexManager=new k7,this.remoteDocumentCache=(function(s){return new K7(s)})((i=>this.referenceDelegate.hi(i))),this.serializer=new GS(t),this.Pi=new z7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new q7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new G7(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){Je("MemoryPersistence","Starting transaction:",e);const s=new W7(this.ai.next());return this.referenceDelegate.Ti(),i(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,t){return Ce.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class W7 extends UE{constructor(e){super(),this.currentSequenceNumber=e}}class b1{constructor(e){this.persistence=e,this.Ri=new Tv,this.Ai=null}static Vi(e){return new b1(e)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),Ce.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.di,(i=>{const s=st.fromPath(i);return this.mi(e,s).next((o=>{o||t.removeEntry(s,Ft.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Ce.or([()=>Ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class zg{constructor(e,t){this.persistence=e,this.fi=new iu((i=>Ns(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=tx(this,t)}static Vi(e,t){return new zg(e,t)}Ti(){}Ii(e){return Ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return Ce.forEach(this.fi,((i,s)=>this.wr(e,i,s).next((o=>o?Ce.resolve():t(s)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(u=>this.wr(e,u,t).next((c=>{c||(i++,o.removeEntry(u,Ft.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),Ce.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Ce.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lg(e.data.value)),t}wr(e,t,i){return Ce.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return Ce.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e){this.serializer=e}k(e,t,i,s){const o=new a1("createOrUpgrade",t);i<1&&s>=1&&((function(f){f.createObjectStore(Lp)})(e),(function(f){f.createObjectStore(hp,{keyPath:ik}),f.createObjectStore(xo,{keyPath:Sw,autoIncrement:!0}).createIndex(Vc,xw,{unique:!0}),f.createObjectStore(xf)})(e),pA(e),(function(f){f.createObjectStore(Lc)})(e));let u=Ce.resolve();return i<3&&s>=3&&(i!==0&&((function(f){f.deleteObjectStore(Nf),f.deleteObjectStore(Tf),f.deleteObjectStore(zc)})(e),pA(e)),u=u.next((()=>(function(f){const d=f.store(zc),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ft.min().toTimestamp(),targetCount:0};return d.put(Dg,g)})(o)))),i<4&&s>=4&&(i!==0&&(u=u.next((()=>(function(f,d){return d.store(xo).H().next((w=>{f.deleteObjectStore(xo),f.createObjectStore(xo,{keyPath:Sw,autoIncrement:!0}).createIndex(Vc,xw,{unique:!0});const E=d.store(xo),b=w.map((j=>E.put(j)));return Ce.waitFor(b)}))})(e,o)))),u=u.next((()=>{(function(f){f.createObjectStore(If,{keyPath:fk})})(e)}))),i<5&&s>=5&&(u=u.next((()=>this.gi(o)))),i<6&&s>=6&&(u=u.next((()=>((function(f){f.createObjectStore(fp)})(e),this.pi(o))))),i<7&&s>=7&&(u=u.next((()=>this.yi(o)))),i<8&&s>=8&&(u=u.next((()=>this.wi(e,o)))),i<9&&s>=9&&(u=u.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&s>=10&&(u=u.next((()=>this.bi(o)))),i<11&&s>=11&&(u=u.next((()=>{(function(f){f.createObjectStore(l1,{keyPath:dk})})(e),(function(f){f.createObjectStore(u1,{keyPath:pk})})(e)}))),i<12&&s>=12&&(u=u.next((()=>{(function(f){const d=f.createObjectStore(c1,{keyPath:wk});d.createIndex(ay,Ak,{unique:!1}),d.createIndex(YE,Ek,{unique:!1})})(e)}))),i<13&&s>=13&&(u=u.next((()=>(function(f){const d=f.createObjectStore(kg,{keyPath:sk});d.createIndex(ag,ak),d.createIndex(HE,ok)})(e))).next((()=>this.Si(e,o))).next((()=>e.deleteObjectStore(Lc)))),i<14&&s>=14&&(u=u.next((()=>this.Di(e,o)))),i<15&&s>=15&&(u=u.next((()=>(function(f){f.createObjectStore(hv,{keyPath:mk,autoIncrement:!0}).createIndex(sy,gk,{unique:!1}),f.createObjectStore(Xd,{keyPath:yk}).createIndex(KE,vk,{unique:!1}),f.createObjectStore(Jd,{keyPath:_k}).createIndex($E,bk,{unique:!1})})(e)))),i<16&&s>=16&&(u=u.next((()=>{t.objectStore(Xd).clear()})).next((()=>{t.objectStore(Jd).clear()}))),i<17&&s>=17&&(u=u.next((()=>{(function(f){f.createObjectStore(fv,{keyPath:Sk})})(e)}))),i<18&&s>=18&&q3()&&(u=u.next((()=>{t.objectStore(Xd).clear()})).next((()=>{t.objectStore(Jd).clear()}))),u}pi(e){let t=0;return e.store(Lc).ee(((i,s)=>{t+=Ug(s)})).next((()=>{const i={byteSize:t};return e.store(fp).put(ry,i)}))}gi(e){const t=e.store(hp),i=e.store(xo);return t.H().next((s=>Ce.forEach(s,(o=>{const u=IDBKeyRange.bound([o.userId,Uc],[o.userId,o.lastAcknowledgedBatchId]);return i.H(Vc,u).next((c=>Ce.forEach(c,(f=>{It(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=Pc(this.serializer,f);return XS(e,o.userId,d).next((()=>{}))}))))}))))}yi(e){const t=e.store(Nf),i=e.store(Lc);return e.store(zc).get(Dg).next((s=>{const o=[];return i.ee(((u,c)=>{const f=new qn(u),d=(function(w){return[0,Ns(w)]})(f);o.push(t.get(d).next((g=>g?Ce.resolve():(w=>t.put({targetId:0,path:Ns(w),sequenceNumber:s.highestListenSequenceNumber}))(f))))})).next((()=>Ce.waitFor(o)))}))}wi(e,t){e.createObjectStore(dp,{keyPath:hk});const i=t.store(dp),s=new xv,o=u=>{if(s.add(u)){const c=u.lastSegment(),f=u.popLast();return i.put({collectionId:c,parent:Ns(f)})}};return t.store(Lc).ee({Y:!0},((u,c)=>{const f=new qn(u);return o(f.popLast())})).next((()=>t.store(xf).ee({Y:!0},(([u,c,f],d)=>{const g=al(c);return o(g.popLast())}))))}bi(e){const t=e.store(Tf);return t.ee(((i,s)=>{const o=Gd(s),u=KS(this.serializer,o);return t.put(u)}))}Si(e,t){const i=t.store(Lc),s=[];return i.ee(((o,u)=>{const c=t.store(kg),f=(function(w){return w.document?new st(qn.fromString(w.document.name).popFirst(5)):w.noDocument?st.fromSegments(w.noDocument.path):w.unknownDocument?st.fromSegments(w.unknownDocument.path):yt(36783)})(u).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(c.put(d))})).next((()=>Ce.waitFor(s)))}Di(e,t){const i=t.store(xo),s=ix(this.serializer),o=new Nv(b1.Vi,this.serializer.yt);return i.H().next((u=>{const c=new Map;return u.forEach((f=>{let d=c.get(f.userId)??pn();Pc(this.serializer,f).keys().forEach((g=>d=d.add(g))),c.set(f.userId,d)})),Ce.forEach(c,((f,d)=>{const g=new cs(d),w=v1.wt(this.serializer,g),E=o.getIndexManager(g),b=_1.wt(g,this.serializer,E,o.referenceDelegate);return new rx(s,b,w,E).recalculateAndSaveOverlaysForDocumentKeys(new oy(t,Xa.ce),f).next()}))}))}}function pA(n){n.createObjectStore(Nf,{keyPath:uk}).createIndex(cv,ck,{unique:!0}),n.createObjectStore(Tf,{keyPath:"targetId"}).createIndex(GE,lk,{unique:!0}),n.createObjectStore(zc)}const ju="IndexedDbPersistence",c2=18e5,h2=5e3,f2="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",X7="main";class Iv{constructor(e,t,i,s,o,u,c,f,d,g,w=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ci=o,this.window=u,this.document=c,this.Fi=d,this.Mi=g,this.xi=w,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!Iv.v())throw new nt(ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new V7(this,s),this.Ki=t+X7,this.serializer=new GS(f),this.qi=new Ju(this.Ki,this.xi,new Q7(this.serializer)),this.ci=new T7,this.li=new P7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ix(this.serializer),this.Pi=new x7,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,g===!1&&Vs(ju,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new nt(ze.FAILED_PRECONDITION,f2);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new Xa(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Bm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(lc(e))return Je(ju,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Je(ju,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Vd(e).get(Kh).next((t=>Ce.resolve(this.Xi(t))))}Yi(e){return Bm(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,c2)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=kr(t,If);return i.H().next((s=>{const o=this.ns(s,c2),u=s.filter((c=>o.indexOf(c)===-1));return Ce.forEach(u,(c=>i.delete(c.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?Ce.resolve(!0):Vd(e).get(Kh).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,h2)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new nt(ze.FAILED_PRECONDITION,f2);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bm(e).H().next((i=>this.ns(i,h2).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,c=this.networkEnabled===s.networkEnabled;if(o||u&&c)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&Je(ju,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Lp,If],(e=>{const t=new oy(e,Xa.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((i=>this.ts(i.updateTimeMs,t)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Bm(e).H().next((t=>this.ns(t,c2).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return _1.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new D7(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return v1.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,i){Je(ju,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=(function(f){return f===18?Nk:f===17?JE:f===16?Tk:f===15?dv:f===14?XE:f===13?QE:f===12?xk:f===11?WE:void yt(60245)})(this.xi);let u;return this.qi.runTransaction(e,s,o,(c=>(u=new oy(c,this.ai?this.ai.next():Xa.ce),t==="readwrite-primary"?this.ji(u).next((f=>!!f||this.Hi(u))).next((f=>{if(!f)throw Vs(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new nt(ze.FAILED_PRECONDITION,BE);return i(u)})).next((f=>this.Zi(u).next((()=>f)))):this.Ps(u).next((()=>i(u)))))).then((c=>(u.raiseOnCommittedEvent(),c)))}Ps(e){return Vd(e).get(Kh).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,h2)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new nt(ze.FAILED_PRECONDITION,f2)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vd(e).put(Kh,t)}static v(){return Ju.v()}Ji(e){const t=Vd(e);return t.get(Kh).next((i=>this.Xi(i)?(Je(ju,"Releasing primary lease."),t.delete(Kh)):Ce.resolve()))}ts(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(Vs(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;z3()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var t;try{const i=((t=this.Ui)==null?void 0:t.getItem(this.rs(e)))!==null;return Je(ju,`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Vs(ju,"Failed to get zombied client id.",i),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Vs("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vd(n){return kr(n,Lp)}function Bm(n){return kr(n,If)}function J7(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=s}static Es(e,t){let i=pn(),s=pn();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Cv(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return z3()?8:zE(Lr())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,s){const o={result:null};return this.gs(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(e,t,s,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new Z7;return this.ys(e,t,u).next((c=>{if(o.result=c,this.As)return this.ws(e,t,u,c.size)}))})).next((()=>o.result))}ws(e,t,i,s){return i.documentReadCount<this.Vs?(tf()<=En.DEBUG&&Je("QueryEngine","SDK will not create cache indexes for query:",nf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ce.resolve()):(tf()<=En.DEBUG&&Je("QueryEngine","Query:",nf(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(tf()<=En.DEBUG&&Je("QueryEngine","The SDK decides to create cache indexes for query:",nf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Za(t))):Ce.resolve())}gs(e,t){if(Vw(t))return Ce.resolve(null);let i=Za(t);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=py(t,null,"F"),i=Za(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=pn(...o);return this.fs.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,i).next((f=>{const d=this.bs(t,c);return this.Ss(t,d,u,f.readTime)?this.gs(e,py(t,null,"F")):this.Ds(e,d,t,f)}))))})))))}ps(e,t,i,s){return Vw(t)||s.isEqual(Ft.min())?Ce.resolve(null):this.fs.getDocuments(e,i).next((o=>{const u=this.bs(t,o);return this.Ss(t,u,i,s)?Ce.resolve(null):(tf()<=En.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),nf(t)),this.Ds(e,u,t,QL(s,lp)).next((c=>c)))}))}bs(e,t){let i=new ti(vS(e));return t.forEach(((s,o)=>{Dp(e,o)&&(i=i.add(o))})),i}Ss(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,t,i){return tf()<=En.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",nf(t)),this.fs.getDocumentsMatchingQuery(e,t,Ca.min(),i)}Ds(e,t,i,s){return this.fs.getDocumentsMatchingQuery(e,i,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="LocalStore",eD=3e8;class tD{constructor(e,t,i,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new ki(en),this.Fs=new iu((o=>Qc(o)),kp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function ax(n,e,t,i){return new tD(n,e,t,i)}async function ox(n,e){const t=tn(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],c=[];let f=pn();for(const d of s){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){c.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(i,f).next((d=>({Ns:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function nD(n,e){const t=tn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,g){const w=d.batch,E=w.keys();let b=Ce.resolve();return E.forEach((j=>{b=b.next((()=>g.getEntry(f,j))).next((M=>{const U=d.docVersions.get(j);It(U!==null,48541),M.version.compareTo(U)<0&&(w.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),g.addEntry(M)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(f,w)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(c){let f=pn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,s)))}))}function lx(n){const e=tn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function iD(n,e){const t=tn(n),i=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const c=[];e.targetChanges.forEach(((g,w)=>{const E=s.get(w);if(!E)return;c.push(t.li.removeMatchingKeys(o,g.removedDocuments,w).next((()=>t.li.addMatchingKeys(o,g.addedDocuments,w))));let b=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(yr.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,i)),s=s.insert(w,b),(function(M,U,V){return M.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=eD?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(E,b,g)&&c.push(t.li.updateTargetData(o,b))}));let f=Ta(),d=pn();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(rD(o,u,e.documentUpdates).next((g=>{f=g.Bs,d=g.Ls}))),!i.isEqual(Ft.min())){const g=t.li.getLastRemoteSnapshotVersion(o).next((w=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));c.push(g)}return Ce.waitFor(c).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.vs=s,o)))}function rD(n,e,t){let i=pn(),s=pn();return t.forEach((o=>i=i.add(o))),e.getEntries(n,i).next((o=>{let u=Ta();return t.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(Ft.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):Je(Rv,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:u,Ls:s}}))}function sD(n,e){const t=tn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Uc),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function aD(n,e){const t=tn(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return t.li.getTargetData(i,e).next((o=>o?(s=o,Ce.resolve(s)):t.li.allocateTargetId(i).next((u=>(s=new Yl(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=t.vs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function Ay(n,e,t){const i=tn(n),s=i.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!lc(u))throw u;Je(Rv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(s.target)}function mA(n,e,t){const i=tn(n);let s=Ft.min(),o=pn();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const w=tn(f),E=w.Fs.get(g);return E!==void 0?Ce.resolve(w.vs.get(E)):w.li.getTargetData(d,g)})(i,u,Za(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,t?s:Ft.min(),t?o:pn()))).next((c=>(oD(i,Gk(e),c),{documents:c,ks:o})))))}function oD(n,e,t){let i=n.Ms.get(e)||Ft.min();t.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Ms.set(e,i)}class gA{constructor(){this.activeTargetIds=Xk()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ux{constructor(){this.vo=new gA,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new gA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="ConnectivityMonitor";class vA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Je(yA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Je(yA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um=null;function Ey(){return Um===null?Um=(function(){return 268435456+Math.round(2147483648*Math.random())})():Um++,"0x"+Um.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="RestConnection",uD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class cD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.$o=this.databaseId.database===Pg?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,t,i,s,o){const u=Ey(),c=this.Qo(e,t.toUriEncodedString());Je(d2,`Sending RPC '${e}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,o);const{host:d}=new URL(c),g=zf(d);return this.zo(e,c,f,i,g).then((w=>(Je(d2,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw tc(d2,`RPC '${e}' ${u} failed with error: `,w,"url: ",c,"request:",i),w}))}jo(e,t,i,s,o,u){return this.Wo(e,t,i,s,o)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),i&&i.headers.forEach(((s,o)=>e[o]=s))}Qo(e,t){const i=uD[e];let s=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="WebChannelConnection",Fd=(n,e,t)=>{n.listen(e,(i=>{try{t(i)}catch(s){setTimeout((()=>{throw s}),0)}}))};class mf extends cD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!mf.c_){const e=kE();Fd(e,LE.STAT_EVENT,(t=>{t.stat===ty.PROXY?Je(bs,"STAT_EVENT: detected buffering proxy"):t.stat===ty.NOPROXY&&Je(bs,"STAT_EVENT: detected no buffering proxy")})),mf.c_=!0}}zo(e,t,i,s,o){const u=Ey();return new Promise(((c,f)=>{const d=new CE;d.setWithCredentials(!0),d.listenOnce(RE.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case ig.NO_ERROR:const w=d.getResponseJson();Je(bs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),c(w);break;case ig.TIMEOUT:Je(bs,`RPC '${e}' ${u} timed out`),f(new nt(ze.DEADLINE_EXCEEDED,"Request time out"));break;case ig.HTTP_ERROR:const E=d.getStatus();if(Je(bs,`RPC '${e}' ${u} failed with status:`,E,"response text:",d.getResponseText()),E>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const j=b==null?void 0:b.error;if(j&&j.status&&j.message){const M=(function(V){const ee=V.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(ee)>=0?ee:ze.UNKNOWN})(j.status);f(new nt(M,j.message))}else f(new nt(ze.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new nt(ze.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Je(bs,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);Je(bs,`RPC '${e}' ${u} sending request:`,s),d.send(t,"POST",g,i,15)}))}T_(e,t,i){const s=Ey(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const d=o.join("");Je(bs,`Creating RPC '${e}' stream ${s}: ${d}`,c);const g=u.createWebChannel(d,c);this.I_(g);let w=!1,E=!1;const b=new hD({Ho:j=>{E?Je(bs,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(w||(Je(bs,`Opening RPC '${e}' stream ${s} transport.`),g.open(),w=!0),Je(bs,`RPC '${e}' stream ${s} sending:`,j),g.send(j))},Jo:()=>g.close()});return Fd(g,zd.EventType.OPEN,(()=>{E||(Je(bs,`RPC '${e}' stream ${s} transport opened.`),b.i_())})),Fd(g,zd.EventType.CLOSE,(()=>{E||(E=!0,Je(bs,`RPC '${e}' stream ${s} transport closed`),b.o_(),this.E_(g))})),Fd(g,zd.EventType.ERROR,(j=>{E||(E=!0,tc(bs,`RPC '${e}' stream ${s} transport errored. Name:`,j.name,"Message:",j.message),b.o_(new nt(ze.UNAVAILABLE,"The operation could not be completed")))})),Fd(g,zd.EventType.MESSAGE,(j=>{var M;if(!E){const U=j.data[0];It(!!U,16349);const V=U,ee=(V==null?void 0:V.error)||((M=V[0])==null?void 0:M.error);if(ee){Je(bs,`RPC '${e}' stream ${s} received error:`,ee);const Q=ee.status;let ne=(function(z){const D=pr[z];if(D!==void 0)return RS(D)})(Q),me=ee.message;Q==="NOT_FOUND"&&me.includes("database")&&me.includes("does not exist")&&me.includes(this.databaseId.database)&&tc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ne===void 0&&(ne=ze.INTERNAL,me="Unknown error status: "+Q+" with message "+ee.message),E=!0,b.o_(new nt(ne,me)),g.close()}else Je(bs,`RPC '${e}' stream ${s} received:`,U),b.__(U)}})),mf.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(n){return new mf(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return typeof window<"u"?window:null}function dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n){return new p7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mf.c_=!1;class cx{constructor(e,t,i=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-i);s>0&&Je("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="PersistentStream";class hx{constructor(e,t,i,s,o,u,c,f){this.Ci=e,this.b_=i,this.S_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ze.RESOURCE_EXHAUSTED?(Vs(t.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ze.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===t&&this.G_(i,s)}),(i=>{e((()=>{const s=new nt(ze.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Je(_A,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Je(_A,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pD extends hx{constructor(e,t,i,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=y7(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Ft.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ft.min():u.readTime?Fs(u.readTime):Ft.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=yy(this.serializer),t.addTarget=(function(o,u){let c;const f=u.target;if(c=Og(f)?{documents:VS(o,f)}:{query:FS(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=DS(o,u.resumeToken);const d=my(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ft.min())>0){c.readTime=Of(o,u.snapshotVersion.toTimestamp());const d=my(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const i=_7(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=yy(this.serializer),t.removeTarget=e,this.K_(t)}}class mD extends hx{constructor(e,t,i,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=v7(e.writeResults,e.commitTime),i=Fs(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=yy(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Vg(this.serializer,i)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{}class yD extends gD{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new nt(ze.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,gy(t,i),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new nt(ze.UNKNOWN,o.toString())}))}jo(e,t,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.jo(e,gy(t,i),s,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new nt(ze.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function vD(n,e,t,i){return new yD(n,e,t,i)}class _D{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(t),this.aa=!1):Je("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="RemoteStore";class bD{constructor(e,t,i,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{lh(this)&&(Je(eh,"Restarting streams for network reachability change."),await(async function(f){const d=tn(f);d.Ea.add(4),await Mp(d),d.Va.set("Unknown"),d.Ea.delete(4),await A1(d)})(this))}))})),this.Va=new _D(i,s)}}async function A1(n){if(lh(n))for(const e of n.Ra)await e(!0)}async function Mp(n){for(const e of n.Ra)await e(!1)}function fx(n,e){const t=tn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Pv(t)?Dv(t):Yf(t).O_()&&kv(t,e))}function Lv(n,e){const t=tn(n),i=Yf(t);t.Ia.delete(e),i.O_()&&dx(t,e),t.Ia.size===0&&(i.O_()?i.L_():lh(t)&&t.Va.set("Unknown"))}function kv(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ft.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yf(n).Z_(e)}function dx(n,e){n.da.$e(e),Yf(n).X_(e)}function Dv(n){n.da=new c7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Yf(n).start(),n.Va.ua()}function Pv(n){return lh(n)&&!Yf(n).x_()&&n.Ia.size>0}function lh(n){return tn(n).Ea.size===0}function px(n){n.da=void 0}async function wD(n){n.Va.set("Online")}async function AD(n){n.Ia.forEach(((e,t)=>{kv(n,e)}))}async function ED(n,e){px(n),Pv(n)?(n.Va.ha(e),Dv(n)):n.Va.set("Unknown")}async function SD(n,e,t){if(n.Va.set("Online"),e instanceof kS&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ia.delete(c),s.da.removeTarget(c))})(n,e)}catch(i){Je(eh,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await qg(n,i)}else if(e instanceof hg?n.da.Xe(e):e instanceof LS?n.da.st(e):n.da.tt(e),!t.isEqual(Ft.min()))try{const i=await lx(n.localStore);t.compareTo(i)>=0&&await(function(o,u){const c=o.da.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(yr.EMPTY_BYTE_STRING,g.snapshotVersion)),dx(o,f);const w=new Yl(g.target,f,d,g.sequenceNumber);kv(o,w)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(i){Je(eh,"Failed to raise snapshot:",i),await qg(n,i)}}async function qg(n,e,t){if(!lc(e))throw e;n.Ea.add(1),await Mp(n),n.Va.set("Offline"),t||(t=()=>lx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Je(eh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await A1(n)}))}function mx(n,e){return e().catch((t=>qg(n,t,e)))}async function jp(n){const e=tn(n),t=rc(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Uc;for(;xD(e);)try{const s=await sD(e.localStore,i);if(s===null){e.Ta.length===0&&t.L_();break}i=s.batchId,TD(e,s)}catch(s){await qg(e,s)}gx(e)&&yx(e)}function xD(n){return lh(n)&&n.Ta.length<10}function TD(n,e){n.Ta.push(e);const t=rc(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function gx(n){return lh(n)&&!rc(n).x_()&&n.Ta.length>0}function yx(n){rc(n).start()}async function ND(n){rc(n).ra()}async function ID(n){const e=rc(n);for(const t of n.Ta)e.ea(t.mutations)}async function CD(n,e,t){const i=n.Ta.shift(),s=bv.from(i,e,t);await mx(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await jp(n)}async function RD(n,e){e&&rc(n).Y_&&await(async function(i,s){if((function(u){return o7(u)&&u!==ze.ABORTED})(s.code)){const o=i.Ta.shift();rc(i).B_(),await mx(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await jp(i)}})(n,e),gx(n)&&yx(n)}async function bA(n,e){const t=tn(n);t.asyncQueue.verifyOperationInProgress(),Je(eh,"RemoteStore received new credentials");const i=lh(t);t.Ea.add(3),await Mp(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await A1(t)}async function LD(n,e){const t=tn(n);e?(t.Ea.delete(2),await A1(t)):e||(t.Ea.add(2),await Mp(t),t.Va.set("Unknown"))}function Yf(n){return n.ma||(n.ma=(function(t,i,s){const o=tn(t);return o.sa(),new pD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:wD.bind(null,n),Yo:AD.bind(null,n),t_:ED.bind(null,n),J_:SD.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Pv(n)?Dv(n):n.Va.set("Unknown")):(await n.ma.stop(),px(n))}))),n.ma}function rc(n){return n.fa||(n.fa=(function(t,i,s){const o=tn(t);return o.sa(),new mD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ND.bind(null,n),t_:RD.bind(null,n),ta:ID.bind(null,n),na:CD.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await jp(n)):(await n.fa.stop(),n.Ta.length>0&&(Je(eh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t,i,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,o){const u=Date.now()+i,c=new Ov(e,t,u,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mv(n,e){if(Vs("AsyncQueue",`${e}: ${n}`),lc(n))return new nt(ze.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{static emptySet(e){return new gf(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||st.comparator(t.key,i.key):(t,i)=>st.comparator(t.key,i.key),this.keyedMap=qd(),this.sortedSet=new ki(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new gf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.ga=new ki(st.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):yt(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Mf{constructor(e,t,i,s,o,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,s,o){const u=[];return t.forEach((c=>{u.push({type:0,doc:c})})),new Mf(e,t,gf.emptySet(t),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&p1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class DD{constructor(){this.queries=AA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=tn(t),o=s.queries;s.queries=AA(),o.forEach(((u,c)=>{for(const f of c.ba)f.onError(i)}))})(this,new nt(ze.ABORTED,"Firestore shutting down"))}}function AA(){return new iu((n=>yS(n)),p1)}async function PD(n,e){const t=tn(n);let i=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.Da()&&(i=2):(o=new kD,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const c=Mv(u,`Initialization of query '${nf(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&jv(t)}async function OD(n,e){const t=tn(n),i=e.query;let s=3;const o=t.queries.get(i);if(o){const u=o.ba.indexOf(e);u>=0&&(o.ba.splice(u,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function MD(n,e){const t=tn(n);let i=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const c of u.ba)c.Fa(s)&&(i=!0);u.wa=s}}i&&jv(t)}function jD(n,e,t){const i=tn(n),s=i.queries.get(e);if(s)for(const o of s.ba)o.onError(t);i.queries.delete(e)}function jv(n){n.Ca.forEach((e=>{e.next()}))}var Sy,EA;(EA=Sy||(Sy={})).Ma="default",EA.Cache="cache";class VD{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Mf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Mf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.key=e}}class _x{constructor(e){this.key=e}}class FD{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pn(),this.mutatedKeys=pn(),this.eu=vS(e),this.tu=new gf(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new wA,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,w)=>{const E=s.get(g),b=Dp(this.query,w)?w:null,j=!!E&&this.mutatedKeys.has(E.key),M=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let U=!1;E&&b?E.data.isEqual(b.data)?j!==M&&(i.track({type:3,doc:b}),U=!0):this.su(E,b)||(i.track({type:2,doc:b}),U=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(c=!0)):!E&&b?(i.track({type:0,doc:b}),U=!0):E&&!b&&(i.track({type:1,doc:E}),U=!0,(f||d)&&(c=!0)),U&&(b?(u=u.add(b),o=M?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Ss:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,w)=>(function(b,j){const M=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:U})}};return M(b)-M(j)})(g.type,w.type)||this.eu(g.doc,w.doc))),this.ou(i),s=s??!1;const c=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Xa;return this.Xa=f,u.length!==0||d?{snapshot:new Mf(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=pn(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new _x(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new vx(i))})),t}cu(e){this.Za=e.ks,this.Ya=pn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Mf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Vv="SyncEngine";class BD{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class UD{constructor(e){this.key=e,this.hu=!1}}class zD{constructor(e,t,i,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new iu((c=>yS(c)),p1),this.Iu=new Map,this.Eu=new Set,this.Ru=new ki(st.comparator),this.Au=new Map,this.Vu=new Tv,this.du={},this.mu=new Map,this.fu=Zc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qD(n,e,t=!0){const i=xx(n);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await bx(i,e,t,!0),s}async function HD(n,e){const t=xx(n);await bx(t,e,!0,!1)}async function bx(n,e,t,i){const s=await aD(n.localStore,Za(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return i&&(c=await GD(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&fx(n.remoteStore,s),c}async function GD(n,e,t,i,s){n.pu=(w,E,b)=>(async function(M,U,V,ee){let Q=U.view.ru(V);Q.Ss&&(Q=await mA(M.localStore,U.query,!1).then((({documents:z})=>U.view.ru(z,Q))));const ne=ee&&ee.targetChanges.get(U.targetId),me=ee&&ee.targetMismatches.get(U.targetId)!=null,fe=U.view.applyChanges(Q,M.isPrimaryClient,ne,me);return xA(M,U.targetId,fe.au),fe.snapshot})(n,w,E,b);const o=await mA(n.localStore,e,!0),u=new FD(e,o.ks),c=u.ru(o.documents),f=Op.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),d=u.applyChanges(c,n.isPrimaryClient,f);xA(n,t,d.au);const g=new BD(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function KD(n,e,t){const i=tn(n),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter((u=>!p1(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Ay(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Lv(i.remoteStore,s.targetId),xy(i,s.targetId)})).catch(oh)):(xy(i,s.targetId),await Ay(i.localStore,s.targetId,!0))}async function $D(n,e){const t=tn(n),i=t.Tu.get(e),s=t.Iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Lv(t.remoteStore,i.targetId))}async function YD(n,e,t){const i=Tx(n);try{const s=await(function(u,c){const f=tn(u),d=Zn.now(),g=c.reduce(((b,j)=>b.add(j.key)),pn());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let j=Ta(),M=pn();return f.xs.getEntries(b,g).next((U=>{j=U,j.forEach(((V,ee)=>{ee.isValidDocument()||(M=M.add(V))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,j))).next((U=>{w=U;const V=[];for(const ee of c){const Q=s7(ee,w.get(ee.key).overlayedDocument);Q!=null&&V.push(new ru(ee.key,Q,lS(Q.value.mapValue),Wr.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,V,c)})).next((U=>{E=U;const V=U.applyToLocalDocumentSet(w,M);return f.documentOverlayCache.saveOverlays(b,U.batchId,V)}))})).then((()=>({batchId:E.batchId,changes:bS(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(u,c,f){let d=u.du[u.currentUser.toKey()];d||(d=new ki(en)),d=d.insert(c,f),u.du[u.currentUser.toKey()]=d})(i,s.batchId,t),await Vp(i,s.changes),await jp(i.remoteStore)}catch(s){const o=Mv(s,"Failed to persist write");t.reject(o)}}async function wx(n,e){const t=tn(n);try{const i=await iD(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(It(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?It(u.hu,14607):s.removedDocuments.size>0&&(It(u.hu,42227),u.hu=!1))})),await Vp(t,i,e)}catch(i){await oh(i)}}function SA(n,e,t){const i=tn(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(u,c){const f=tn(u);f.onlineState=c;let d=!1;f.queries.forEach(((g,w)=>{for(const E of w.ba)E.va(c)&&(d=!0)})),d&&jv(f)})(i.eventManager,e),s.length&&i.Pu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function WD(n,e,t){const i=tn(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Au.get(e),o=s&&s.key;if(o){let u=new ki(st.comparator);u=u.insert(o,Qi.newNoDocument(o,Ft.min()));const c=pn().add(o),f=new y1(Ft.min(),new Map,new ki(en),u,c);await wx(i,f),i.Ru=i.Ru.remove(o),i.Au.delete(e),Fv(i)}else await Ay(i.localStore,e,!1).then((()=>xy(i,e,t))).catch(oh)}async function QD(n,e){const t=tn(n),i=e.batch.batchId;try{const s=await nD(t.localStore,e);Ex(t,i,null),Ax(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Vp(t,s)}catch(s){await oh(s)}}async function XD(n,e,t){const i=tn(n);try{const s=await(function(u,c){const f=tn(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,c).next((w=>(It(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(d,w)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(i.localStore,e);Ex(i,e,t),Ax(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Vp(i,s)}catch(s){await oh(s)}}function Ax(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Ex(n,e,t){const i=tn(n);let s=i.du[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),i.du[i.currentUser.toKey()]=s}}function xy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((i=>{n.Vu.containsKey(i)||Sx(n,i)}))}function Sx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Lv(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Fv(n))}function xA(n,e,t){for(const i of t)i instanceof vx?(n.Vu.addReference(i.key,e),JD(n,i)):i instanceof _x?(Je(Vv,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,e),n.Vu.containsKey(i.key)||Sx(n,i.key)):yt(19791,{wu:i})}function JD(n,e){const t=e.key,i=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(i)||(Je(Vv,"New document in limbo: "+t),n.Eu.add(i),Fv(n))}function Fv(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new st(qn.fromString(e)),i=n.fu.next();n.Au.set(i,new UD(t)),n.Ru=n.Ru.insert(t,i),fx(n.remoteStore,new Yl(Za(d1(t.path)),i,"TargetPurposeLimboResolution",Xa.ce))}}async function Vp(n,e,t){const i=tn(n),s=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((c,f)=>{u.push(i.pu(f,e,t).then((d=>{var g;if((d||t)&&i.isPrimaryClient){const w=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:g.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(d){s.push(d);const w=Cv.Es(f.targetId,d);o.push(w)}})))})),await Promise.all(u),i.Pu.J_(s),await(async function(f,d){const g=tn(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Ce.forEach(d,(E=>Ce.forEach(E.Ts,(b=>g.persistence.referenceDelegate.addReference(w,E.targetId,b))).next((()=>Ce.forEach(E.Is,(b=>g.persistence.referenceDelegate.removeReference(w,E.targetId,b)))))))))}catch(w){if(!lc(w))throw w;Je(Rv,"Failed to update sequence numbers: "+w)}for(const w of d){const E=w.targetId;if(!w.fromCache){const b=g.vs.get(E),j=b.snapshotVersion,M=b.withLastLimboFreeSnapshotVersion(j);g.vs=g.vs.insert(E,M)}}})(i.localStore,o))}async function ZD(n,e){const t=tn(n);if(!t.currentUser.isEqual(e)){Je(Vv,"User change. New user:",e.toKey());const i=await ox(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new nt(ze.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Vp(t,i.Ns)}}function eP(n,e){const t=tn(n),i=t.Au.get(e);if(i&&i.hu)return pn().add(i.key);{let s=pn();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const c=t.Tu.get(u);s=s.unionWith(c.view.nu)}return s}}function xx(n){const e=tn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WD.bind(null,e),e.Pu.J_=MD.bind(null,e.eventManager),e.Pu.yu=jD.bind(null,e.eventManager),e}function Tx(n){const e=tn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XD.bind(null,e),e}class wp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=w1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ax(this.persistence,new sx,e.initialUser,this.serializer)}Cu(e){return new Nv(b1.Vi,this.serializer)}Du(e){return new ux}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wp.provider={build:()=>new wp};class tP extends wp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){It(this.persistence.referenceDelegate instanceof zg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new ex(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?xs.withCacheSize(this.cacheSizeBytes):xs.DEFAULT;return new Nv((i=>zg.Vi(i,t)),this.serializer)}}class nP extends wp{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Tx(this.xu.syncEngine),await jp(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return ax(this.persistence,new sx,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new ex(i,e.asyncQueue,t)}Mu(e,t){const i=new ek(t,this.persistence);return new ZL(e.asyncQueue,i)}Cu(e){const t=J7(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?xs.withCacheSize(this.cacheSizeBytes):xs.DEFAULT;return new Iv(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,dD(),dg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new ux}}class Hg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>SA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZD.bind(null,this.syncEngine),await LD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DD})()}createDatastore(e){const t=w1(e.databaseInfo.databaseId),i=fD(e.databaseInfo);return vD(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,s,o,u,c){return new bD(i,s,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>SA(this.syncEngine,t,0)),(function(){return vA.v()?new vA:new lD})())}createSyncEngine(e,t){return(function(s,o,u,c,f,d,g){const w=new zD(s,o,u,c,f,d);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const o=tn(s);Je(eh,"RemoteStore shutting down."),o.Ea.add(5),await Mp(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Hg.provider={build:()=>new Hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc="FirestoreClient";class rP{constructor(e,t,i,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=s,this.user=cs.UNAUTHENTICATED,this.clientId=ov.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{Je(sc,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Je(sc,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Mv(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function p2(n,e){n.asyncQueue.verifyOperationInProgress(),Je(sc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async s=>{i.isEqual(s)||(await ox(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function TA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await sP(n);Je(sc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>bA(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,s)=>bA(e.remoteStore,s))),n._onlineComponents=e}async function sP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Je(sc,"Using user provided OfflineComponentProvider");try{await p2(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ze.FAILED_PRECONDITION||s.code===ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;tc("Error using user provided cache. Falling back to memory cache: "+t),await p2(n,new wp)}}else Je(sc,"Using default OfflineComponentProvider"),await p2(n,new tP(void 0));return n._offlineComponents}async function Nx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Je(sc,"Using user provided OnlineComponentProvider"),await TA(n,n._uninitializedComponentsProvider._online)):(Je(sc,"Using default OnlineComponentProvider"),await TA(n,new Hg))),n._onlineComponents}function aP(n){return Nx(n).then((e=>e.syncEngine))}async function NA(n){const e=await Nx(n),t=e.eventManager;return t.onListen=qD.bind(null,e.syncEngine),t.onUnlisten=KD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$D.bind(null,e.syncEngine),t}function oP(n,e,t,i){const s=new iP(i),o=new VD(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>PD(await NA(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>OD(await NA(n),o)))}}function lP(n,e){const t=new Xu;return n.asyncQueue.enqueueAndForget((async()=>YD(await aP(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="ComponentProvider",IA=new Map;function cP(n,e,t,i,s){return new Ck(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Ix(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="firestore.googleapis.com",CA=!0;class RA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new nt(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cx,this.ssl=CA}else this.host=e.host,this.ssl=e.ssl??CA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O7)throw new nt(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ix(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new nt(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new nt(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new nt(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class E1{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new FL;switch(i.type){case"firstParty":return new qL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new nt(ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=IA.get(t);i&&(Je(uP,"Removing Datastore"),IA.delete(t),i.terminate())})(this),Promise.resolve()}}function hP(n,e,t,i={}){var d;n=hl(n,E1);const s=zf(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(V3(`https://${c}`),F3("Firestore",!0)),o.host!==Cx&&o.host!==c&&tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:s,emulatorOptions:i};if(!ec(f,u)&&(n._setSettings(f),i.mockUserToken)){let g,w;if(typeof i.mockUserToken=="string")g=i.mockUserToken,w=cs.MOCK_USER;else{g=fC(i.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new nt(ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new cs(E)}n._authCredentials=new BL(new OE(g,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new uh(this.firestore,e,this._query)}}class gr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}toJSON(){return{type:gr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Rp(t,gr._jsonSchema))return new gr(e,i||null,new st(qn.fromString(t.referencePath)))}}gr._jsonSchemaVersion="firestore/documentReference/1.0",gr._jsonSchema={type:mr("string",gr._jsonSchemaVersion),referencePath:mr("string")};class Zu extends uh{constructor(e,t,i){super(e,t,d1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new st(e))}withConverter(e){return new Zu(this.firestore,e,this._path)}}function Eo(n,e,...t){if(n=sr(n),jE("collection","path",e),n instanceof E1){const i=qn.fromString(e,...t);return _w(i),new Zu(n,null,i)}{if(!(n instanceof gr||n instanceof Zu))throw new nt(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(qn.fromString(e,...t));return _w(i),new Zu(n.firestore,null,i)}}function Kr(n,e,...t){if(n=sr(n),arguments.length===1&&(e=ov.newId()),jE("doc","path",e),n instanceof E1){const i=qn.fromString(e,...t);return vw(i),new gr(n,null,new st(i))}{if(!(n instanceof gr||n instanceof Zu))throw new nt(ze.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(qn.fromString(e,...t));return vw(i),new gr(n.firestore,n instanceof Zu?n.converter:null,new st(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="AsyncQueue";class kA{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cx(this,"async_queue_retry"),this._c=()=>{const i=dg();i&&Je(LA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=dg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=dg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Xu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!lc(e))throw e;Je(LA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",DA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Ov.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&yt(47125,{Pc:DA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function DA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ac extends E1{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new kA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kA(e),this._firestoreClient=void 0,await e}}}function fP(n,e){const t=typeof n=="object"?n:Qy(),i=typeof n=="string"?n:Pg,s=ah(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=cC("firestore");o&&hP(s,...o)}return s}function Bv(n){if(n._terminated)throw new nt(ze.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Rx(n),n._firestoreClient}function Rx(n){var i,s,o,u;const e=n._freezeSettings(),t=cP(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,(s=n._app)==null?void 0:s.options.apiKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new rP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}})(n._componentsProvider))}function dP(n,e){tc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return pP(n,Hg.provider,{build:i=>new nP(i,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function pP(n,e,t){if((n=hl(n,ac))._firestoreClient||n._terminated)throw new nt(ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new nt(ze.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},Rx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qa(yr.fromBase64String(e))}catch(t){throw new nt(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qa(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rp(e,Qa._jsonSchema))return Qa.fromBase64String(e.bytes)}}Qa._jsonSchemaVersion="firestore/bytes/1.0",Qa._jsonSchema={type:mr("string",Qa._jsonSchemaVersion),bytes:mr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new nt(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nt(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nt(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fl._jsonSchemaVersion}}static fromJSON(e){if(Rp(e,fl._jsonSchema))return new fl(e.latitude,e.longitude)}}fl._jsonSchemaVersion="firestore/geoPoint/1.0",fl._jsonSchema={type:mr("string",fl._jsonSchemaVersion),latitude:mr("number"),longitude:mr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:No._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rp(e,No._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new No(e.vectorValues);throw new nt(ze.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}No._jsonSchemaVersion="firestore/vectorValue/1.0",No._jsonSchema={type:mr("string",No._jsonSchemaVersion),vectorValues:mr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=/^__.*__$/;class gP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ru(e,this.data,this.fieldMask,t,this.fieldTransforms):new $f(e,this.data,t,this.fieldTransforms)}}class Lx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ru(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:n})}}class zv{constructor(e,t,i,s,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new zv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const t=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var s;const t=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Gg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(kx(this.dataSource)&&mP.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class yP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||w1(e)}createContext(e,t,i,s=!1){return new zv({dataSource:e,methodName:t,targetDoc:i,path:Fi.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x1(n){const e=n._freezeSettings(),t=w1(n._databaseId);return new yP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Dx(n,e,t,i,s,o={}){const u=n.createContext(o.merge||o.mergeFields?2:0,e,t,s);qv("Data must be an object, but it was:",u,i);const c=Mx(i,u);let f,d;if(o.merge)f=new la(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const w of o.mergeFields){const E=jf(e,w,t);if(!u.contains(E))throw new nt(ze.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Fx(g,E)||g.push(E)}f=new la(g),d=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,d=u.fieldTransforms;return new gP(new Ts(c),f,d)}class T1 extends Uv{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof T1}}function Px(n,e,t,i){const s=n.createContext(1,e,t);qv("Data must be an object, but it was:",s,i);const o=[],u=Ts.empty();uc(i,((f,d)=>{const g=Vx(e,f,t);d=sr(d);const w=s.childContextForFieldPath(g);if(d instanceof T1)o.push(g);else{const E=Fp(d,w);E!=null&&(o.push(g),u.set(g,E))}}));const c=new la(o);return new Lx(u,c,s.fieldTransforms)}function Ox(n,e,t,i,s,o){const u=n.createContext(1,e,t),c=[jf(e,i,t)],f=[s];if(o.length%2!=0)throw new nt(ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(jf(e,o[E])),f.push(o[E+1]);const d=[],g=Ts.empty();for(let E=c.length-1;E>=0;--E)if(!Fx(d,c[E])){const b=c[E];let j=f[E];j=sr(j);const M=u.childContextForFieldPath(b);if(j instanceof T1)d.push(b);else{const U=Fp(j,M);U!=null&&(d.push(b),g.set(b,U))}}const w=new la(d);return new Lx(g,w,u.fieldTransforms)}function vP(n,e,t,i=!1){return Fp(t,n.createContext(i?4:3,e))}function Fp(n,e){if(jx(n=sr(n)))return qv("Unsupported field value:",e,n),Mx(n,e);if(n instanceof Uv)return(function(i,s){if(!kx(s.dataSource))throw s.createError(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,s){const o=[];let u=0;for(const c of i){let f=Fp(c,s.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(i,s){if((i=sr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Jk(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Zn.fromDate(i);return{timestampValue:Of(s.serializer,o)}}if(i instanceof Zn){const o=new Zn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Of(s.serializer,o)}}if(i instanceof fl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qa)return{bytesValue:DS(s.serializer,i._byteString)};if(i instanceof gr){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ev(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof No)return(function(u,c){const f=u instanceof No?u.toArray():u;return{mapValue:{fields:{[mv]:{stringValue:gv},[Cf]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw c.createError("VectorValues must only contain numeric values.");return vv(c.serializer,g)}))}}}}}})(i,s);if(HS(i))return i._toProto(s.serializer);throw s.createError(`Unsupported field value: ${s1(i)}`)})(n,e)}function Mx(n,e){const t={};return ZE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uc(n,((i,s)=>{const o=Fp(s,e.childContextForField(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function jx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zn||n instanceof fl||n instanceof Qa||n instanceof gr||n instanceof Uv||n instanceof No||HS(n))}function qv(n,e,t){if(!jx(t)||!VE(t)){const i=s1(t);throw i==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+i)}}function jf(n,e,t){if((e=sr(e))instanceof S1)return e._internalPath;if(typeof e=="string")return Vx(n,e);throw Gg("Field path arguments must be of type string or ",n,!1,void 0,t)}const _P=new RegExp("[~\\*/\\[\\]]");function Vx(n,e,t){if(e.search(_P)>=0)throw Gg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new S1(...e.split("."))._internalPath}catch{throw Gg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gg(n,e,t,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${s}`),f+=")"),new nt(ze.INVALID_ARGUMENT,c+n+f)}function Fx(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{convertValue(e,t="none"){switch(nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return uc(e,((s,o)=>{i[s]=this.convertValue(o,t)})),i}convertVectorValue(e){var i,s,o;const t=(o=(s=(i=e.fields)==null?void 0:i[Cf].arrayValue)==null?void 0:s.values)==null?void 0:o.map((u=>Ri(u.doubleValue)));return new No(t)}convertGeoPoint(e){return new fl(Ri(e.latitude),Ri(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=h1(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pp(e));default:return null}}convertTimestamp(e){const t=eu(e);return new Zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=qn.fromString(e);It(qS(i),9688,{name:e});const s=new Wc(i.get(1),i.get(3)),o=new st(i.popFirst(5));return s.isEqual(t)||Vs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends bP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,t)}}const PA="@firebase/firestore",OA="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,t,i,s,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(jf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class wP extends Ux{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new nt(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hv{}class zx extends Hv{}function EP(n,e,...t){let i=[];e instanceof Hv&&i.push(e),i=i.concat(t),(function(o){const u=o.filter((f=>f instanceof Kv)).length,c=o.filter((f=>f instanceof Gv)).length;if(u>1||u>0&&c>0)throw new nt(ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)n=s._apply(n);return n}class Gv extends zx{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Gv(e,t,i)}_apply(e){const t=this._parse(e);return qx(e._query,t),new uh(e.firestore,e.converter,dy(e._query,t))}_parse(e){const t=x1(e.firestore);return(function(o,u,c,f,d,g,w){let E;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new nt(ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){VA(w,g);const j=[];for(const M of w)j.push(jA(f,o,M));E={arrayValue:{values:j}}}else E=jA(f,o,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||VA(w,g),E=vP(c,u,w,g==="in"||g==="not-in");return Sn.create(d,g,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Kv extends Hv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Kv(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:ei.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const c=o.getFlattenedFilters();for(const f of c)qx(u,f),u=dy(u,f)})(e._query,t),new uh(e.firestore,e.converter,dy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $v extends zx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $v(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new nt(ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new nt(ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vp(o,u)})(e._query,this._field,this._direction);return new uh(e.firestore,e.converter,Hk(e._query,t))}}function SP(n,e="asc"){const t=e,i=jf("orderBy",n);return $v._create(i,t)}function jA(n,e,t){if(typeof(t=sr(t))=="string"){if(t==="")throw new nt(ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gS(e)&&t.indexOf("/")!==-1)throw new nt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(qn.fromString(t));if(!st.isDocumentKey(i))throw new nt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return gp(n,new st(i))}if(t instanceof gr)return gp(n,t._key);throw new nt(ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${s1(t)}.`)}function VA(n,e){if(!Array.isArray(n)||n.length===0)throw new nt(ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qx(n,e){const t=(function(s,o){for(const u of s)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new nt(ze.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(ze.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Hx(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Kd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hc extends Ux{constructor(e,t,i,s,o,u){super(e,t,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(jf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(ze.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Hc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Hc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hc._jsonSchema={type:mr("string",Hc._jsonSchemaVersion),bundleSource:mr("string","DocumentSnapshot"),bundleName:mr("string"),bundle:mr("string")};class pg extends Hc{data(e={}){return super.data(e)}}class yf{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Kd(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new pg(this._firestore,this._userDataWriter,i.key,i,new Kd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nt(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((c=>{const f=new pg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Kd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new pg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Kd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:xP(c.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(ze.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ov.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yf._jsonSchemaVersion="firestore/querySnapshot/1.0",yf._jsonSchema={type:mr("string",yf._jsonSchemaVersion),bundleSource:mr("string","QuerySnapshot"),bundleName:mr("string"),bundle:mr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=x1(e)}set(e,t,i){this._verifyNotCommitted();const s=m2(e,this._firestore),o=Hx(s.converter,t,i),u=Dx(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,i);return this._mutations.push(u.toMutation(s._key,Wr.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const o=m2(e,this._firestore);let u;return u=typeof(t=sr(t))=="string"||t instanceof S1?Ox(this._dataReader,"WriteBatch.update",o._key,t,i,s):Px(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=m2(e,this._firestore);return this._mutations=this._mutations.concat(new Pp(t._key,Wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nt(ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function m2(n,e){if((n=sr(n)).firestore!==e)throw new nt(ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function g2(n,e,t,...i){n=hl(n,gr);const s=hl(n.firestore,ac),o=x1(s);let u;return u=typeof(e=sr(e))=="string"||e instanceof S1?Ox(o,"updateDoc",n._key,e,t,i):Px(o,"updateDoc",n._key,e),N1(s,[u.toMutation(n._key,Wr.exists(!0))])}function FA(n){return N1(hl(n.firestore,ac),[new Pp(n._key,Wr.none())])}function BA(n,e){const t=hl(n.firestore,ac),i=Kr(n),s=Hx(n.converter,e),o=x1(n.firestore);return N1(t,[Dx(o,"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Wr.exists(!1))]).then((()=>i))}function zm(n,...e){var d,g,w;n=sr(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||MA(e[i])||(t=e[i++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(MA(e[i])){const E=e[i];e[i]=(d=E.next)==null?void 0:d.bind(E),e[i+1]=(g=E.error)==null?void 0:g.bind(E),e[i+2]=(w=E.complete)==null?void 0:w.bind(E)}let o,u,c;if(n instanceof gr)u=hl(n.firestore,ac),c=d1(n._key.path),o={next:E=>{e[i]&&e[i](NP(u,n,E))},error:e[i+1],complete:e[i+2]};else{const E=hl(n,uh);u=hl(E.firestore,ac),c=E._query;const b=new Bx(u);o={next:j=>{e[i]&&e[i](new yf(u,b,E,j))},error:e[i+1],complete:e[i+2]},AP(n._query)}const f=Bv(u);return oP(f,c,s,o)}function N1(n,e){const t=Bv(n);return lP(t,e)}function NP(n,e,t){const i=t.docs.get(e._key),s=new Bx(n);return new Hc(n,s,e._key,i,new Kd(t.hasPendingWrites,t.fromCache),e.converter)}function y2(n){return n=hl(n,ac),Bv(n),new TP(n,(e=>N1(n,e)))}(function(e,t=!0){VL(qf),dl(new Co("firestore",((i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),c=new ac(new UL(i.getProvider("auth-internal")),new HL(u,i.getProvider("app-check-internal")),Rk(u,s),u);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Ja(PA,OA,e),Ja(PA,OA,"esm2020")})();const Gx="@firebase/installations",Yv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=1e4,$x=`w:${Yv}`,Yx="FIS_v2",IP="https://firebaseinstallations.googleapis.com/v1",CP=3600*1e3,RP="installations",LP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},th=new sh(RP,LP,kP);function Wx(n){return n instanceof Lo&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx({projectId:n}){return`${IP}/projects/${n}/installations`}function Xx(n){return{token:n.token,requestStatus:2,expiresIn:PP(n.expiresIn),creationTime:Date.now()}}async function Jx(n,e){const i=(await e.json()).error;return th.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Zx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function DP(n,{refreshToken:e}){const t=Zx(n);return t.append("Authorization",OP(e)),t}async function eT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function PP(n){return Number(n.replace("s","000"))}function OP(n){return`${Yx} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=Qx(n),s=Zx(n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={fid:t,authVersion:Yx,appId:n.appId,sdkVersion:$x},c={method:"POST",headers:s,body:JSON.stringify(u)},f=await eT(()=>fetch(i,c));if(f.ok){const d=await f.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:Xx(d.authToken)}}else throw await Jx("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=/^[cdef][\w-]{21}$/,Ty="";function FP(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=BP(n);return VP.test(t)?t:Ty}catch{return Ty}}function BP(n){return jP(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=new Map;function iT(n,e){const t=I1(n);rT(t,e),UP(t,e)}function rT(n,e){const t=nT.get(n);if(t)for(const i of t)i(e)}function UP(n,e){const t=zP();t&&t.postMessage({key:n,fid:e}),qP()}let Fc=null;function zP(){return!Fc&&"BroadcastChannel"in self&&(Fc=new BroadcastChannel("[Firebase] FID Change"),Fc.onmessage=n=>{rT(n.data.key,n.data.fid)}),Fc}function qP(){nT.size===0&&Fc&&(Fc.close(),Fc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebase-installations-database",GP=1,nh="firebase-installations-store";let v2=null;function Wv(){return v2||(v2=$3(HP,GP,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(nh)}}})),v2}async function Kg(n,e){const t=I1(n),s=(await Wv()).transaction(nh,"readwrite"),o=s.objectStore(nh),u=await o.get(t);return await o.put(e,t),await s.done,(!u||u.fid!==e.fid)&&iT(n,e.fid),e}async function sT(n){const e=I1(n),i=(await Wv()).transaction(nh,"readwrite");await i.objectStore(nh).delete(e),await i.done}async function C1(n,e){const t=I1(n),s=(await Wv()).transaction(nh,"readwrite"),o=s.objectStore(nh),u=await o.get(t),c=e(u);return c===void 0?await o.delete(t):await o.put(c,t),await s.done,c&&(!u||u.fid!==c.fid)&&iT(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qv(n){let e;const t=await C1(n.appConfig,i=>{const s=KP(i),o=$P(n,s);return e=o.registrationPromise,o.installationEntry});return t.fid===Ty?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function KP(n){const e=n||{fid:FP(),registrationStatus:0};return aT(e)}function $P(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(th.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=YP(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WP(n)}:{installationEntry:e}}async function YP(n,e){try{const t=await MP(n,e);return Kg(n.appConfig,t)}catch(t){throw Wx(t)&&t.customData.serverCode===409?await sT(n.appConfig):await Kg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function WP(n){let e=await UA(n.appConfig);for(;e.registrationStatus===1;)await tT(100),e=await UA(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Qv(n);return i||t}return e}function UA(n){return C1(n,e=>{if(!e)throw th.create("installation-not-found");return aT(e)})}function aT(n){return QP(n)?{fid:n.fid,registrationStatus:0}:n}function QP(n){return n.registrationStatus===1&&n.registrationTime+Kx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP({appConfig:n,heartbeatServiceProvider:e},t){const i=JP(n,t),s=DP(n,t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={installation:{sdkVersion:$x,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(u)},f=await eT(()=>fetch(i,c));if(f.ok){const d=await f.json();return Xx(d)}else throw await Jx("Generate Auth Token",f)}function JP(n,{fid:e}){return`${Qx(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xv(n,e=!1){let t;const i=await C1(n.appConfig,o=>{if(!oT(o))throw th.create("not-registered");const u=o.authToken;if(!e&&tO(u))return o;if(u.requestStatus===1)return t=ZP(n,e),o;{if(!navigator.onLine)throw th.create("app-offline");const c=iO(o);return t=eO(n,c),c}});return t?await t:i.authToken}async function ZP(n,e){let t=await zA(n.appConfig);for(;t.authToken.requestStatus===1;)await tT(100),t=await zA(n.appConfig);const i=t.authToken;return i.requestStatus===0?Xv(n,e):i}function zA(n){return C1(n,e=>{if(!oT(e))throw th.create("not-registered");const t=e.authToken;return rO(t)?{...e,authToken:{requestStatus:0}}:e})}async function eO(n,e){try{const t=await XP(n,e),i={...e,authToken:t};return await Kg(n.appConfig,i),t}catch(t){if(Wx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await sT(n.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Kg(n.appConfig,i)}throw t}}function oT(n){return n!==void 0&&n.registrationStatus===2}function tO(n){return n.requestStatus===2&&!nO(n)}function nO(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+CP}function iO(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function rO(n){return n.requestStatus===1&&n.requestTime+Kx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n){const e=n,{installationEntry:t,registrationPromise:i}=await Qv(e);return i?i.catch(console.error):Xv(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(n,e=!1){const t=n;return await oO(t),(await Xv(t,e)).token}async function oO(n){const{registrationPromise:e}=await Qv(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(n){if(!n||!n.options)throw _2("App Configuration");if(!n.name)throw _2("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw _2(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function _2(n){return th.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="installations",uO="installations-internal",cO=n=>{const e=n.getProvider("app").getImmediate(),t=lO(e),i=ah(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},hO=n=>{const e=n.getProvider("app").getImmediate(),t=ah(e,lT).getImmediate();return{getId:()=>sO(t),getToken:s=>aO(t,s)}};function fO(){dl(new Co(lT,cO,"PUBLIC")),dl(new Co(uO,hO,"PRIVATE"))}fO();Ja(Gx,Yv);Ja(Gx,Yv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="analytics",dO="firebase_id",pO="origin",mO=60*1e3,gO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new n1("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ia=new sh("analytics","Analytics",yO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(n){if(!n.startsWith(Jv)){const e=Ia.create("invalid-gtag-resource",{gtagURL:n});return Bs.warn(e.message),""}return n}function uT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function _O(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function bO(n,e){const t=_O("firebase-js-sdk-policy",{createScriptURL:vO}),i=document.createElement("script"),s=`${Jv}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function wO(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function AO(n,e,t,i,s,o){const u=i[s];try{if(u)await e[u];else{const f=(await uT(t)).find(d=>d.measurementId===s);f&&await e[f.appId]}}catch(c){Bs.error(c)}n("config",s,o)}async function EO(n,e,t,i,s){try{let o=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const c=await uT(t);for(const f of u){const d=c.find(w=>w.measurementId===f),g=d&&e[d.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",i,s||{})}catch(o){Bs.error(o)}}function SO(n,e,t,i){async function s(o,...u){try{if(o==="event"){const[c,f]=u;await EO(n,e,t,c,f)}else if(o==="config"){const[c,f]=u;await AO(n,e,t,i,c,f)}else if(o==="consent"){const[c,f]=u;n("consent",c,f)}else if(o==="get"){const[c,f,d]=u;n("get",c,f,d)}else if(o==="set"){const[c]=u;n("set",c)}else n(o,...u)}catch(c){Bs.error(c)}}return s}function xO(n,e,t,i,s){let o=function(...u){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=SO(o,n,e,t),{gtagCore:o,wrappedGtag:window[s]}}function TO(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Jv)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=30,IO=1e3;class CO{constructor(e={},t=IO){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cT=new CO;function RO(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function LO(n){var u;const{appId:e,apiKey:t}=n,i={method:"GET",headers:RO(t)},s=gO.replace("{app-id}",e),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let c="";try{const f=await o.json();(u=f.error)!=null&&u.message&&(c=f.error.message)}catch{}throw Ia.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function kO(n,e=cT,t){const{appId:i,apiKey:s,measurementId:o}=n.options;if(!i)throw Ia.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw Ia.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new OO;return setTimeout(async()=>{c.abort()},mO),hT({appId:i,apiKey:s,measurementId:o},u,c,e)}async function hT(n,{throttleEndTimeMillis:e,backoffCount:t},i,s=cT){var c;const{appId:o,measurementId:u}=n;try{await DO(i,e)}catch(f){if(u)return Bs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:u};throw f}try{const f=await LO(n);return s.deleteThrottleMetadata(o),f}catch(f){const d=f;if(!PO(d)){if(s.deleteThrottleMetadata(o),u)return Bs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:u};throw f}const g=Number((c=d==null?void 0:d.customData)==null?void 0:c.httpStatus)===503?qb(t,s.intervalMillis,NO):qb(t,s.intervalMillis),w={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return s.setThrottleMetadata(o,w),Bs.debug(`Calling attemptFetch again in ${g} millis`),hT(n,w,i,s)}}function DO(n,e){return new Promise((t,i)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(o),i(Ia.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function PO(n){if(!(n instanceof Lo)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class OO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function MO(n,e,t,i,s){if(s&&s.global){n("event",t,i);return}else{const o=await e,u={...i,send_to:o};n("event",t,u)}}async function jO(n,e,t,i){if(i&&i.global){const s={};for(const o of Object.keys(t))s[`user_properties.${o}`]=t[o];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(){if(Yy())try{await H3()}catch(n){return Bs.warn(Ia.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Bs.warn(Ia.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function FO(n,e,t,i,s,o,u){const c=kO(n);c.then(E=>{t[E.measurementId]=E.appId,n.options.measurementId&&E.measurementId!==n.options.measurementId&&Bs.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>Bs.error(E)),e.push(c);const f=VO().then(E=>{if(E)return i.getId()}),[d,g]=await Promise.all([c,f]);TO(o)||bO(o,d.measurementId),s("js",new Date);const w=(u==null?void 0:u.config)??{};return w[pO]="firebase",w.update=!0,g!=null&&(w[dO]=g),s("config",d.measurementId,w),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.app=e}_delete(){return delete vf[this.app.options.appId],Promise.resolve()}}let vf={},qA=[];const HA={};let b2="dataLayer",UO="gtag",GA,Zv,KA=!1;function zO(){const n=[];if(U3()&&n.push("This is a browser extension environment."),_C()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,s)=>`(${s+1}) ${i}`).join(" "),t=Ia.create("invalid-analytics-context",{errorInfo:e});Bs.warn(t.message)}}function qO(n,e,t){zO();const i=n.options.appId;if(!i)throw Ia.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Bs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ia.create("no-api-key");if(vf[i]!=null)throw Ia.create("already-exists",{id:i});if(!KA){wO(b2);const{wrappedGtag:o,gtagCore:u}=xO(vf,qA,HA,b2,UO);Zv=o,GA=u,KA=!0}return vf[i]=FO(n,qA,HA,e,GA,b2,t),new BO(n)}function HO(n=Qy()){n=sr(n);const e=ah(n,$g);return e.isInitialized()?e.getImmediate():GO(n)}function GO(n,e={}){const t=ah(n,$g);if(t.isInitialized()){const s=t.getImmediate();if(ec(e,t.getOptions()))return s;throw Ia.create("already-initialized")}return t.initialize({options:e})}function KO(n,e,t){n=sr(n),jO(Zv,vf[n.app.options.appId],e,t).catch(i=>Bs.error(i))}function $O(n,e,t,i){n=sr(n),MO(Zv,vf[n.app.options.appId],e,t,i).catch(s=>Bs.error(s))}const $A="@firebase/analytics",YA="0.10.19";function YO(){dl(new Co($g,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return qO(i,s,t)},"PUBLIC")),dl(new Co("analytics-internal",n,"PRIVATE")),Ja($A,YA),Ja($A,YA,"esm2020");function n(e){try{const t=e.getProvider($g).getImmediate();return{logEvent:(i,s,o)=>$O(t,i,s,o),setUserProperties:(i,s)=>KO(t,i,s)}}catch(t){throw Ia.create("interop-component-reg-failed",{reason:t})}}}YO();const WO={apiKey:"AIzaSyB9pPrqqRqQbhcr8sLLXNgPIPLbr3uA6Rc",authDomain:"heaven-sbakery.firebaseapp.com",projectId:"heaven-sbakery",storageBucket:"heaven-sbakery.firebasestorage.app",messagingSenderId:"964076361987",appId:"1:964076361987:web:44e547c9229fa518de3136",measurementId:"G-VVTPK2H5L0"},e5=Y3(WO);ML(e5);const gi=fP(e5);typeof window<"u"&&HO(e5);dP(gi).catch(n=>{n.code=="failed-precondition"?console.log("Firebase persistence failed: multiple tabs open"):n.code=="unimplemented"&&console.log("Firebase persistence not supported by browser")});const fT=Ae.createContext(),WA="heavens-bakes-data",w2={businessName:"Heaven's Bakes & Sips",tagline:"Un nuage de douceur, une vague de fracheur.",ownerName:"Sarah",loyaltyThreshold:10,lowStockThreshold:5,currency:"FCFA",nextInvoiceNumber:1},QA=[{name:"Crpes natures",category:"crepes-natures",price:1500,stock:50,image:"/images/crepes-natures.png",active:!0},{name:"Crpes panes",category:"crepes-panees",price:2e3,stock:35,image:"/images/crepes-panees.png",active:!0},{name:"Pack Hallelyum",category:"packs",price:6e3,stock:15,desc:"Pack spcial",image:"/images/crepes-natures.png",active:!0},{name:"Pack Nve",category:"packs",price:4500,stock:12,desc:"Pack spcial",image:"/images/crepes-panees.png",active:!0},{name:"Pack Korah",category:"packs",price:5500,stock:18,desc:"Pack spcial",image:"/images/crepes-natures.png",active:!0},{name:"Pack Miraa",category:"packs",price:5e3,stock:10,desc:"Pack spcial",image:"/images/crepes-panees.png",active:!0},{name:"Pack Eloa",category:"packs",price:5500,stock:8,desc:"Pack spcial",image:"/images/crepes-natures.png",active:!0},{name:"Pack Fusion",category:"packs",price:7e3,stock:10,desc:"Pack spcial",image:"/images/crepes-panees.png",active:!0},{name:"Jus Folr",category:"jus",price:500,stock:60,image:"/images/juice-folere.png",active:!0},{name:"Jus Baobab",category:"jus",price:1e3,stock:45,image:"/images/juice-baobab.png",active:!0},{name:"Jus Menthe",category:"jus",price:1e3,stock:50,image:"/images/juice-menthe.png",active:!0}];function QO({children:n}){const[e,t]=Ae.useState(!0),[i,s]=Ae.useState(null),[o,u]=Ae.useState([]),[c,f]=Ae.useState([]),[d,g]=Ae.useState([]),[w,E]=Ae.useState(w2),[b,j]=Ae.useState([]),[M,U]=Ae.useState(null);Ae.useEffect(()=>{t(!0);const R=zm(Eo(gi,"products"),ge=>{const Re=ge.docs.map(xe=>({id:xe.id,...xe.data()}));u(Re),ge.empty},ge=>{console.error("Products sync error:",ge),s("Problme de synchronisation des produits. (Vrifiez les rgles Firestore)")}),G=zm(Eo(gi,"clients"),ge=>{const Re=ge.docs.map(xe=>({id:xe.id,...xe.data()}));f(Re)},ge=>console.error("Clients sync error:",ge)),X=EP(Eo(gi,"invoices"),SP("date","desc")),ae=zm(X,ge=>{const Re=ge.docs.map(xe=>({id:xe.id,...xe.data()}));g(Re)},ge=>console.error("Invoices sync error:",ge)),ce=zm(Kr(gi,"settings","general"),ge=>{ge.exists()?E(ge.data()):V(),t(!1)},ge=>{console.error("Settings sync error:",ge),s("Impossible de charger les paramtres."),t(!1)});return()=>{R(),G(),ae(),ce()}},[]);const V=async()=>{const R=localStorage.getItem(WA);if(R)try{const G=JSON.parse(R),X=y2(gi),ae=Kr(gi,"settings","general");X.set(ae,G.settings||w2),G.clients&&G.clients.forEach(ce=>{X.set(Kr(Eo(gi,"clients")),ce)}),G.invoices&&G.invoices.forEach(ce=>{X.set(Kr(Eo(gi,"invoices")),ce)}),G.products&&G.products.length>0?G.products.forEach(ce=>{X.set(Kr(Eo(gi,"products")),ce)}):QA.forEach(ce=>{X.set(Kr(Eo(gi,"products")),ce)}),await X.commit(),localStorage.removeItem(WA)}catch(G){console.error("Migration failed:",G)}},ee=async()=>{t(!0);try{const R=y2(gi);QA.forEach(G=>{const X=Kr(Eo(gi,"products"));R.set(X,G)}),R.set(Kr(gi,"settings","general"),w2,{merge:!0}),await R.commit(),alert("Produits rinitialiss avec succs !")}catch(R){console.error("Seeding error:",R),s("chec de l'initialisation.")}finally{t(!1)}},Q=Ae.useCallback(()=>{s(null)},[]),ne=Ae.useCallback(async R=>{await BA(Eo(gi,"products"),{...R,active:!0})},[]),me=Ae.useCallback(async(R,G)=>{await g2(Kr(gi,"products",R),G)},[]),fe=Ae.useCallback(async R=>{await FA(Kr(gi,"products",R))},[]),z=Ae.useCallback(async R=>{await BA(Eo(gi,"clients"),{...R,purchases:0,totalSpent:0,loyaltyStamps:0})},[]),D=Ae.useCallback(async(R,G)=>{await g2(Kr(gi,"clients",R),G)},[]),C=Ae.useCallback(async R=>{await FA(Kr(gi,"clients",R))},[]),q=Ae.useCallback(async R=>{await g2(Kr(gi,"settings","general"),R)},[]),I=Ae.useCallback(R=>{j(G=>G.find(ae=>ae.productId===R)?G.map(ae=>ae.productId===R?{...ae,qty:ae.qty+1}:ae):[...G,{productId:R,qty:1}])},[]),P=Ae.useCallback((R,G)=>{j(X=>G<=0?X.filter(ae=>ae.productId!==R):X.map(ae=>ae.productId===R?{...ae,qty:G}:ae))},[]),O=Ae.useCallback(()=>{j([]),U(null)},[]),ue=Ae.useCallback(async(R={})=>{const G=R.items||b.map(Me=>{const $e=o.find(et=>et.id===Me.productId);return{id:Me.productId,name:($e==null?void 0:$e.name)||"Unknown",price:($e==null?void 0:$e.price)||0,qty:Me.qty,total:(($e==null?void 0:$e.price)||0)*Me.qty}});if(G.length===0)return;const X=w.nextInvoiceNumber,ae=G.reduce((Me,$e)=>Me+$e.total,0);let ce=R.clientName||"Client anonyme",ge=M;if(M){const Me=c.find($e=>$e.id===M);Me&&(ce=Me.name)}const Re={number:X,date:new Date().toISOString(),clientName:ce,clientId:ge,items:G,total:ae,notes:R.notes||""},xe=y2(gi);if(xe.set(Kr(Eo(gi,"invoices")),Re),xe.update(Kr(gi,"settings","general"),{nextInvoiceNumber:X+1}),G.forEach(Me=>{const $e=o.find(et=>et.id===Me.id);if($e){const et=Math.max(0,$e.stock-Me.qty);xe.update(Kr(gi,"products",Me.id),{stock:et})}}),M){const Me=c.find($e=>$e.id===M);Me&&xe.update(Kr(gi,"clients",M),{purchases:(Me.purchases||0)+1,totalSpent:(Me.totalSpent||0)+ae,loyaltyStamps:(Me.loyaltyStamps||0)+1})}await xe.commit(),R.items||O()},[b,o,c,w,M,O]),Te=d.filter(R=>new Date(R.date).toDateString()===new Date().toDateString()),le=Te.reduce((R,G)=>R+(G.total||0),0),oe=o.filter(R=>R.active&&R.stock<=w.lowStockThreshold),de=b.reduce((R,G)=>{const X=o.find(ae=>ae.id===G.productId);return R+((X==null?void 0:X.price)||0)*G.qty},0),Ne=b.reduce((R,G)=>R+G.qty,0),He=c.filter(R=>R.purchases>0).sort((R,G)=>G.purchases-R.purchases).slice(0,5),Z={products:o,clients:c,invoices:d,settings:w,todayInvoices:Te,todayTotal:le,lowStockProducts:oe,cartTotal:de,cartCount:Ne,cart:b,selectedClient:M,loading:e,error:i,topClients:He,addProduct:ne,updateProduct:me,deleteProduct:fe,addClient:z,updateClient:D,deleteClient:C,updateSettings:q,addToCart:I,updateCartQty:P,clearCart:O,setSelectedClient:U,completeSale:ue,seedDatabase:ee,dismissError:Q};return x.jsx(fT.Provider,{value:Z,children:n})}function cc(){const n=Ae.useContext(fT);if(!n)throw new Error("useStore must be used within StoreProvider");return n}function XO({size:n=22,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 9.5L12 3l9 6.5V20a1.5 1.5 0 01-1.5 1.5h-15A1.5 1.5 0 013 20V9.5z"}),x.jsx("path",{d:"M9 21.5V12h6v9.5"})]})}function Ny({size:n=22,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"9",cy:"21",r:"1"}),x.jsx("circle",{cx:"20",cy:"21",r:"1"}),x.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 002 1.61h9.72a2 2 0 002-1.61L23 6H6"})]})}function Gc({size:n=22,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M4 2v20l3-2 3 2 3-2 3 2 3-2 3 2V2l-3 2-3-2-3 2-3-2-3 2-3-2z"}),x.jsx("path",{d:"M8 10h8M8 14h5"})]})}function t5({size:n=22,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z"}),x.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),x.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}function dT({size:n=22,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),x.jsx("circle",{cx:"9",cy:"7",r:"4"}),x.jsx("path",{d:"M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]})}function JO({size:n=22,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"3"}),x.jsx("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 012.83-2.83l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06A1.65 1.65 0 0019.4 9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"})]})}function R1({size:n=18,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"11",cy:"11",r:"8"}),x.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}function Vf({size:n=20,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),x.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function L1({size:n=18,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2.5",strokeLinecap:"round",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}function ZO({size:n=18,color:e="currentColor"}){return x.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2.5",strokeLinecap:"round",children:x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}function XA({size:n=16,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2",strokeLinecap:"round",children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}function n5({size:n=18,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})}function e9({size:n=18,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),x.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}function i5({size:n=18,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),x.jsx("polyline",{points:"7 10 12 15 17 10"}),x.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}function pT({size:n=18,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8"}),x.jsx("polyline",{points:"16 6 12 2 8 6"}),x.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]})}function t9({size:n=16,color:e="currentColor",filled:t=!1}){return x.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:t?e:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}function Iy({size:n=18,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),x.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),x.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"17"})]})}function A2({size:n=18,color:e="currentColor"}){return x.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("polyline",{points:"20 6 9 17 4 12"})})}function k1({size:n=16,color:e="currentColor"}){return x.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("polyline",{points:"9 18 15 12 9 6"})})}function n9({size:n=22,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"}),x.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}function i9({size:n=20,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("circle",{cx:"12",cy:"12",r:"6"}),x.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}function r9({size:n=18,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"}),x.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),x.jsx("polyline",{points:"7 3 7 8 15 8"})]})}function s9({size:n=18,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),x.jsx("polyline",{points:"17 8 12 3 7 8"}),x.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}function a9({size:n=16,color:e="currentColor"}){return x.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6A19.79 19.79 0 012.12 4.18 2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"})})}function o9({size:n=18,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),x.jsx("polyline",{points:"17 6 23 6 23 12"})]})}function l9({size:n=18,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"23 4 23 10 17 10"}),x.jsx("polyline",{points:"1 20 1 14 7 14"}),x.jsx("path",{d:"M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"})]})}function u9({size:n=20,color:e="currentColor"}){return x.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"}),x.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]})}const c9=[{path:"/",icon:XO,label:"Accueil"},{path:"/vente",icon:Ny,label:"Vente"},{path:"/factures",icon:Gc,label:"Factures"},{path:"/produits",icon:t5,label:"Produits"},{path:"/clients",icon:dT,label:"Clients"}];function h9(){const n=nu();return x.jsx("nav",{className:"bottom-nav",role:"navigation","aria-label":"Navigation principale",children:x.jsx("div",{className:"bottom-nav-inner",children:c9.map((e,t)=>{const i=n.pathname===e.path||e.path!=="/"&&n.pathname.startsWith(e.path),s=e.icon;return x.jsxs(C3,{to:e.path,className:`bottom-nav-item ${i?"active":""}`,style:{"--i":t},children:[x.jsx("span",{className:"bottom-nav-icon",children:x.jsx(s,{size:20,color:i?"#9B7EC8":"#B8ADCC"})}),x.jsx("span",{className:"bottom-nav-label",children:e.label}),i&&x.jsx("span",{className:"bottom-nav-indicator"})]},e.path)})})})}function f9(){const{lowStockProducts:n,error:e,dismissError:t}=cc(),[i,s]=Ae.useState([]);if(e)return x.jsx("div",{className:"toast-overlay",children:x.jsxs("div",{className:"toast-modal",children:[x.jsx("div",{className:"toast-icon-circle error",children:x.jsx(Iy,{size:32,color:"currentColor"})}),x.jsx("p",{className:"toast-message",children:e}),x.jsx("button",{className:"toast-close-btn",onClick:t,children:"Compris"})]})});const o=n.filter(u=>!i.includes(u.id));if(o.length>0){const u=o[0];return x.jsx("div",{className:"toast-overlay",children:x.jsxs("div",{className:"toast-modal",children:[x.jsx("div",{className:"toast-icon-circle warning",children:x.jsx(Iy,{size:32,color:"currentColor"})}),x.jsxs("p",{className:"toast-message",children:["Stock faible :",x.jsx("br",{}),x.jsx("strong",{children:u.name}),x.jsx("br",{}),x.jsxs("span",{style:{fontSize:"0.9em",opacity:.7},children:["Plus que ",u.stock," disponibles"]})]}),x.jsx("button",{className:"toast-close-btn",onClick:()=>s(c=>[...c,u.id]),children:"C'est not"})]})})}return null}function d9(){return x.jsxs("div",{className:"loading-overlay",children:[x.jsxs("div",{className:"loading-logo-container",children:[x.jsx("div",{className:"loading-halo"}),x.jsx("div",{className:"loading-logo",children:x.jsx("img",{src:"/logo.png",alt:"Logo",className:"loading-logo-img",style:{height:48,width:"auto"}})})]}),x.jsx("p",{className:"loading-text",children:"Chargement des dlices..."})]})}function p9(){const{settings:n,todayTotal:e,todayInvoices:t,products:i,loading:s,seedDatabase:o,invoices:u,lowStockProducts:c}=cc(),f=Ae.useMemo(()=>{if(!i||i.length===0||!u||u.length===0)return[];const g={};return u.forEach(w=>{w.items&&Array.isArray(w.items)&&w.items.forEach(E=>{E.name&&(g[E.name]=(g[E.name]||0)+(E.qty||0))})}),i.map(w=>({...w,sales:g[w.name]||0})).filter(w=>w.sales>0).sort((w,E)=>E.sales-w.sales).slice(0,1)},[i,u]),d=c.length>0?c[0]:null;return x.jsxs("div",{className:"page anim-fade",children:[x.jsxs("header",{className:"dash-header-bar",children:[x.jsxs("div",{className:"dash-header-logo",children:[x.jsx("img",{src:"/logo.png",alt:"Logo",className:"header-logo-img",style:{height:32,width:"auto"}}),x.jsx("span",{className:"header-logo-text",children:"HEAVEN'S"})]}),x.jsxs("button",{className:"header-profile-btn",children:[x.jsx(u9,{size:20}),x.jsx("span",{className:"notif-badge"})]})]}),x.jsxs("div",{className:"dash-greeting",children:[x.jsxs("h1",{className:"greeting-title",children:["Bonjour ",n.ownerName,"!"]}),x.jsx("p",{className:"greeting-subtitle",children:n.tagline})]}),x.jsx("div",{className:"dash-action-section",children:x.jsx(hf,{to:"/vente",className:"btn-vendre",children:"VENDRE"})}),!s&&i.length===0&&x.jsx("div",{className:"dash-section",children:x.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl text-center border border-purple-100",children:[x.jsx("p",{className:"text-purple-900 font-semibold mb-2",children:"Aucun produit trouv"}),x.jsxs("button",{onClick:o,className:"bg-purple-600 text-white px-6 py-2 rounded-full font-bold shadow-lg hover:bg-purple-700 transition mt-2 text-sm flex items-center gap-2 mx-auto",children:[x.jsx(l9,{size:14})," Initialiser"]})]})}),x.jsx("div",{className:"dash-stats-section",children:x.jsxs("div",{className:"stats-row",children:[x.jsxs("div",{className:"stat-box left",children:[x.jsx("span",{className:"stat-label-small",children:"Total Ventes"}),x.jsxs("span",{className:"stat-value-big",children:[e.toLocaleString(),x.jsxs("span",{className:"stat-currency",children:[" ",n.currency]})]})]}),x.jsxs(hf,{to:"/factures",className:"stat-box right",children:[x.jsx("span",{className:"stat-value-big",style:{fontSize:"1.8rem",marginBottom:"4px"},children:t.length.toString().padStart(2,"0")}),x.jsxs("span",{className:"stat-label-small",style:{display:"flex",alignItems:"center",gap:"4px"},children:["Factures ",x.jsx(Gc,{size:14,color:"#9B7EC8"})]})]})]})}),f.length>0&&x.jsx("div",{className:"dash-highlight-section",children:x.jsxs("div",{className:"highlight-card",children:[x.jsxs("div",{className:"highlight-content",children:[x.jsx("div",{className:"highlight-icon",children:x.jsx(o9,{size:18})}),x.jsxs("div",{children:[x.jsx("div",{className:"highlight-text",children:f[0].name}),x.jsxs("div",{className:"highlight-sub",children:["Le plus vendus (",f[0].sales,")"]})]})]}),x.jsx("img",{src:f[0].image,alt:"",className:"highlight-img"})]})}),d&&x.jsxs("div",{className:"dash-stock-section",children:[x.jsx("h3",{className:"section-label",children:"Stock faible:"}),x.jsxs(hf,{to:"/produits",className:"stock-card",children:[x.jsxs("div",{className:"stock-info",children:[x.jsx("div",{className:"stock-icon",children:d.image?x.jsx("img",{src:d.image,alt:"",style:{width:40,height:40,objectFit:"contain"}}):x.jsx(Iy,{size:24,color:"#EF4444"})}),x.jsxs("div",{className:"stock-details",children:[x.jsx("h4",{children:d.name}),x.jsxs("p",{children:["(",d.stock," restants)"]})]})]}),x.jsx("div",{className:"stock-action",children:x.jsx(k1,{size:16})})]})]})]})}function m9(){const{products:n,cart:e,addToCart:t,updateCartQty:i,cartTotal:s,cartCount:o,clients:u,selectedClient:c,setSelectedClient:f,completeSale:d,topClients:g}=cc(),[w,E]=Ae.useState("all"),[b,j]=Ae.useState(""),[M,U]=Ae.useState(!1),[V,ee]=Ae.useState(null),[Q,ne]=Ae.useState(1),[me,fe]=Ae.useState(""),[z,D]=Ae.useState(""),[C,q]=Ae.useState(!1),I=Ae.useMemo(()=>{const oe=[{id:"crepes-natures",label:"Crpes Natures"},{id:"crepes-panees",label:"Crpes Panes"},{id:"packs",label:"Packs Spciaux"},{id:"jus",label:"Jus Naturels"}];return w==="all"?oe:oe.filter(de=>de.id===w)},[w]),P=oe=>n.filter(de=>de.category===oe&&de.name.toLowerCase().includes(b.toLowerCase())),O=[{id:"all",label:"Tout"},{id:"crepes-natures",label:"Crpes Natures"},{id:"crepes-panees",label:"Crpes Panes"},{id:"packs",label:"Packs"},{id:"jus",label:"Jus"}],ue=()=>{if(!V)return;const oe={id:V.id,name:V.name,price:V.price,qty:Q,total:V.price*Q};d({items:[oe],clientName:me,notes:z}),ee(null),ne(1),fe(""),D(""),q(!0),setTimeout(()=>q(!1),2e3)},Te=()=>{if(V){for(let oe=0;oe<Q;oe++)t(V.id);ee(null),ne(1)}},le=()=>{d({clientName:me,notes:z}),U(!1),q(!0),fe(""),D(""),setTimeout(()=>q(!1),2e3)};return u.find(oe=>oe.id===c),x.jsxs("div",{className:"page vente-page",children:[x.jsxs("header",{className:"page-header-refined",children:[x.jsxs("div",{className:"search-container",children:[x.jsx(R1,{size:18,color:"#9EA3B0"}),x.jsx("input",{type:"text",placeholder:"Rechercher...",value:b,onChange:oe=>j(oe.target.value),className:"search-input"})]}),x.jsxs("button",{className:`header-cart-btn ${o>0?"has-items":""}`,onClick:()=>U(!0),children:[x.jsx(Ny,{size:22,color:"#3D2C5E"}),o>0&&x.jsx("span",{className:"header-cart-badge",children:o})]})]}),x.jsx("div",{className:"cat-tabs-container",children:x.jsx("div",{className:"cat-tabs",children:O.map(oe=>x.jsx("button",{className:`cat-tab ${w===oe.id?"active":""}`,onClick:()=>E(oe.id),children:oe.label},oe.id))})}),x.jsx("div",{className:"vente-content",children:I.map(oe=>{const de=P(oe.id);return de.length===0?null:x.jsxs("section",{className:"product-section",children:[x.jsx("h2",{className:"section-heading",children:oe.label}),x.jsx("div",{className:"vente-grid",children:de.map(Ne=>{const He=e.find(Z=>Z.productId===Ne.id);return x.jsxs("div",{className:"v-card",onClick:()=>{ee(Ne),ne(1)},children:[x.jsxs("div",{className:"v-card-img-box",children:[x.jsx("img",{src:Ne.image,alt:Ne.name,className:"v-card-img",loading:"lazy"}),He&&x.jsx("div",{className:"qty-badge-overlay",children:He.qty})]}),x.jsxs("div",{className:"v-card-info",children:[x.jsx("h3",{className:"v-card-title",children:Ne.name}),x.jsxs("div",{className:"v-card-meta",children:[x.jsxs("span",{className:"v-card-price",children:[Ne.category.includes("pack")?"Pack ":"+ ",Ne.price," ",x.jsx("small",{children:"FCFA"})]}),x.jsx("div",{className:"v-card-action",children:x.jsx("div",{className:"mini-circle"})})]})]})]},Ne.id)})})]},oe.id)})}),o>0&&!V&&!M&&x.jsxs("div",{className:"checkout-bar-trigger anim-slide-up",onClick:()=>U(!0),children:[x.jsxs("div",{className:"bar-info",children:[x.jsxs("span",{className:"bar-qty",children:[o," ",o>1?"articles":"article"]}),x.jsxs("span",{className:"bar-total",children:[s.toLocaleString()," FCFA"]})]}),x.jsxs("div",{className:"bar-action",children:[x.jsx("span",{children:"Vrifier la commande"}),x.jsx(k1,{size:18})]})]}),V&&x.jsx("div",{className:"modal-backdrop anim-fade",onClick:()=>ee(null),children:x.jsxs("div",{className:"checkout-sheet slide-up",onClick:oe=>oe.stopPropagation(),children:[x.jsx("div",{className:"sheet-handle-bar"}),x.jsxs("div",{className:"sheet-header",children:[x.jsx("h2",{className:"sheet-title",children:"Dtails du produit"}),x.jsx("button",{className:"icon-btn",onClick:()=>ee(null),children:x.jsx(XA,{size:20})})]}),x.jsxs("div",{className:"sheet-scroll-content",children:[x.jsxs("div",{className:"product-summary-card-pro",children:[x.jsx("img",{src:V.image,alt:V.name,className:"p-pro-img"}),x.jsxs("div",{className:"p-pro-info",children:[x.jsx("h3",{className:"p-pro-name",children:V.name}),x.jsxs("span",{className:"p-pro-price",children:[V.price.toLocaleString()," FCFA"]}),x.jsx("span",{className:"p-pro-unit",children:"/ unit"})]})]}),x.jsxs("div",{className:"checkout-section",children:[x.jsx("label",{className:"section-label-pro",children:"Quantit souhaite"}),x.jsxs("div",{className:"qty-pill-container",children:[x.jsx("button",{className:"qty-pill-btn",onClick:()=>ne(Math.max(1,Q-1)),children:x.jsx(ZO,{size:20})}),x.jsxs("div",{className:"qty-pill-value",children:[x.jsx("span",{className:"qty-number",children:Q}),x.jsx("span",{className:"qty-label",children:Q>1?"units":"unit"})]}),x.jsx("button",{className:"qty-pill-btn",onClick:()=>ne(Q+1),children:x.jsx(L1,{size:20})})]})]}),x.jsxs("div",{className:"checkout-section",children:[x.jsx("label",{className:"section-label-pro",children:"Informations Client (Vente Directe)"}),x.jsxs("div",{className:"client-selector-card",children:[x.jsx("div",{className:"client-icon-box",children:x.jsx(Vf,{size:20,color:"#3D2C5E"})}),x.jsx("div",{className:"client-info-box",children:x.jsxs("select",{className:"client-select-native",value:c||"",onChange:oe=>{f(oe.target.value||null),oe.target.value&&fe("")},children:[x.jsx("option",{value:"",children:"Nouveau / Anonyme"}),u.map(oe=>x.jsx("option",{value:oe.id,children:oe.name},oe.id))]})})]}),!c&&x.jsx("div",{className:"manual-client-input mt-3",children:x.jsx("input",{type:"text",placeholder:"Nom du client (optionnel)",value:me,onChange:oe=>fe(oe.target.value),className:"input-refined"})})]}),x.jsxs("div",{className:"checkout-section",children:[x.jsx("label",{className:"section-label-pro",children:"Note particulire (Vente Directe)"}),x.jsx("textarea",{placeholder:"Ajouter une note...",value:z,onChange:oe=>D(oe.target.value),className:"textarea-refined",rows:"2"})]})]}),x.jsxs("div",{className:"sheet-footer stack-vertical",children:[x.jsx("button",{className:"btn-checkout-final secondary",onClick:Te,children:x.jsxs("div",{className:"btn-content",children:[x.jsx("span",{children:"Ajouter  la commande"}),x.jsx(Ny,{size:20})]})}),x.jsx("button",{className:"btn-checkout-final",onClick:ue,children:x.jsxs("div",{className:"btn-content",children:[x.jsx("span",{children:"Vendre immdiatement"}),x.jsx(A2,{size:20})]})})]})]})}),M&&x.jsx("div",{className:"modal-backdrop anim-fade",onClick:()=>U(!1),children:x.jsxs("div",{className:"checkout-sheet slide-up",onClick:oe=>oe.stopPropagation(),children:[x.jsx("div",{className:"sheet-handle-bar"}),x.jsxs("div",{className:"sheet-header",children:[x.jsx("h2",{className:"sheet-title",children:"Rsum de la commande"}),x.jsx("button",{className:"icon-btn",onClick:()=>U(!1),children:x.jsx(XA,{size:20})})]}),x.jsxs("div",{className:"sheet-scroll-content",children:[x.jsxs("div",{className:"checkout-section",children:[x.jsx("label",{className:"section-label-pro",children:"Informations Client"}),g.length>0&&x.jsxs("div",{className:"client-chips-container",children:[x.jsx("span",{className:"chips-label",children:"Clients Fidles :"}),x.jsx("div",{className:"chips-scroll",children:g.map(oe=>x.jsx("button",{className:`client-chip ${c===oe.id?"active":""}`,onClick:()=>{f(oe.id),fe("")},children:oe.name},oe.id))})]}),x.jsxs("div",{className:"client-selector-card",children:[x.jsx("div",{className:"client-icon-box",children:x.jsx(Vf,{size:20,color:"#3D2C5E"})}),x.jsx("div",{className:"client-info-box",children:x.jsxs("select",{className:"client-select-native",value:c||"",onChange:oe=>{f(oe.target.value||null),oe.target.value&&fe("")},children:[x.jsx("option",{value:"",children:"Nouveau / Anonyme"}),u.map(oe=>x.jsx("option",{value:oe.id,children:oe.name},oe.id))]})})]}),!c&&x.jsx("div",{className:"manual-client-input mt-3",children:x.jsx("input",{type:"text",placeholder:"Nom du client (optionnel)",value:me,onChange:oe=>fe(oe.target.value),className:"input-refined"})})]}),x.jsxs("div",{className:"checkout-section",children:[x.jsxs("label",{className:"section-label-pro",children:["Articles (",o,")"]}),x.jsx("div",{className:"checkout-items-list",children:e.map(oe=>{const de=n.find(Ne=>Ne.id===oe.productId);return de?x.jsxs("div",{className:"checkout-item",children:[x.jsxs("div",{className:"checkout-item-left",children:[x.jsxs("span",{className:"checkout-qty-badge",children:[oe.qty,"x"]}),x.jsxs("div",{className:"checkout-item-details",children:[x.jsx("span",{className:"checkout-item-name",children:de.name}),x.jsxs("span",{className:"checkout-item-unit-price",children:[de.price," F"]})]})]}),x.jsxs("div",{className:"qty-controls-mini",children:[x.jsx("button",{onClick:()=>i(oe.productId,oe.qty-1),children:"-"}),x.jsx("button",{onClick:()=>i(oe.productId,oe.qty+1),children:"+"})]})]},oe.productId):null})})]}),x.jsxs("div",{className:"checkout-section",children:[x.jsx("label",{className:"section-label-pro",children:"Notes de vente"}),x.jsx("textarea",{placeholder:"Ajouter une note...",value:z,onChange:oe=>D(oe.target.value),className:"textarea-refined",rows:"2"})]})]}),x.jsxs("div",{className:"sheet-footer",children:[x.jsxs("div",{className:"summary-row display-total",children:[x.jsx("span",{className:"label",children:"Total  payer"}),x.jsxs("span",{className:"value",children:[s.toLocaleString()," ",x.jsx("small",{children:"FCFA"})]})]}),x.jsx("button",{className:"btn-checkout-final",onClick:le,children:x.jsxs("div",{className:"btn-content",children:[x.jsx("span",{children:"Valider la commande"}),x.jsx(A2,{size:20})]})})]})]})}),C&&x.jsx("div",{className:"success-overlay anim-fade",children:x.jsxs("div",{className:"success-card anim-pop",children:[x.jsx("div",{className:"success-icon",children:x.jsx(A2,{size:40,color:"#fff"})}),x.jsx("h3",{children:"Vente russie !"}),x.jsx("p",{children:"Facture gnre avec succs."})]})})]})}const g9="modulepreload",y9=function(n){return"/"+n},JA={},E2=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let u=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=u(t.map(d=>{if(d=y9(d),d in JA)return;JA[d]=!0;const g=d.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":g9,g||(E.as="script"),E.crossOrigin="",E.href=d,f&&E.setAttribute("nonce",f),document.head.appendChild(E),g)return new Promise((b,j)=>{E.addEventListener("load",b),E.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Jn(n){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(n)}var Ro=Uint8Array,Na=Uint16Array,r5=Int32Array,s5=new Ro([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a5=new Ro([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ZA=new Ro([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mT=function(n,e){for(var t=new Na(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var s=new r5(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)s[o]=o-t[i]<<5|i;return{b:t,r:s}},gT=mT(s5,2),v9=gT.b,Cy=gT.r;v9[28]=258,Cy[258]=28;var _9=mT(a5,0),e4=_9.r,Ry=new Na(32768);for(var Ai=0;Ai<32768;++Ai){var Vu=(Ai&43690)>>1|(Ai&21845)<<1;Vu=(Vu&52428)>>2|(Vu&13107)<<2,Vu=(Vu&61680)>>4|(Vu&3855)<<4,Ry[Ai]=((Vu&65280)>>8|(Vu&255)<<8)>>1}var ip=(function(n,e,t){for(var i=n.length,s=0,o=new Na(e);s<i;++s)n[s]&&++o[n[s]-1];var u=new Na(e);for(s=1;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var c;if(t){c=new Na(1<<e);var f=15-e;for(s=0;s<i;++s)if(n[s])for(var d=s<<4|n[s],g=e-n[s],w=u[n[s]-1]++<<g,E=w|(1<<g)-1;w<=E;++w)c[Ry[w]>>f]=d}else for(c=new Na(i),s=0;s<i;++s)n[s]&&(c[s]=Ry[u[n[s]-1]++]>>15-n[s]);return c}),ih=new Ro(288);for(var Ai=0;Ai<144;++Ai)ih[Ai]=8;for(var Ai=144;Ai<256;++Ai)ih[Ai]=9;for(var Ai=256;Ai<280;++Ai)ih[Ai]=7;for(var Ai=280;Ai<288;++Ai)ih[Ai]=8;var Yg=new Ro(32);for(var Ai=0;Ai<32;++Ai)Yg[Ai]=5;var b9=ip(ih,9,0),w9=ip(Yg,5,0),yT=function(n){return(n+7)/8|0},A9=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Ro(n.subarray(e,t))},ql=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},Bd=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},S2=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var s=t.length,o=t.slice();if(!s)return{t:_T,l:0};if(s==1){var u=new Ro(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(me,fe){return me.f-fe.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,g=1,w=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};g!=s-1;)c=t[t[d].f<t[w].f?d++:w++],f=t[d!=g&&t[d].f<t[w].f?d++:w++],t[g++]={s:-1,f:c.f+f.f,l:c,r:f};for(var E=o[0].s,i=1;i<s;++i)o[i].s>E&&(E=o[i].s);var b=new Na(E+1),j=Ly(t[g-1],b,0);if(j>e){var i=0,M=0,U=j-e,V=1<<U;for(o.sort(function(fe,z){return b[z.s]-b[fe.s]||fe.f-z.f});i<s;++i){var ee=o[i].s;if(b[ee]>e)M+=V-(1<<j-b[ee]),b[ee]=e;else break}for(M>>=U;M>0;){var Q=o[i].s;b[Q]<e?M-=1<<e-b[Q]++-1:++i}for(;i>=0&&M;--i){var ne=o[i].s;b[ne]==e&&(--b[ne],++M)}j=e}return{t:new Ro(b),l:j}},Ly=function(n,e,t){return n.s==-1?Math.max(Ly(n.l,e,t+1),Ly(n.r,e,t+1)):e[n.s]=t},t4=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Na(++e),i=0,s=n[0],o=1,u=function(f){t[i++]=f},c=1;c<=e;++c)if(n[c]==s&&c!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=n[c]}return{c:t.subarray(0,i),n:e}},Ud=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},vT=function(n,e,t){var i=t.length,s=yT(e+2);n[s]=i&255,n[s+1]=i>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<i;++o)n[s+o+4]=t[o];return(s+4+i)*8},n4=function(n,e,t,i,s,o,u,c,f,d,g){ql(e,g++,t),++s[256];for(var w=S2(s,15),E=w.t,b=w.l,j=S2(o,15),M=j.t,U=j.l,V=t4(E),ee=V.c,Q=V.n,ne=t4(M),me=ne.c,fe=ne.n,z=new Na(19),D=0;D<ee.length;++D)++z[ee[D]&31];for(var D=0;D<me.length;++D)++z[me[D]&31];for(var C=S2(z,7),q=C.t,I=C.l,P=19;P>4&&!q[ZA[P-1]];--P);var O=d+5<<3,ue=Ud(s,ih)+Ud(o,Yg)+u,Te=Ud(s,E)+Ud(o,M)+u+14+3*P+Ud(z,q)+2*z[16]+3*z[17]+7*z[18];if(f>=0&&O<=ue&&O<=Te)return vT(e,g,n.subarray(f,f+d));var le,oe,de,Ne;if(ql(e,g,1+(Te<ue)),g+=2,Te<ue){le=ip(E,b,0),oe=E,de=ip(M,U,0),Ne=M;var He=ip(q,I,0);ql(e,g,Q-257),ql(e,g+5,fe-1),ql(e,g+10,P-4),g+=14;for(var D=0;D<P;++D)ql(e,g+3*D,q[ZA[D]]);g+=3*P;for(var Z=[ee,me],R=0;R<2;++R)for(var G=Z[R],D=0;D<G.length;++D){var X=G[D]&31;ql(e,g,He[X]),g+=q[X],X>15&&(ql(e,g,G[D]>>5&127),g+=G[D]>>12)}}else le=b9,oe=ih,de=w9,Ne=Yg;for(var D=0;D<c;++D){var ae=i[D];if(ae>255){var X=ae>>18&31;Bd(e,g,le[X+257]),g+=oe[X+257],X>7&&(ql(e,g,ae>>23&31),g+=s5[X]);var ce=ae&31;Bd(e,g,de[ce]),g+=Ne[ce],ce>3&&(Bd(e,g,ae>>5&8191),g+=a5[ce])}else Bd(e,g,le[ae]),g+=oe[ae]}return Bd(e,g,le[256]),g+oe[256]},E9=new r5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_T=new Ro(0),S9=function(n,e,t,i,s,o){var u=o.z||n.length,c=new Ro(i+u+5*(1+Math.ceil(u/7e3))+s),f=c.subarray(i,c.length-s),d=o.l,g=(o.r||0)&7;if(e){g&&(f[0]=o.r>>3);for(var w=E9[e-1],E=w>>13,b=w&8191,j=(1<<t)-1,M=o.p||new Na(32768),U=o.h||new Na(j+1),V=Math.ceil(t/3),ee=2*V,Q=function(ht){return(n[ht]^n[ht+1]<<V^n[ht+2]<<ee)&j},ne=new r5(25e3),me=new Na(288),fe=new Na(32),z=0,D=0,C=o.i||0,q=0,I=o.w||0,P=0;C+2<u;++C){var O=Q(C),ue=C&32767,Te=U[O];if(M[ue]=Te,U[O]=ue,I<=C){var le=u-C;if((z>7e3||q>24576)&&(le>423||!d)){g=n4(n,f,0,ne,me,fe,D,q,P,C-P,g),q=z=D=0,P=C;for(var oe=0;oe<286;++oe)me[oe]=0;for(var oe=0;oe<30;++oe)fe[oe]=0}var de=2,Ne=0,He=b,Z=ue-Te&32767;if(le>2&&O==Q(C-Z))for(var R=Math.min(E,le)-1,G=Math.min(32767,C),X=Math.min(258,le);Z<=G&&--He&&ue!=Te;){if(n[C+de]==n[C+de-Z]){for(var ae=0;ae<X&&n[C+ae]==n[C+ae-Z];++ae);if(ae>de){if(de=ae,Ne=Z,ae>R)break;for(var ce=Math.min(Z,ae-2),ge=0,oe=0;oe<ce;++oe){var Re=C-Z+oe&32767,xe=M[Re],Me=Re-xe&32767;Me>ge&&(ge=Me,Te=Re)}}}ue=Te,Te=M[ue],Z+=ue-Te&32767}if(Ne){ne[q++]=268435456|Cy[de]<<18|e4[Ne];var $e=Cy[de]&31,et=e4[Ne]&31;D+=s5[$e]+a5[et],++me[257+$e],++fe[et],I=C+de,++z}else ne[q++]=n[C],++me[n[C]]}}for(C=Math.max(C,I);C<u;++C)ne[q++]=n[C],++me[n[C]];g=n4(n,f,d,ne,me,fe,D,q,P,C-P,g),d||(o.r=g&7|f[g/8|0]<<3,g-=7,o.h=U,o.p=M,o.i=C,o.w=I)}else{for(var C=o.w||0;C<u+d;C+=65535){var rt=C+65535;rt>=u&&(f[g/8|0]=d,rt=u),g=vT(f,g+1,n.subarray(C,rt))}o.i=u}return A9(c,0,i+yT(g)+s)},bT=function(){var n=1,e=0;return{p:function(t){for(var i=n,s=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)s+=i+=t[u];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}n=i,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},x9=function(n,e,t,i,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new Ro(o.length+n.length);u.set(o),u.set(n,o.length),n=u,s.w=o.length}return S9(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,s)},wT=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},T9=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=bT();s.p(e.dictionary),wT(n,2,s.d())}};function ky(n,e){e||(e={});var t=bT();t.p(n);var i=x9(n,e,e.dictionary?6:2,4);return T9(i,e),wT(i,i.length-4,t.d()),i}var N9=typeof TextDecoder<"u"&&new TextDecoder,I9=0;try{N9.decode(_T,{stream:!0}),I9=1}catch{}function C9(n){if(Array.isArray(n))return n}function R9(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(i=o.call(t)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(g){d=!0,s=g}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw s}}return c}}function i4(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function L9(n,e){if(n){if(typeof n=="string")return i4(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i4(n,e):void 0}}function k9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r4(n,e){return C9(n)||R9(n,e)||L9(n,e)||k9()}function s4(n,e="utf8"){return new TextDecoder(e).decode(n)}const D9=new TextEncoder;function P9(n){return D9.encode(n)}const O9=1024*8,M9=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),x2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class o5{constructor(e=O9,t={}){Xn(this,"buffer");Xn(this,"byteLength");Xn(this,"byteOffset");Xn(this,"length");Xn(this,"offset");Xn(this,"lastWrittenByte");Xn(this,"littleEndian");Xn(this,"_data");Xn(this,"_mark");Xn(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof o5)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,s=new Uint8Array(i);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=x2[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+i);if(this.littleEndian===M9&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+i));c.reverse();const f=new x2[t](c.buffer);return this.offset+=i,f.reverse(),f}const u=new x2[t](o);return this.offset+=i,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return s4(this.readBytes(e))}decodeText(e=1,t="utf8"){return s4(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(P9(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Wf(n){let e=n.length;for(;--e>=0;)n[e]=0}const j9=3,V9=258,AT=29,F9=256,B9=F9+1+AT,ET=30,U9=512,z9=new Array((B9+2)*2);Wf(z9);const q9=new Array(ET*2);Wf(q9);const H9=new Array(U9);Wf(H9);const G9=new Array(V9-j9+1);Wf(G9);const K9=new Array(AT);Wf(K9);const $9=new Array(ET);Wf($9);const Y9=(n,e,t,i)=>{let s=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do s=s+e[i++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var Dy=Y9;const W9=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},Q9=new Uint32Array(W9()),X9=(n,e,t,i)=>{const s=Q9,o=i+t;n^=-1;for(let u=i;u<o;u++)n=n>>>8^s[(n^e[u])&255];return n^-1};var nl=X9,Py={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ST={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const J9=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Z9=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)J9(t,i)&&(n[i]=t[i])}}return n},eM=n=>{let e=0;for(let i=0,s=n.length;i<s;i++)e+=n[i].length;const t=new Uint8Array(e);for(let i=0,s=0,o=n.length;i<o;i++){let u=n[i];t.set(u,s),s+=u.length}return t},xT={assign:Z9,flattenChunks:eM};let TT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{TT=!1}const Ap=new Uint8Array(256);for(let n=0;n<256;n++)Ap[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Ap[254]=Ap[254]=1;var tM=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,i,s,o,u=n.length,c=0;for(s=0;s<u;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),s++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,s=0;o<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const nM=(n,e)=>{if(e<65534&&n.subarray&&TT)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(n[i]);return t};var iM=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let i,s;const o=new Array(t*2);for(s=0,i=0;i<t;){let u=n[i++];if(u<128){o[s++]=u;continue}let c=Ap[u];if(c>4){o[s++]=65533,i+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&i<t;)u=u<<6|n[i++]&63,c--;if(c>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return nM(o,s)},rM=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Ap[n[t]]>e?t:e},Oy={string2buf:tM,buf2string:iM,utf8border:rM};function sM(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var aM=sM;const qm=16209,oM=16191;var lM=function(e,t){let i,s,o,u,c,f,d,g,w,E,b,j,M,U,V,ee,Q,ne,me,fe,z,D,C,q;const I=e.state;i=e.next_in,C=e.input,s=i+(e.avail_in-5),o=e.next_out,q=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=I.dmax,d=I.wsize,g=I.whave,w=I.wnext,E=I.window,b=I.hold,j=I.bits,M=I.lencode,U=I.distcode,V=(1<<I.lenbits)-1,ee=(1<<I.distbits)-1;e:do{j<15&&(b+=C[i++]<<j,j+=8,b+=C[i++]<<j,j+=8),Q=M[b&V];t:for(;;){if(ne=Q>>>24,b>>>=ne,j-=ne,ne=Q>>>16&255,ne===0)q[o++]=Q&65535;else if(ne&16){me=Q&65535,ne&=15,ne&&(j<ne&&(b+=C[i++]<<j,j+=8),me+=b&(1<<ne)-1,b>>>=ne,j-=ne),j<15&&(b+=C[i++]<<j,j+=8,b+=C[i++]<<j,j+=8),Q=U[b&ee];n:for(;;){if(ne=Q>>>24,b>>>=ne,j-=ne,ne=Q>>>16&255,ne&16){if(fe=Q&65535,ne&=15,j<ne&&(b+=C[i++]<<j,j+=8,j<ne&&(b+=C[i++]<<j,j+=8)),fe+=b&(1<<ne)-1,fe>f){e.msg="invalid distance too far back",I.mode=qm;break e}if(b>>>=ne,j-=ne,ne=o-u,fe>ne){if(ne=fe-ne,ne>g&&I.sane){e.msg="invalid distance too far back",I.mode=qm;break e}if(z=0,D=E,w===0){if(z+=d-ne,ne<me){me-=ne;do q[o++]=E[z++];while(--ne);z=o-fe,D=q}}else if(w<ne){if(z+=d+w-ne,ne-=w,ne<me){me-=ne;do q[o++]=E[z++];while(--ne);if(z=0,w<me){ne=w,me-=ne;do q[o++]=E[z++];while(--ne);z=o-fe,D=q}}}else if(z+=w-ne,ne<me){me-=ne;do q[o++]=E[z++];while(--ne);z=o-fe,D=q}for(;me>2;)q[o++]=D[z++],q[o++]=D[z++],q[o++]=D[z++],me-=3;me&&(q[o++]=D[z++],me>1&&(q[o++]=D[z++]))}else{z=o-fe;do q[o++]=q[z++],q[o++]=q[z++],q[o++]=q[z++],me-=3;while(me>2);me&&(q[o++]=q[z++],me>1&&(q[o++]=q[z++]))}}else if((ne&64)===0){Q=U[(Q&65535)+(b&(1<<ne)-1)];continue n}else{e.msg="invalid distance code",I.mode=qm;break e}break}}else if((ne&64)===0){Q=M[(Q&65535)+(b&(1<<ne)-1)];continue t}else if(ne&32){I.mode=oM;break e}else{e.msg="invalid literal/length code",I.mode=qm;break e}break}}while(i<s&&o<c);me=j>>3,i-=me,j-=me<<3,b&=(1<<j)-1,e.next_in=i,e.next_out=o,e.avail_in=i<s?5+(s-i):5-(i-s),e.avail_out=o<c?257+(c-o):257-(o-c),I.hold=b,I.bits=j};const Jh=15,a4=852,o4=592,l4=0,T2=1,u4=2,uM=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),cM=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),hM=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fM=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),dM=(n,e,t,i,s,o,u,c)=>{const f=c.bits;let d=0,g=0,w=0,E=0,b=0,j=0,M=0,U=0,V=0,ee=0,Q,ne,me,fe,z,D=null,C;const q=new Uint16Array(Jh+1),I=new Uint16Array(Jh+1);let P=null,O,ue,Te;for(d=0;d<=Jh;d++)q[d]=0;for(g=0;g<i;g++)q[e[t+g]]++;for(b=f,E=Jh;E>=1&&q[E]===0;E--);if(b>E&&(b=E),E===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<E&&q[w]===0;w++);for(b<w&&(b=w),U=1,d=1;d<=Jh;d++)if(U<<=1,U-=q[d],U<0)return-1;if(U>0&&(n===l4||E!==1))return-1;for(I[1]=0,d=1;d<Jh;d++)I[d+1]=I[d]+q[d];for(g=0;g<i;g++)e[t+g]!==0&&(u[I[e[t+g]]++]=g);if(n===l4?(D=P=u,C=20):n===T2?(D=uM,P=cM,C=257):(D=hM,P=fM,C=0),ee=0,g=0,d=w,z=o,j=b,M=0,me=-1,V=1<<b,fe=V-1,n===T2&&V>a4||n===u4&&V>o4)return 1;for(;;){O=d-M,u[g]+1<C?(ue=0,Te=u[g]):u[g]>=C?(ue=P[u[g]-C],Te=D[u[g]-C]):(ue=96,Te=0),Q=1<<d-M,ne=1<<j,w=ne;do ne-=Q,s[z+(ee>>M)+ne]=O<<24|ue<<16|Te|0;while(ne!==0);for(Q=1<<d-1;ee&Q;)Q>>=1;if(Q!==0?(ee&=Q-1,ee+=Q):ee=0,g++,--q[d]===0){if(d===E)break;d=e[t+u[g]]}if(d>b&&(ee&fe)!==me){for(M===0&&(M=b),z+=w,j=d-M,U=1<<j;j+M<E&&(U-=q[j+M],!(U<=0));)j++,U<<=1;if(V+=1<<j,n===T2&&V>a4||n===u4&&V>o4)return 1;me=ee&fe,s[me]=b<<24|j<<16|z-o|0}}return ee!==0&&(s[z+ee]=d-M<<24|64<<16|0),c.bits=b,0};var rp=dM;const pM=0,NT=1,IT=2,{Z_FINISH:c4,Z_BLOCK:mM,Z_TREES:Hm,Z_OK:rh,Z_STREAM_END:gM,Z_NEED_DICT:yM,Z_STREAM_ERROR:eo,Z_DATA_ERROR:CT,Z_MEM_ERROR:RT,Z_BUF_ERROR:vM,Z_DEFLATED:h4}=ST,D1=16180,f4=16181,d4=16182,p4=16183,m4=16184,g4=16185,y4=16186,v4=16187,_4=16188,b4=16189,Wg=16190,Hl=16191,N2=16192,w4=16193,I2=16194,A4=16195,E4=16196,S4=16197,x4=16198,Gm=16199,Km=16200,T4=16201,N4=16202,I4=16203,C4=16204,R4=16205,C2=16206,L4=16207,k4=16208,Ci=16209,LT=16210,kT=16211,_M=852,bM=592,wM=15,AM=wM,D4=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function EM(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ch=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<D1||e.mode>kT?1:0},DT=n=>{if(ch(n))return eo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=D1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(_M),e.distcode=e.distdyn=new Int32Array(bM),e.sane=1,e.back=-1,rh},PT=n=>{if(ch(n))return eo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,DT(n)},OT=(n,e)=>{let t;if(ch(n))return eo;const i=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?eo:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,PT(n))},MT=(n,e)=>{if(!n)return eo;const t=new EM;n.state=t,t.strm=n,t.window=null,t.mode=D1;const i=OT(n,e);return i!==rh&&(n.state=null),i},SM=n=>MT(n,AM);let P4=!0,R2,L2;const xM=n=>{if(P4){R2=new Int32Array(512),L2=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(rp(NT,n.lens,0,288,R2,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;rp(IT,n.lens,0,32,L2,0,n.work,{bits:5}),P4=!1}n.lencode=R2,n.lenbits=9,n.distcode=L2,n.distbits=5},jT=(n,e,t,i)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>i&&(s=i),o.window.set(e.subarray(t-i,t-i+s),o.wnext),i-=s,i?(o.window.set(e.subarray(t-i,t),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},TM=(n,e)=>{let t,i,s,o,u,c,f,d,g,w,E,b,j,M,U=0,V,ee,Q,ne,me,fe,z,D;const C=new Uint8Array(4);let q,I;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ch(n)||!n.output||!n.input&&n.avail_in!==0)return eo;t=n.state,t.mode===Hl&&(t.mode=N2),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,i=n.input,c=n.avail_in,d=t.hold,g=t.bits,w=c,E=f,D=rh;e:for(;;)switch(t.mode){case D1:if(t.wrap===0){t.mode=N2;break}for(;g<16;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,C[0]=d&255,C[1]=d>>>8&255,t.check=nl(t.check,C,2,0),d=0,g=0,t.mode=f4;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Ci;break}if((d&15)!==h4){n.msg="unknown compression method",t.mode=Ci;break}if(d>>>=4,g-=4,z=(d&15)+8,t.wbits===0&&(t.wbits=z),z>15||z>t.wbits){n.msg="invalid window size",t.mode=Ci;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?b4:Hl,d=0,g=0;break;case f4:for(;g<16;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}if(t.flags=d,(t.flags&255)!==h4){n.msg="unknown compression method",t.mode=Ci;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Ci;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=nl(t.check,C,2,0)),d=0,g=0,t.mode=d4;case d4:for(;g<32;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,C[2]=d>>>16&255,C[3]=d>>>24&255,t.check=nl(t.check,C,4,0)),d=0,g=0,t.mode=p4;case p4:for(;g<16;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=nl(t.check,C,2,0)),d=0,g=0,t.mode=m4;case m4:if(t.flags&1024){for(;g<16;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=nl(t.check,C,2,0)),d=0,g=0}else t.head&&(t.head.extra=null);t.mode=g4;case g4:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&(z=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(o,o+b),z)),t.flags&512&&t.wrap&4&&(t.check=nl(t.check,i,b,o)),c-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=y4;case y4:if(t.flags&2048){if(c===0)break e;b=0;do z=i[o+b++],t.head&&z&&t.length<65536&&(t.head.name+=String.fromCharCode(z));while(z&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=nl(t.check,i,b,o)),c-=b,o+=b,z)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=v4;case v4:if(t.flags&4096){if(c===0)break e;b=0;do z=i[o+b++],t.head&&z&&t.length<65536&&(t.head.comment+=String.fromCharCode(z));while(z&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=nl(t.check,i,b,o)),c-=b,o+=b,z)break e}else t.head&&(t.head.comment=null);t.mode=_4;case _4:if(t.flags&512){for(;g<16;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Ci;break}d=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Hl;break;case b4:for(;g<32;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}n.adler=t.check=D4(d),d=0,g=0,t.mode=Wg;case Wg:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,yM;n.adler=t.check=1,t.mode=Hl;case Hl:if(e===mM||e===Hm)break e;case N2:if(t.last){d>>>=g&7,g-=g&7,t.mode=C2;break}for(;g<3;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}switch(t.last=d&1,d>>>=1,g-=1,d&3){case 0:t.mode=w4;break;case 1:if(xM(t),t.mode=Gm,e===Hm){d>>>=2,g-=2;break e}break;case 2:t.mode=E4;break;case 3:n.msg="invalid block type",t.mode=Ci}d>>>=2,g-=2;break;case w4:for(d>>>=g&7,g-=g&7;g<32;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Ci;break}if(t.length=d&65535,d=0,g=0,t.mode=I2,e===Hm)break e;case I2:t.mode=A4;case A4:if(b=t.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break e;s.set(i.subarray(o,o+b),u),c-=b,o+=b,f-=b,u+=b,t.length-=b;break}t.mode=Hl;break;case E4:for(;g<14;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}if(t.nlen=(d&31)+257,d>>>=5,g-=5,t.ndist=(d&31)+1,d>>>=5,g-=5,t.ncode=(d&15)+4,d>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Ci;break}t.have=0,t.mode=S4;case S4:for(;t.have<t.ncode;){for(;g<3;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}t.lens[P[t.have++]]=d&7,d>>>=3,g-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,q={bits:t.lenbits},D=rp(pM,t.lens,0,19,t.lencode,0,t.work,q),t.lenbits=q.bits,D){n.msg="invalid code lengths set",t.mode=Ci;break}t.have=0,t.mode=x4;case x4:for(;t.have<t.nlen+t.ndist;){for(;U=t.lencode[d&(1<<t.lenbits)-1],V=U>>>24,ee=U>>>16&255,Q=U&65535,!(V<=g);){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}if(Q<16)d>>>=V,g-=V,t.lens[t.have++]=Q;else{if(Q===16){for(I=V+2;g<I;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}if(d>>>=V,g-=V,t.have===0){n.msg="invalid bit length repeat",t.mode=Ci;break}z=t.lens[t.have-1],b=3+(d&3),d>>>=2,g-=2}else if(Q===17){for(I=V+3;g<I;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}d>>>=V,g-=V,z=0,b=3+(d&7),d>>>=3,g-=3}else{for(I=V+7;g<I;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}d>>>=V,g-=V,z=0,b=11+(d&127),d>>>=7,g-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Ci;break}for(;b--;)t.lens[t.have++]=z}}if(t.mode===Ci)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Ci;break}if(t.lenbits=9,q={bits:t.lenbits},D=rp(NT,t.lens,0,t.nlen,t.lencode,0,t.work,q),t.lenbits=q.bits,D){n.msg="invalid literal/lengths set",t.mode=Ci;break}if(t.distbits=6,t.distcode=t.distdyn,q={bits:t.distbits},D=rp(IT,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,q),t.distbits=q.bits,D){n.msg="invalid distances set",t.mode=Ci;break}if(t.mode=Gm,e===Hm)break e;case Gm:t.mode=Km;case Km:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,lM(n,E),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,i=n.input,c=n.avail_in,d=t.hold,g=t.bits,t.mode===Hl&&(t.back=-1);break}for(t.back=0;U=t.lencode[d&(1<<t.lenbits)-1],V=U>>>24,ee=U>>>16&255,Q=U&65535,!(V<=g);){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}if(ee&&(ee&240)===0){for(ne=V,me=ee,fe=Q;U=t.lencode[fe+((d&(1<<ne+me)-1)>>ne)],V=U>>>24,ee=U>>>16&255,Q=U&65535,!(ne+V<=g);){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}d>>>=ne,g-=ne,t.back+=ne}if(d>>>=V,g-=V,t.back+=V,t.length=Q,ee===0){t.mode=R4;break}if(ee&32){t.back=-1,t.mode=Hl;break}if(ee&64){n.msg="invalid literal/length code",t.mode=Ci;break}t.extra=ee&15,t.mode=T4;case T4:if(t.extra){for(I=t.extra;g<I;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=N4;case N4:for(;U=t.distcode[d&(1<<t.distbits)-1],V=U>>>24,ee=U>>>16&255,Q=U&65535,!(V<=g);){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}if((ee&240)===0){for(ne=V,me=ee,fe=Q;U=t.distcode[fe+((d&(1<<ne+me)-1)>>ne)],V=U>>>24,ee=U>>>16&255,Q=U&65535,!(ne+V<=g);){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}d>>>=ne,g-=ne,t.back+=ne}if(d>>>=V,g-=V,t.back+=V,ee&64){n.msg="invalid distance code",t.mode=Ci;break}t.offset=Q,t.extra=ee&15,t.mode=I4;case I4:if(t.extra){for(I=t.extra;g<I;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Ci;break}t.mode=C4;case C4:if(f===0)break e;if(b=E-f,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Ci;break}b>t.wnext?(b-=t.wnext,j=t.wsize-b):j=t.wnext-b,b>t.length&&(b=t.length),M=t.window}else M=s,j=u-t.offset,b=t.length;b>f&&(b=f),f-=b,t.length-=b;do s[u++]=M[j++];while(--b);t.length===0&&(t.mode=Km);break;case R4:if(f===0)break e;s[u++]=t.length,f--,t.mode=Km;break;case C2:if(t.wrap){for(;g<32;){if(c===0)break e;c--,d|=i[o++]<<g,g+=8}if(E-=f,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?nl(t.check,s,E,u-E):Dy(t.check,s,E,u-E)),E=f,t.wrap&4&&(t.flags?d:D4(d))!==t.check){n.msg="incorrect data check",t.mode=Ci;break}d=0,g=0}t.mode=L4;case L4:if(t.wrap&&t.flags){for(;g<32;){if(c===0)break e;c--,d+=i[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Ci;break}d=0,g=0}t.mode=k4;case k4:D=gM;break e;case Ci:D=CT;break e;case LT:return RT;case kT:default:return eo}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,(t.wsize||E!==n.avail_out&&t.mode<Ci&&(t.mode<C2||e!==c4))&&jT(n,n.output,n.next_out,E-n.avail_out),w-=n.avail_in,E-=n.avail_out,n.total_in+=w,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?nl(t.check,s,E,n.next_out-E):Dy(t.check,s,E,n.next_out-E)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Hl?128:0)+(t.mode===Gm||t.mode===I2?256:0),(w===0&&E===0||e===c4)&&D===rh&&(D=vM),D},NM=n=>{if(ch(n))return eo;let e=n.state;return e.window&&(e.window=null),n.state=null,rh},IM=(n,e)=>{if(ch(n))return eo;const t=n.state;return(t.wrap&2)===0?eo:(t.head=e,e.done=!1,rh)},CM=(n,e)=>{const t=e.length;let i,s,o;return ch(n)||(i=n.state,i.wrap!==0&&i.mode!==Wg)?eo:i.mode===Wg&&(s=1,s=Dy(s,e,t,0),s!==i.check)?CT:(o=jT(n,e,t,t),o?(i.mode=LT,RT):(i.havedict=1,rh))};var RM=PT,LM=OT,kM=DT,DM=SM,PM=MT,OM=TM,MM=NM,jM=IM,VM=CM,FM="pako inflate (from Nodeca project)",Gl={inflateReset:RM,inflateReset2:LM,inflateResetKeep:kM,inflateInit:DM,inflateInit2:PM,inflate:OM,inflateEnd:MM,inflateGetHeader:jM,inflateSetDictionary:VM,inflateInfo:FM};function BM(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var UM=BM;const VT=Object.prototype.toString,{Z_NO_FLUSH:zM,Z_FINISH:qM,Z_OK:Ep,Z_STREAM_END:k2,Z_NEED_DICT:D2,Z_STREAM_ERROR:HM,Z_DATA_ERROR:O4,Z_MEM_ERROR:GM}=ST;function Bp(n){this.options=xT.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new aM,this.strm.avail_out=0;let t=Gl.inflateInit2(this.strm,e.windowBits);if(t!==Ep)throw new Error(Py[t]);if(this.header=new UM,Gl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Oy.string2buf(e.dictionary):VT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Gl.inflateSetDictionary(this.strm,e.dictionary),t!==Ep)))throw new Error(Py[t])}Bp.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?qM:zM,VT.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),o=Gl.inflate(t,u),o===D2&&s&&(o=Gl.inflateSetDictionary(t,s),o===Ep?o=Gl.inflate(t,u):o===O4&&(o=D2));t.avail_in>0&&o===k2&&t.state.wrap>0&&n[t.next_in]!==0;)Gl.inflateReset(t),o=Gl.inflate(t,u);switch(o){case HM:case O4:case D2:case GM:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===k2))if(this.options.to==="string"){let f=Oy.utf8border(t.output,t.next_out),d=t.next_out-f,g=Oy.buf2string(t.output,f);t.next_out=d,t.avail_out=i-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Ep&&c===0)){if(o===k2)return o=Gl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Bp.prototype.onData=function(n){this.chunks.push(n)};Bp.prototype.onEnd=function(n){n===Ep&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xT.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function KM(n,e){const t=new Bp(e);if(t.push(n),t.err)throw t.msg||Py[t.err];return t.result}var $M=Bp,YM=KM,WM={Inflate:$M,inflate:YM};const{Inflate:QM,inflate:XM}=WM;var M4=QM,JM=XM;const FT=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;FT[n]=e}const j4=4294967295;function ZM(n,e,t){let i=n;for(let s=0;s<t;s++)i=FT[(i^e[s])&255]^i>>>8;return i}function ej(n,e){return(ZM(j4,n,e)^j4)>>>0}function V4(n,e,t){const i=n.readUint32(),s=ej(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${s}`)}function BT(n,e,t){for(let i=0;i<t;i++)e[i]=n[i]}function UT(n,e,t,i){let s=0;for(;s<i;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-i]&255}function zT(n,e,t,i){let s=0;if(t.length===0)for(;s<i;s++)e[s]=n[s];else for(;s<i;s++)e[s]=n[s]+t[s]&255}function qT(n,e,t,i,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<i;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<i;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function HT(n,e,t,i,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<i;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<i;o++)e[o]=n[o]+tj(e[o-s],t[o],t[o-s])&255}}function tj(n,e,t){const i=n+e-t,s=Math.abs(i-n),o=Math.abs(i-e),u=Math.abs(i-t);return s<=o&&s<=u?n:o<=u?e:t}function nj(n,e,t,i,s,o){switch(n){case 0:BT(e,t,s);break;case 1:UT(e,t,s,o);break;case 2:zT(e,t,i,s);break;case 3:qT(e,t,i,s,o);break;case 4:HT(e,t,i,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const ij=new Uint16Array([255]),rj=new Uint8Array(ij.buffer),sj=rj[0]===255;function aj(n){const{data:e,width:t,height:i,channels:s,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,f=new Uint8Array(i*t*c);let d=0;for(let g=0;g<7;g++){const w=u[g],E=Math.ceil((t-w.x)/w.xStep),b=Math.ceil((i-w.y)/w.yStep);if(E<=0||b<=0)continue;const j=E*c,M=new Uint8Array(j);for(let U=0;U<b;U++){const V=e[d++],ee=e.subarray(d,d+j);d+=j;const Q=new Uint8Array(j);nj(V,ee,Q,M,j,c),M.set(Q);for(let ne=0;ne<E;ne++){const me=w.x+ne*w.xStep,fe=w.y+U*w.yStep;if(!(me>=t||fe>=i))for(let z=0;z<c;z++)f[(fe*t+me)*c+z]=Q[ne*c+z]}}}if(o===16){const g=new Uint16Array(f.buffer);if(sj)for(let w=0;w<g.length;w++)g[w]=oj(g[w]);return g}else return f}function oj(n){return(n&255)<<8|n>>8&255}const lj=new Uint16Array([255]),uj=new Uint8Array(lj.buffer),cj=uj[0]===255,hj=new Uint8Array(0);function F4(n){const{data:e,width:t,height:i,channels:s,depth:o}=n,u=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*t),f=new Uint8Array(i*c);let d=hj,g=0,w,E;for(let b=0;b<i;b++){switch(w=e.subarray(g+1,g+1+c),E=f.subarray(b*c,(b+1)*c),e[g]){case 0:BT(w,E,c);break;case 1:UT(w,E,c,u);break;case 2:zT(w,E,d,c);break;case 3:qT(w,E,d,c,u);break;case 4:HT(w,E,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}d=E,g+=c+1}if(o===16){const b=new Uint16Array(f.buffer);if(cj)for(let j=0;j<b.length;j++)b[j]=fj(b[j]);return b}else return f}function fj(n){return(n&255)<<8|n>>8&255}const mg=Uint8Array.of(137,80,78,71,13,10,26,10);function B4(n){if(!dj(n.readBytes(mg.length)))throw new Error("wrong PNG signature")}function dj(n){if(n.length<mg.length)return!1;for(let e=0;e<mg.length;e++)if(n[e]!==mg[e])return!1;return!0}const pj="tEXt",mj=0,GT=new TextDecoder("latin1");function gj(n){if(vj(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const yj=/^[\u0000-\u00FF]*$/;function vj(n){if(!yj.test(n))throw new Error("invalid latin1 text")}function _j(n,e,t){const i=KT(e);n[i]=bj(e,t-i.length-1)}function KT(n){for(n.mark();n.readByte()!==mj;);const e=n.offset;n.reset();const t=GT.decode(n.readBytes(e-n.offset-1));return n.skip(1),gj(t),t}function bj(n,e){return GT.decode(n.readBytes(e))}const Sa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},P2={UNKNOWN:-1,DEFLATE:0},U4={UNKNOWN:-1,ADAPTIVE:0},O2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},$m={NONE:0,BACKGROUND:1,PREVIOUS:2},M2={SOURCE:0,OVER:1};class wj extends o5{constructor(t,i={}){super(t);Xn(this,"_checkCrc");Xn(this,"_inflator");Xn(this,"_png");Xn(this,"_apng");Xn(this,"_end");Xn(this,"_hasPalette");Xn(this,"_palette");Xn(this,"_hasTransparency");Xn(this,"_transparency");Xn(this,"_compressionMethod");Xn(this,"_filterMethod");Xn(this,"_interlaceMethod");Xn(this,"_colorType");Xn(this,"_isAnimated");Xn(this,"_numberOfFrames");Xn(this,"_numberOfPlays");Xn(this,"_frames");Xn(this,"_writingDataChunks");const{checkCrc:s=!1}=i;this._checkCrc=s,this._inflator=new M4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=P2.UNKNOWN,this._filterMethod=U4.UNKNOWN,this._interlaceMethod=O2.UNKNOWN,this._colorType=Sa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(B4(this);!this._end;){const t=this.readUint32(),i=this.readChars(4);this.decodeChunk(t,i)}return this.decodeImage(),this._png}decodeApng(){for(B4(this);!this._end;){const t=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(t,i)}return this.decodeApngImage(),this._apng}decodeChunk(t,i){const s=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case pj:_j(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?V4(this,t+4,i):this.skip(4)}decodeApngChunk(t,i){const s=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,i),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?V4(this,t+4,i):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Aj(this.readUint8());const i=this.readUint8();this._colorType=i;let s;switch(i){case Sa.GREYSCALE:s=1;break;case Sa.TRUECOLOUR:s=3;break;case Sa.INDEXED_COLOUR:s=1;break;case Sa.GREYSCALE_ALPHA:s=2;break;case Sa.TRUECOLOUR_ALPHA:s=4;break;case Sa.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==P2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const i=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let o=0;o<i;o++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const i=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let i=t,s=this.offset+this.byteOffset;if(s+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,s,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Sa.GREYSCALE:case Sa.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let i=0;i<t/2;i++)this._transparency[i]=this.readUint16();break}case Sa.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let i=0;for(;i<t;i++){const s=this.readByte();this._palette[i].push(s)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case Sa.UNKNOWN:case Sa.GREYSCALE_ALPHA:case Sa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const i=KT(this),s=this.readUint8();if(s!==P2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const o=this.readBytes(t-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:JM(o)}}decodepHYs(){const t=this.readUint32(),i=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:i,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const i={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=F4({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)i.data=s.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(s,o,i),this.addFrameDataToCanvas(i,s)}this._apng.frames.push(i)}}return this._apng}disposeFrame(t,i,s){switch(t.disposeOp){case $m.NONE:break;case $m.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let u=0;u<this._png.width;u++){const c=(o*t.width+u)*this._png.channels;for(let f=0;f<this._png.channels;f++)s.data[c+f]=0}break;case $m.PREVIOUS:s.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,i){const s=1<<this._png.depth,o=(u,c)=>{const f=((u+i.yOffset)*this._png.width+i.xOffset+c)*this._png.channels,d=(u*i.width+c)*this._png.channels;return{index:f,frameIndex:d}};switch(i.blendOp){case M2.SOURCE:for(let u=0;u<i.height;u++)for(let c=0;c<i.width;c++){const{index:f,frameIndex:d}=o(u,c);for(let g=0;g<this._png.channels;g++)t.data[f+g]=i.data[d+g]}break;case M2.OVER:for(let u=0;u<i.height;u++)for(let c=0;c<i.width;c++){const{index:f,frameIndex:d}=o(u,c);for(let g=0;g<this._png.channels;g++){const w=i.data[d+this._png.channels-1]/s,E=g%(this._png.channels-1)===0?1:i.data[d+g],b=Math.floor(w*E+(1-w)*t.data[f+g]);t.data[f+g]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==U4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===O2.NO_INTERLACE)this._png.data=F4({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===O2.ADAM7)this._png.data=aj({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,i=this._frames.at(-1);i?i.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:$m.NONE,blendOp:M2.SOURCE,data:t}),this._inflator=new M4,this._writingDataChunks=!1}}function Aj(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var z4;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(z4||(z4={}));function Ej(n,e){return new wj(n,e).decode()}var $t=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function j2(){$t.console&&typeof $t.console.log=="function"&&$t.console.log.apply($t.console,arguments)}var pi={log:j2,warn:function(n){$t.console&&(typeof $t.console.warn=="function"?$t.console.warn.apply($t.console,arguments):j2.call(null,arguments))},error:function(n){$t.console&&(typeof $t.console.error=="function"?$t.console.error.apply($t.console,arguments):j2(n))}};function V2(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){kc(i.response,e,t)},i.onerror=function(){pi.error("could not download file")},i.send()}function q4(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ym(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var kc=$t.saveAs||((typeof window>"u"?"undefined":Jn(window))!=="object"||window!==$t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=$t.URL||$t.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?q4(s.href)?V2(n,e,t):Ym(s,s.target="_blank"):Ym(s)):(s.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){Ym(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(q4(n))V2(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Ym(i)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Jn(o)!=="object"&&(pi.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return V2(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test($t.HTMLElement)||$t.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":Jn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=g:location=g,i=null},c.readAsDataURL(n)}else{var f=$t.URL||$t.webkitURL,d=f.createObjectURL(n);i?i.location=d:location.href=d,i=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $T(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<t.length;i++){var s=t[i].re,o=t[i].process,u=s.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var gg=$t.atob.bind($t),H4=$t.btoa.bind($t);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function F2(n,e){var t=n[0],i=n[1],s=n[2],o=n[3];t=ws(t,i,s,o,e[0],7,-680876936),o=ws(o,t,i,s,e[1],12,-389564586),s=ws(s,o,t,i,e[2],17,606105819),i=ws(i,s,o,t,e[3],22,-1044525330),t=ws(t,i,s,o,e[4],7,-176418897),o=ws(o,t,i,s,e[5],12,1200080426),s=ws(s,o,t,i,e[6],17,-1473231341),i=ws(i,s,o,t,e[7],22,-45705983),t=ws(t,i,s,o,e[8],7,1770035416),o=ws(o,t,i,s,e[9],12,-1958414417),s=ws(s,o,t,i,e[10],17,-42063),i=ws(i,s,o,t,e[11],22,-1990404162),t=ws(t,i,s,o,e[12],7,1804603682),o=ws(o,t,i,s,e[13],12,-40341101),s=ws(s,o,t,i,e[14],17,-1502002290),t=As(t,i=ws(i,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=As(o,t,i,s,e[6],9,-1069501632),s=As(s,o,t,i,e[11],14,643717713),i=As(i,s,o,t,e[0],20,-373897302),t=As(t,i,s,o,e[5],5,-701558691),o=As(o,t,i,s,e[10],9,38016083),s=As(s,o,t,i,e[15],14,-660478335),i=As(i,s,o,t,e[4],20,-405537848),t=As(t,i,s,o,e[9],5,568446438),o=As(o,t,i,s,e[14],9,-1019803690),s=As(s,o,t,i,e[3],14,-187363961),i=As(i,s,o,t,e[8],20,1163531501),t=As(t,i,s,o,e[13],5,-1444681467),o=As(o,t,i,s,e[2],9,-51403784),s=As(s,o,t,i,e[7],14,1735328473),t=Es(t,i=As(i,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Es(o,t,i,s,e[8],11,-2022574463),s=Es(s,o,t,i,e[11],16,1839030562),i=Es(i,s,o,t,e[14],23,-35309556),t=Es(t,i,s,o,e[1],4,-1530992060),o=Es(o,t,i,s,e[4],11,1272893353),s=Es(s,o,t,i,e[7],16,-155497632),i=Es(i,s,o,t,e[10],23,-1094730640),t=Es(t,i,s,o,e[13],4,681279174),o=Es(o,t,i,s,e[0],11,-358537222),s=Es(s,o,t,i,e[3],16,-722521979),i=Es(i,s,o,t,e[6],23,76029189),t=Es(t,i,s,o,e[9],4,-640364487),o=Es(o,t,i,s,e[12],11,-421815835),s=Es(s,o,t,i,e[15],16,530742520),t=Ss(t,i=Es(i,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=Ss(o,t,i,s,e[7],10,1126891415),s=Ss(s,o,t,i,e[14],15,-1416354905),i=Ss(i,s,o,t,e[5],21,-57434055),t=Ss(t,i,s,o,e[12],6,1700485571),o=Ss(o,t,i,s,e[3],10,-1894986606),s=Ss(s,o,t,i,e[10],15,-1051523),i=Ss(i,s,o,t,e[1],21,-2054922799),t=Ss(t,i,s,o,e[8],6,1873313359),o=Ss(o,t,i,s,e[15],10,-30611744),s=Ss(s,o,t,i,e[6],15,-1560198380),i=Ss(i,s,o,t,e[13],21,1309151649),t=Ss(t,i,s,o,e[4],6,-145523070),o=Ss(o,t,i,s,e[11],10,-1120210379),s=Ss(s,o,t,i,e[2],15,718787259),i=Ss(i,s,o,t,e[9],21,-343485551),n[0]=$u(t,n[0]),n[1]=$u(i,n[1]),n[2]=$u(s,n[2]),n[3]=$u(o,n[3])}function P1(n,e,t,i,s,o){return e=$u($u(e,n),$u(i,o)),$u(e<<s|e>>>32-s,t)}function ws(n,e,t,i,s,o,u){return P1(e&t|~e&i,n,e,s,o,u)}function As(n,e,t,i,s,o,u){return P1(e&i|t&~i,n,e,s,o,u)}function Es(n,e,t,i,s,o,u){return P1(e^t^i,n,e,s,o,u)}function Ss(n,e,t,i,s,o,u){return P1(t^(e|~i),n,e,s,o,u)}function YT(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)F2(i,Sj(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(F2(i,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,F2(i,s),i}function Sj(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var G4="0123456789abcdef".split("");function xj(n){for(var e="",t=0;t<4;t++)e+=G4[n>>8*t+4&15]+G4[n>>8*t&15];return e}function Tj(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function My(n){return YT(n).map(Tj).join("")}var Nj=(function(n){for(var e=0;e<n.length;e++)n[e]=xj(n[e]);return n.join("")})(YT("hello"))!="5d41402abc4b2a76b9719d911017c592";function $u(n,e){if(Nj){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function jy(n,e){var t,i,s,o;if(n!==t){for(var u=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var g=c[f];d=(d+g+u.charCodeAt(f))%256,c[f]=c[d],c[d]=g}t=n,i=c}else c=i;var w=e.length,E=0,b=0,j="";for(f=0;f<w;f++)b=(b+(g=c[E=(E+1)%256]))%256,c[E]=c[b],c[b]=g,u=c[(c[E]+c[b])%256],j+=String.fromCharCode(e.charCodeAt(f)^u);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var K4={print:4,modify:8,copy:16,"annot-forms":32};function of(n,e,t,i){this.v=1,this.r=2;var s=192;n.forEach(function(c){if(K4.perm!==void 0)throw new Error("Invalid permission: "+c);s+=K4[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=My(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=jy(this.encryptionKey,this.padding)}function lf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var s=n.charCodeAt(i);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[i]}return e}function $4(n){if(Jn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,s){if(s=s||!1,typeof t!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[i,!!s],o},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,i)}catch(c){$t.console&&pi.error("jsPDF PubSub Error",c.message,c)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Qg(n){if(!(this instanceof Qg))return new Qg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function WT(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function jc(n,e,t,i,s){if(!(this instanceof jc))return new jc(n,e,t,i,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,WT.call(this,i,s)}function cf(n,e,t,i,s){if(!(this instanceof cf))return new cf(n,e,t,i,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,WT.call(this,i,s)}function St(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",g=null;Jn(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,s=n.format||s,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),i=i||"mm",t=(""+(t||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,E={},b={internal:{},__private__:{}};b.__private__.PubSub=$4;var j="1.3",M=b.__private__.getPdfVersion=function(){return j};b.__private__.setPdfVersion=function(A){j=A};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return U};var V=b.__private__.getPageFormat=function(A){return U[A]};s=s||"a4";var ee="compat",Q="advanced",ne=ee;function me(){this.saveGraphicsState(),te(new Tt(Gt,0,0,-Gt,0,ks()*Gt).toString()+" cm"),this.setFontSize(this.getFontSize()/Gt),d="n",ne=Q}function fe(){this.restoreGraphicsState(),d="S",ne=ee}var z=b.__private__.combineFontStyleAndFontWeight=function(A,F){if(A=="bold"&&F=="normal"||A=="bold"&&F==400||A=="normal"&&F=="italic"||A=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(A=F==400||F==="normal"?A==="italic"?"italic":"normal":F!=700&&F!=="bold"||A!=="normal"?(F==700?"bold":F)+""+A:"bold"),A};b.advancedAPI=function(A){var F=ne===ee;return F&&me.call(this),typeof A!="function"||(A(this),F&&fe.call(this)),this},b.compatAPI=function(A){var F=ne===Q;return F&&fe.call(this),typeof A!="function"||(A(this),F&&me.call(this)),this},b.isAdvancedAPI=function(){return ne===Q};var D,C=function(A){if(ne!==Q)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=b.roundToPrecision=b.__private__.roundToPrecision=function(A,F){var re=e||F;if(isNaN(A)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(re).replace(/0+$/,"")};D=b.hpf=b.__private__.hpf=typeof f=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return q(A,f)}:f==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return q(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return q(A,16)};var I=b.f2=b.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return q(A,2)},P=b.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return q(A,3)},O=b.scale=b.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return ne===ee?A*Gt:ne===Q?A:void 0},ue=function(A){return O((function(F){return ne===ee?ks()-F:ne===Q?F:void 0})(A))};b.__private__.setPrecision=b.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var Te,le="00000000000000000000000000000000",oe=b.__private__.getFileId=function(){return le},de=b.__private__.setFileId=function(A){return le=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(ci=new of(g.userPermissions,g.userPassword,g.ownerPassword,le)),le};b.setFileId=function(A){return de(A),this},b.getFileId=function(){return oe()};var Ne=b.__private__.convertDateToPDFDate=function(A){var F=A.getTimezoneOffset(),re=F<0?"+":"-",pe=Math.floor(Math.abs(F/60)),be=Math.abs(F%60),Be=[re,X(pe),"'",X(be),"'"].join("");return["D:",A.getFullYear(),X(A.getMonth()+1),X(A.getDate()),X(A.getHours()),X(A.getMinutes()),X(A.getSeconds()),Be].join("")},He=b.__private__.convertPDFDateToDate=function(A){var F=parseInt(A.substr(2,4),10),re=parseInt(A.substr(6,2),10)-1,pe=parseInt(A.substr(8,2),10),be=parseInt(A.substr(10,2),10),Be=parseInt(A.substr(12,2),10),Qe=parseInt(A.substr(14,2),10);return new Date(F,re,pe,be,Be,Qe,0)},Z=b.__private__.setCreationDate=function(A){var F;if(A===void 0&&(A=new Date),A instanceof Date)F=Ne(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=A}return Te=F},R=b.__private__.getCreationDate=function(A){var F=Te;return A==="jsDate"&&(F=He(Te)),F};b.setCreationDate=function(A){return Z(A),this},b.getCreationDate=function(A){return R(A)};var G,X=b.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ae=b.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ce=0,ge=[],Re=[],xe=0,Me=[],$e=[],et=!1,rt=Re;b.__private__.setCustomOutputDestination=function(A){et=!0,rt=A};var ht=function(A){et||(rt=A)};b.__private__.resetCustomOutputDestination=function(){et=!1,rt=Re};var te=b.__private__.out=function(A){return A=A.toString(),xe+=A.length+1,rt.push(A),rt},it=b.__private__.write=function(A){return te(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Wt=b.__private__.getArrayBuffer=function(A){for(var F=A.length,re=new ArrayBuffer(F),pe=new Uint8Array(re);F--;)pe[F]=A.charCodeAt(F);return re},Ct=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Ct};var Ge=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(A){return Ge=ne===Q?A/Gt:A,this};var ot,at=b.__private__.getFontSize=b.getFontSize=function(){return ne===ee?Ge:Ge*Gt},Lt=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(A){return Lt=A,this},b.__private__.getR2L=b.getR2L=function(){return Lt};var At,Qt=b.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))ot=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');ot=A}else ot=parseInt(A,10)};b.__private__.getZoomMode=function(){return ot};var nn,qt=b.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');At=A};b.__private__.getPageMode=function(){return At};var ln=b.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');nn=A};b.__private__.getLayoutMode=function(){return nn},b.__private__.setDisplayMode=b.setDisplayMode=function(A,F,re){return Qt(A),ln(F),qt(re),this};var Jt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(A){if(Object.keys(Jt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Jt[A]},b.__private__.getDocumentProperties=function(){return Jt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(A){for(var F in Jt)Jt.hasOwnProperty(F)&&A[F]&&(Jt[F]=A[F]);return this},b.__private__.setDocumentProperty=function(A,F){if(Object.keys(Jt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Jt[A]=F};var vt,Gt,_t,mi,Zt,Rt={},Bt={},Xt=[],xt={},Ln={},jt={},Vt={},Pn=null,Et=0,bt=[],un=new $4(b),vr=n.hotfixes||[],ar={},Us={},Xi=[],Tt=function A(F,re,pe,be,Be,Qe){if(!(this instanceof A))return new A(F,re,pe,be,Be,Qe);isNaN(F)&&(F=1),isNaN(re)&&(re=0),isNaN(pe)&&(pe=0),isNaN(be)&&(be=1),isNaN(Be)&&(Be=0),isNaN(Qe)&&(Qe=0),this._matrix=[F,re,pe,be,Be,Qe]};Object.defineProperty(Tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Tt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(A)},Tt.prototype.multiply=function(A){var F=A.sx*this.sx+A.shy*this.shx,re=A.sx*this.shy+A.shy*this.sy,pe=A.shx*this.sx+A.sy*this.shx,be=A.shx*this.shy+A.sy*this.sy,Be=A.tx*this.sx+A.ty*this.shx+this.tx,Qe=A.tx*this.shy+A.ty*this.sy+this.ty;return new Tt(F,re,pe,be,Be,Qe)},Tt.prototype.decompose=function(){var A=this.sx,F=this.shy,re=this.shx,pe=this.sy,be=this.tx,Be=this.ty,Qe=Math.sqrt(A*A+F*F),ct=(A/=Qe)*re+(F/=Qe)*pe;re-=A*ct,pe-=F*ct;var pt=Math.sqrt(re*re+pe*pe);return ct/=pt,A*(pe/=pt)<F*(re/=pt)&&(A=-A,F=-F,ct=-ct,Qe=-Qe),{scale:new Tt(Qe,0,0,pt,0,0),translate:new Tt(1,0,0,1,be,Be),rotate:new Tt(A,F,-F,A,0,0),skew:new Tt(1,0,ct,1,0,0)}},Tt.prototype.toString=function(A){return this.join(" ")},Tt.prototype.inversed=function(){var A=this.sx,F=this.shy,re=this.shx,pe=this.sy,be=this.tx,Be=this.ty,Qe=1/(A*pe-F*re),ct=pe*Qe,pt=-F*Qe,Pt=-re*Qe,Nt=A*Qe;return new Tt(ct,pt,Pt,Nt,-ct*be-Pt*Be,-pt*be-Nt*Be)},Tt.prototype.applyToPoint=function(A){var F=A.x*this.sx+A.y*this.shx+this.tx,re=A.x*this.shy+A.y*this.sy+this.ty;return new ur(F,re)},Tt.prototype.applyToRectangle=function(A){var F=this.applyToPoint(A),re=this.applyToPoint(new ur(A.x+A.w,A.y+A.h));return new qs(F.x,F.y,re.x-F.x,re.y-F.y)},Tt.prototype.clone=function(){var A=this.sx,F=this.shy,re=this.shx,pe=this.sy,be=this.tx,Be=this.ty;return new Tt(A,F,re,pe,be,Be)},b.Matrix=Tt;var ca=b.matrixMult=function(A,F){return F.multiply(A)},Qr=new Tt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Qr;var Dr=function(A,F){if(!Ln[A]){var re=(F instanceof jc?"Sh":"P")+(Object.keys(xt).length+1).toString(10);F.id=re,Ln[A]=re,xt[re]=F,un.publish("addPattern",F)}};b.ShadingPattern=jc,b.TilingPattern=cf,b.addShadingPattern=function(A,F){return C("addShadingPattern()"),Dr(A,F),this},b.beginTilingPattern=function(A){C("beginTilingPattern()"),Hs(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},b.endTilingPattern=function(A,F){C("endTilingPattern()"),F.stream=$e[G].join(`
`),Dr(A,F),un.publish("endTilingPattern",F),Xi.pop().restore()};var Pr,Hn=b.__private__.newObject=function(){var A=ni();return Bi(A,!0),A},ni=b.__private__.newObjectDeferred=function(){return ce++,ge[ce]=function(){return xe},ce},Bi=function(A,F){return F=typeof F=="boolean"&&F,ge[A]=xe,F&&te(A+" 0 obj"),A},_r=b.__private__.newAdditionalObject=function(){var A={objId:ni(),content:""};return Me.push(A),A},or=ni(),On=ni(),Kn=b.__private__.decodeColorString=function(A){var F=A.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var re=parseFloat(F[0]);F=[re,re,re,"r"]}for(var pe="#",be=0;be<3;be++)pe+=("0"+Math.floor(255*parseFloat(F[be])).toString(16)).slice(-2);return pe},Ui=b.__private__.encodeColorString=function(A){var F;typeof A=="string"&&(A={ch1:A});var re=A.ch1,pe=A.ch2,be=A.ch3,Be=A.ch4,Qe=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var ct=new $T(re);if(ct.ok)re=ct.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var pt=parseInt(re.substr(1),16);re=pt>>16&255,pe=pt>>8&255,be=255&pt}if(pe===void 0||Be===void 0&&re===pe&&pe===be)F=typeof re=="string"?re+" "+Qe[0]:A.precision===2?I(re/255)+" "+Qe[0]:P(re/255)+" "+Qe[0];else if(Be===void 0||Jn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",Qe[1]].join(" ");F=typeof re=="string"?[re,pe,be,Qe[1]].join(" "):A.precision===2?[I(re/255),I(pe/255),I(be/255),Qe[1]].join(" "):[P(re/255),P(pe/255),P(be/255),Qe[1]].join(" ")}else F=typeof re=="string"?[re,pe,be,Be,Qe[2]].join(" "):A.precision===2?[I(re),I(pe),I(be),I(Be),Qe[2]].join(" "):[P(re),P(pe),P(be),P(Be),Qe[2]].join(" ");return F},Or=b.__private__.getFilters=function(){return u},fs=b.__private__.putStream=function(A){var F=(A=A||{}).data||"",re=A.filters||Or(),pe=A.alreadyAppliedFilters||[],be=A.addLength1||!1,Be=F.length,Qe=A.objectId,ct=function(T){return T};if(g!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(ct=ci.encryptor(Qe,0));var pt={};re===!0&&(re=["FlateEncode"]);var Pt=A.additionalKeyValues||[],Nt=(pt=St.API.processDataByFilters!==void 0?St.API.processDataByFilters(F,re):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(pt.data.length!==0&&(Pt.push({key:"Length",value:pt.data.length}),be===!0&&Pt.push({key:"Length1",value:Be})),Nt.length!=0)if(Nt.split("/").length-1==1)Pt.push({key:"Filter",value:Nt});else{Pt.push({key:"Filter",value:"["+Nt+"]"});for(var mn=0;mn<Pt.length;mn+=1)if(Pt[mn].key==="DecodeParms"){for(var ii=[],Gn=0;Gn<pt.reverseChain.split("/").length-1;Gn+=1)ii.push("null");ii.push(Pt[mn].value),Pt[mn].value="["+ii.join(" ")+"]"}}te("<<");for(var m=0;m<Pt.length;m++)te("/"+Pt[m].key+" "+Pt[m].value);te(">>"),pt.data.length!==0&&(te("stream"),te(ct(pt.data)),te("endstream"))},La=b.__private__.putPage=function(A){var F=A.number,re=A.data,pe=A.objId,be=A.contentsObjId;Bi(pe,!0),te("<</Type /Page"),te("/Parent "+A.rootDictionaryObjId+" 0 R"),te("/Resources "+A.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(D(A.mediaBox.bottomLeftX))+" "+parseFloat(D(A.mediaBox.bottomLeftY))+" "+D(A.mediaBox.topRightX)+" "+D(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&te("/CropBox ["+D(A.cropBox.bottomLeftX)+" "+D(A.cropBox.bottomLeftY)+" "+D(A.cropBox.topRightX)+" "+D(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&te("/BleedBox ["+D(A.bleedBox.bottomLeftX)+" "+D(A.bleedBox.bottomLeftY)+" "+D(A.bleedBox.topRightX)+" "+D(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&te("/TrimBox ["+D(A.trimBox.bottomLeftX)+" "+D(A.trimBox.bottomLeftY)+" "+D(A.trimBox.topRightX)+" "+D(A.trimBox.topRightY)+"]"),A.artBox!==null&&te("/ArtBox ["+D(A.artBox.bottomLeftX)+" "+D(A.artBox.bottomLeftY)+" "+D(A.artBox.topRightX)+" "+D(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&te("/UserUnit "+A.userUnit),un.publish("putPage",{objId:pe,pageContext:bt[F],pageNumber:F,page:re}),te("/Contents "+be+" 0 R"),te(">>"),te("endobj");var Be=re.join(`
`);return ne===Q&&(Be+=`
Q`),Bi(be,!0),fs({data:Be,filters:Or(),objectId:be}),te("endobj"),pe},Is=b.__private__.putPages=function(){var A,F,re=[];for(A=1;A<=Et;A++)bt[A].objId=ni(),bt[A].contentsObjId=ni();for(A=1;A<=Et;A++)re.push(La({number:A,data:$e[A],objId:bt[A].objId,contentsObjId:bt[A].contentsObjId,mediaBox:bt[A].mediaBox,cropBox:bt[A].cropBox,bleedBox:bt[A].bleedBox,trimBox:bt[A].trimBox,artBox:bt[A].artBox,userUnit:bt[A].userUnit,rootDictionaryObjId:or,resourceDictionaryObjId:On}));Bi(or,!0),te("<</Type /Pages");var pe="/Kids [";for(F=0;F<Et;F++)pe+=re[F]+" 0 R ";te(pe+"]"),te("/Count "+Et),te(">>"),te("endobj"),un.publish("postPutPages")},Mr=function(A){un.publish("putFont",{font:A,out:te,newObject:Hn,putStream:fs}),A.isAlreadyPutted!==!0&&(A.objectNumber=Hn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+lf(A.postScriptName)),te("/Subtype /Type1"),typeof A.encoding=="string"&&te("/Encoding /"+A.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},ha=function(A){A.objectNumber=Hn();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[D(A.x),D(A.y),D(A.x+A.width),D(A.y+A.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var re=A.pages[1].join(`
`);fs({data:re,additionalKeyValues:F,objectId:A.objectNumber}),te("endobj")},Xr=function(A,F){F||(F=21);var re=Hn(),pe=(function(Qe,ct){var pt,Pt=[],Nt=1/(ct-1);for(pt=0;pt<1;pt+=Nt)Pt.push(pt);if(Pt.push(1),Qe[0].offset!=0){var mn={offset:0,color:Qe[0].color};Qe.unshift(mn)}if(Qe[Qe.length-1].offset!=1){var ii={offset:1,color:Qe[Qe.length-1].color};Qe.push(ii)}for(var Gn="",m=0,T=0;T<Pt.length;T++){for(pt=Pt[T];pt>Qe[m+1].offset;)m++;var k=Qe[m].offset,W=(pt-k)/(Qe[m+1].offset-k),Ee=Qe[m].color,Pe=Qe[m+1].color;Gn+=ae(Math.round((1-W)*Ee[0]+W*Pe[0]).toString(16))+ae(Math.round((1-W)*Ee[1]+W*Pe[1]).toString(16))+ae(Math.round((1-W)*Ee[2]+W*Pe[2]).toString(16))}return Gn.trim()})(A.colors,F),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+F+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fs({data:pe,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),te("endobj"),A.objectNumber=Hn(),te("<< /ShadingType "+A.type),te("/ColorSpace /DeviceRGB");var Be="/Coords ["+D(parseFloat(A.coords[0]))+" "+D(parseFloat(A.coords[1]))+" ";A.type===2?Be+=D(parseFloat(A.coords[2]))+" "+D(parseFloat(A.coords[3])):Be+=D(parseFloat(A.coords[2]))+" "+D(parseFloat(A.coords[3]))+" "+D(parseFloat(A.coords[4]))+" "+D(parseFloat(A.coords[5])),te(Be+="]"),A.matrix&&te("/Matrix ["+A.matrix.toString()+"]"),te("/Function "+re+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},br=function(A,F){var re=ni(),pe=Hn();F.push({resourcesOid:re,objectOid:pe}),A.objectNumber=pe;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+A.boundingBox.map(D).join(" ")+"]"}),be.push({key:"XStep",value:D(A.xStep)}),be.push({key:"YStep",value:D(A.yStep)}),be.push({key:"Resources",value:re+" 0 R"}),A.matrix&&be.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),fs({data:A.stream,additionalKeyValues:be,objectId:A.objectNumber}),te("endobj")},Jr=function(A){for(var F in A.objectNumber=Hn(),te("<<"),A)switch(F){case"opacity":te("/ca "+I(A[F]));break;case"stroke-opacity":te("/CA "+I(A[F]))}te(">>"),te("endobj")},ds=function(A){Bi(A.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var F in te("/Font <<"),Rt)Rt.hasOwnProperty(F)&&(w===!1||w===!0&&E.hasOwnProperty(F))&&te("/"+F+" "+Rt[F].objectNumber+" 0 R");te(">>")})(),(function(){if(Object.keys(xt).length>0){for(var F in te("/Shading <<"),xt)xt.hasOwnProperty(F)&&xt[F]instanceof jc&&xt[F].objectNumber>=0&&te("/"+F+" "+xt[F].objectNumber+" 0 R");un.publish("putShadingPatternDict"),te(">>")}})(),(function(F){if(Object.keys(xt).length>0){for(var re in te("/Pattern <<"),xt)xt.hasOwnProperty(re)&&xt[re]instanceof b.TilingPattern&&xt[re].objectNumber>=0&&xt[re].objectNumber<F&&te("/"+re+" "+xt[re].objectNumber+" 0 R");un.publish("putTilingPatternDict"),te(">>")}})(A.objectOid),(function(){if(Object.keys(jt).length>0){var F;for(F in te("/ExtGState <<"),jt)jt.hasOwnProperty(F)&&jt[F].objectNumber>=0&&te("/"+F+" "+jt[F].objectNumber+" 0 R");un.publish("putGStateDict"),te(">>")}})(),(function(){for(var F in te("/XObject <<"),ar)ar.hasOwnProperty(F)&&ar[F].objectNumber>=0&&te("/"+F+" "+ar[F].objectNumber+" 0 R");un.publish("putXobjectDict"),te(">>")})(),te(">>"),te("endobj")},yi=function(A){Bt[A.fontName]=Bt[A.fontName]||{},Bt[A.fontName][A.fontStyle]=A.id},Po=function(A,F,re,pe,be){var Be={id:"F"+(Object.keys(Rt).length+1).toString(10),postScriptName:A,fontName:F,fontStyle:re,encoding:pe,isStandardFont:be||!1,metadata:{}};return un.publish("addFont",{font:Be,instance:this}),Rt[Be.id]=Be,yi(Be),Be.id},jr=b.__private__.pdfEscape=b.pdfEscape=function(A,F){return(function(re,pe){var be,Be,Qe,ct,pt,Pt,Nt,mn,ii;if(Qe=(pe=pe||{}).sourceEncoding||"Unicode",pt=pe.outputEncoding,(pe.autoencode||pt)&&Rt[vt].metadata&&Rt[vt].metadata[Qe]&&Rt[vt].metadata[Qe].encoding&&(ct=Rt[vt].metadata[Qe].encoding,!pt&&Rt[vt].encoding&&(pt=Rt[vt].encoding),!pt&&ct.codePages&&(pt=ct.codePages[0]),typeof pt=="string"&&(pt=ct[pt]),pt)){for(Nt=!1,Pt=[],be=0,Be=re.length;be<Be;be++)(mn=pt[re.charCodeAt(be)])?Pt.push(String.fromCharCode(mn)):Pt.push(re[be]),Pt[be].charCodeAt(0)>>8&&(Nt=!0);re=Pt.join("")}for(be=re.length;Nt===void 0&&be!==0;)re.charCodeAt(be-1)>>8&&(Nt=!0),be--;if(!Nt)return re;for(Pt=pe.noBOM?[]:[254,255],be=0,Be=re.length;be<Be;be++){if((ii=(mn=re.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(ii),Pt.push(mn-(ii<<8))}return String.fromCharCode.apply(void 0,Pt)})(A,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ps=b.__private__.beginPage=function(A){$e[++Et]=[],bt[Et]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Oo(Et),ht($e[G])},Cs=function(A,F){var re,pe,be;switch(t=F||t,typeof A=="string"&&(re=V(A.toLowerCase()),Array.isArray(re)&&(pe=re[0],be=re[1])),Array.isArray(A)&&(pe=A[0]*Gt,be=A[1]*Gt),isNaN(pe)&&(pe=s[0],be=s[1]),(pe>14400||be>14400)&&(pi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),be=Math.min(14400,be)),s=[pe,be],t.substr(0,1)){case"l":be>pe&&(s=[be,pe]);break;case"p":pe>be&&(s=[be,pe])}ps(s),kt(Fr),te(es),ns!==0&&te(ns+" J"),Pi!==0&&te(Pi+" j"),un.publish("addPage",{pageNumber:Et})},to=function(A){A>0&&A<=Et&&($e.splice(A,1),bt.splice(A,1),Et--,G>Et&&(G=Et),this.setPage(G))},Oo=function(A){A>0&&A<=Et&&(G=A)},Mo=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return $e.length-1},yl=function(A,F,re){var pe,be=void 0;return re=re||{},A=A!==void 0?A:Rt[vt].fontName,F=F!==void 0?F:Rt[vt].fontStyle,pe=A.toLowerCase(),Bt[pe]!==void 0&&Bt[pe][F]!==void 0?be=Bt[pe][F]:Bt[A]!==void 0&&Bt[A][F]!==void 0?be=Bt[A][F]:re.disableWarning===!1&&pi.warn("Unable to look up font label for font '"+A+"', '"+F+"'. Refer to getFontList() for available fonts."),be||re.noFallback||(be=Bt.times[F])==null&&(be=Bt.times.normal),be},Zr=b.__private__.putInfo=function(){var A=Hn(),F=function(pe){return pe};for(var re in g!==null&&(F=ci.encryptor(A,0)),te("<<"),te("/Producer ("+jr(F("jsPDF "+St.version))+")"),Jt)Jt.hasOwnProperty(re)&&Jt[re]&&te("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+jr(F(Jt[re]))+")");te("/CreationDate ("+jr(F(Te))+")"),te(">>"),te("endobj")},lr=b.__private__.putCatalog=function(A){var F=(A=A||{}).rootDictionaryObjId||or;switch(Hn(),te("<<"),te("/Type /Catalog"),te("/Pages "+F+" 0 R"),ot||(ot="fullwidth"),ot){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+ot;re.substr(re.length-1)==="%"&&(ot=parseInt(ot)/100),typeof ot=="number"&&te("/OpenAction [3 0 R /XYZ null null "+I(ot)+"]")}switch(nn||(nn="continuous"),nn){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}At&&te("/PageMode /"+At),un.publish("putCatalog"),te(">>"),te("endobj")},Ei=b.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(ce+1)),te("/Root "+ce+" 0 R"),te("/Info "+(ce-1)+" 0 R"),g!==null&&te("/Encrypt "+ci.oid+" 0 R"),te("/ID [ <"+le+"> <"+le+"> ]"),te(">>")},dn=b.__private__.putHeader=function(){te("%PDF-"+j),te("%")},fa=b.__private__.putXRef=function(){var A="0000000000";te("xref"),te("0 "+(ce+1)),te("0000000000 65535 f ");for(var F=1;F<=ce;F++)typeof ge[F]=="function"?te((A+ge[F]()).slice(-10)+" 00000 n "):ge[F]!==void 0?te((A+ge[F]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},ms=b.__private__.buildDocument=function(){var A;ce=0,xe=0,Re=[],ge=[],Me=[],or=ni(),On=ni(),ht(Re),un.publish("buildDocument"),dn(),Is(),(function(){un.publish("putAdditionalObjects");for(var re=0;re<Me.length;re++){var pe=Me[re];Bi(pe.objId,!0),te(pe.content),te("endobj")}un.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var re in Rt)Rt.hasOwnProperty(re)&&(w===!1||w===!0&&E.hasOwnProperty(re))&&Mr(Rt[re])})(),(function(){var re;for(re in jt)jt.hasOwnProperty(re)&&Jr(jt[re])})(),(function(){for(var re in ar)ar.hasOwnProperty(re)&&ha(ar[re])})(),(function(re){var pe;for(pe in xt)xt.hasOwnProperty(pe)&&(xt[pe]instanceof jc?Xr(xt[pe]):xt[pe]instanceof cf&&br(xt[pe],re))})(A),un.publish("putResources"),A.forEach(ds),ds({resourcesOid:On,objectOid:Number.MAX_SAFE_INTEGER}),un.publish("postPutResources"),g!==null&&(ci.oid=Hn(),te("<<"),te("/Filter /Standard"),te("/V "+ci.v),te("/R "+ci.r),te("/U <"+ci.toHexString(ci.U)+">"),te("/O <"+ci.toHexString(ci.O)+">"),te("/P "+ci.P),te(">>"),te("endobj")),Zr(),lr();var F=xe;return fa(),Ei(),te("startxref"),te(""+F),te("%%EOF"),ht($e[G]),Re.join(`
`)},bn=b.__private__.getBlob=function(A){return new Blob([Wt(A)],{type:"application/pdf"})},ka=b.output=b.__private__.output=(Pr=function(A,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",A){case void 0:return ms();case"save":b.save(F.filename);break;case"arraybuffer":return Wt(ms());case"blob":return bn(ms());case"bloburi":case"bloburl":if($t.URL!==void 0&&typeof $t.URL.createObjectURL=="function")return $t.URL&&$t.URL.createObjectURL(bn(ms()))||void 0;pi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",pe=ms();try{re=H4(pe)}catch{re=H4(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+F.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(be=F.pdfObjectUrl,Be="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",ct=$t.open();return ct!==null&&ct.document.write(Qe),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',Pt=$t.open();if(Pt!==null){Pt.document.write(pt);var Nt=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=F.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call($t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',ii=$t.open();if(ii!==null&&(ii.document.write(mn),ii.document.title=F.filename),ii||typeof safari>"u")return ii;break;case"datauri":case"dataurl":return $t.document.location.href=this.output("datauristring",F);default:return null}},Pr.foo=function(){try{return Pr.apply(this,arguments)}catch(re){var A=re.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var F="Error in function "+A.split(`
`)[0].split("<")[0]+": "+re.message;if(!$t.console)throw new Error(F);$t.console.error(F,re),$t.alert&&alert(F)}},Pr.foo.bar=Pr,Pr.foo),Di=function(A){return Array.isArray(vr)===!0&&vr.indexOf(A)>-1};switch(i){case"pt":Gt=1;break;case"mm":Gt=72/25.4;break;case"cm":Gt=72/2.54;break;case"in":Gt=72;break;case"px":Gt=Di("px_scaling")==1?.75:96/72;break;case"pc":case"em":Gt=12;break;case"ex":Gt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Gt=i}var ci=null;Z(),de();var Si=b.__private__.getPageInfo=b.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:bt[A].objId,pageNumber:A,pageContext:bt[A]}},no=b.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in bt)if(bt[F].objId===A)break;return Si(F)},su=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:bt[G].objId,pageNumber:G,pageContext:bt[G]}};b.addPage=function(){return Cs.apply(this,arguments),this},b.setPage=function(){return Oo.apply(this,arguments),ht.call(this,$e[G]),this},b.insertPage=function(A){return this.addPage(),this.movePage(G,A),this},b.movePage=function(A,F){var re,pe;if(A>F){re=$e[A],pe=bt[A];for(var be=A;be>F;be--)$e[be]=$e[be-1],bt[be]=bt[be-1];$e[F]=re,bt[F]=pe,this.setPage(F)}else if(A<F){re=$e[A],pe=bt[A];for(var Be=A;Be<F;Be++)$e[Be]=$e[Be+1],bt[Be]=bt[Be+1];$e[F]=re,bt[F]=pe,this.setPage(F)}return this},b.deletePage=function(){return to.apply(this,arguments),this},b.__private__.text=b.text=function(A,F,re,pe,be){var Be,Qe,ct,pt,Pt,Nt,mn,ii,Gn,m=(pe=pe||{}).scope||this;if(typeof A=="number"&&typeof F=="number"&&(typeof re=="string"||Array.isArray(re))){var T=re;re=F,F=A,A=T}if(arguments[3]instanceof Tt==0?(ct=arguments[4],pt=arguments[5],Jn(mn=arguments[3])==="object"&&mn!==null||(typeof ct=="string"&&(pt=ct,ct=null),typeof mn=="string"&&(pt=mn,mn=null),typeof mn=="number"&&(ct=mn,mn=null),pe={flags:mn,angle:ct,align:pt})):(C("The transform parameter of text() with a Matrix value"),Gn=be),isNaN(F)||isNaN(re)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return m;var k,W="",Ee=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:ma,Pe=m.internal.scaleFactor;function Ze(kn){return kn=kn.split("	").join(Array(pe.TabLen||9).join(" ")),jr(kn,mn)}function Ht(kn){for(var xn,si=kn.concat(),Mi=[],Ha=si.length;Ha--;)typeof(xn=si.shift())=="string"?Mi.push(xn):Array.isArray(kn)&&(xn.length===1||xn[1]===void 0&&xn[2]===void 0)?Mi.push(xn[0]):Mi.push([xn[0],xn[1],xn[2]]);return Mi}function ri(kn,xn){var si;if(typeof kn=="string")si=xn(kn)[0];else if(Array.isArray(kn)){for(var Mi,Ha,_a=kn.concat(),xl=[],dc=_a.length;dc--;)typeof(Mi=_a.shift())=="string"?xl.push(xn(Mi)[0]):Array.isArray(Mi)&&typeof Mi[0]=="string"&&(Ha=xn(Mi[0],Mi[1],Mi[2]),xl.push([Ha[0],Ha[1],Ha[2]]));si=xl}return si}var hn=!1,jn=!0;if(typeof A=="string")hn=!0;else if(Array.isArray(A)){var cr=A.concat();Qe=[];for(var Ar,$n=cr.length;$n--;)(typeof(Ar=cr.shift())!="string"||Array.isArray(Ar)&&typeof Ar[0]!="string")&&(jn=!1);hn=jn}if(hn===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Er=Ge/m.internal.scaleFactor,Ds=Er*(Ee-1);switch(pe.baseline){case"bottom":re-=Ds;break;case"top":re+=Er-Ds;break;case"hanging":re+=Er-2*Ds;break;case"middle":re+=Er/2-Ds}if((Nt=pe.maxWidth||0)>0&&(typeof A=="string"?A=m.splitTextToSize(A,Nt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(kn,xn){return kn.concat(m.splitTextToSize(xn,Nt))},[]))),Be={text:A,x:F,y:re,options:pe,mutex:{pdfEscape:jr,activeFontKey:vt,fonts:Rt,activeFontSize:Ge}},un.publish("preProcessText",Be),A=Be.text,ct=(pe=Be.options).angle,Gn instanceof Tt==0&&ct&&typeof ct=="number"){ct*=Math.PI/180,pe.rotationDirection===0&&(ct=-ct),ne===Q&&(ct=-ct);var ja=Math.cos(ct),Va=Math.sin(ct);Gn=new Tt(ja,Va,-Va,ja,0,0)}else ct&&ct instanceof Tt&&(Gn=ct);ne!==Q||Gn||(Gn=Qr),(Pt=pe.charSpace||ts)!==void 0&&(W+=D(O(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ii=pe.horizontalScale)!==void 0&&(W+=D(100*ii)+` Tz
`),pe.lang;var rs=-1,oo=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,au=m.internal.getCurrentPageInfo().pageContext;switch(oo){case 0:case!1:case"fill":rs=0;break;case 1:case!0:case"stroke":rs=1;break;case 2:case"fillThenStroke":rs=2;break;case 3:case"invisible":rs=3;break;case 4:case"fillAndAddForClipping":rs=4;break;case 5:case"strokeAndAddPathForClipping":rs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":rs=6;break;case 7:case"addToPathForClipping":rs=7}var hc=au.usedRenderingMode!==void 0?au.usedRenderingMode:-1;rs!==-1?W+=rs+` Tr
`:hc!==-1&&(W+=`0 Tr
`),rs!==-1&&(au.usedRenderingMode=rs),pt=pe.align||"left";var Ps,ya=Ge*Ee,lo=m.internal.pageSize.getWidth(),fc=Rt[vt];Pt=pe.charSpace||ts,Nt=pe.maxWidth||0,mn=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var va=[],zo=function(kn){return m.getStringUnitWidth(kn,{font:fc,charSpace:Pt,fontSize:Ge,doKerning:!1})*Ge/Pe};if(Object.prototype.toString.call(A)==="[object Array]"){var ys;Qe=Ht(A),pt!=="left"&&(Ps=Qe.map(zo));var ss,Fa=0;if(pt==="right"){F-=Ps[0],A=[],$n=Qe.length;for(var Ba=0;Ba<$n;Ba++)Ba===0?(ss=Zi(F),ys=zi(re)):(ss=O(Fa-Ps[Ba]),ys=-ya),A.push([Qe[Ba],ss,ys]),Fa=Ps[Ba]}else if(pt==="center"){F-=Ps[0]/2,A=[],$n=Qe.length;for(var uo=0;uo<$n;uo++)uo===0?(ss=Zi(F),ys=zi(re)):(ss=O((Fa-Ps[uo])/2),ys=-ya),A.push([Qe[uo],ss,ys]),Fa=Ps[uo]}else if(pt==="left"){A=[],$n=Qe.length;for(var ou=0;ou<$n;ou++)A.push(Qe[ou])}else if(pt==="justify"&&fc.encoding==="Identity-H"){A=[],$n=Qe.length,Nt=Nt!==0?Nt:lo;for(var lu=0,Oi=0;Oi<$n;Oi++)if(ys=Oi===0?zi(re):-ya,ss=Oi===0?Zi(F):lu,Oi<$n-1){var fh=O((Nt-Ps[Oi])/(Qe[Oi].split(" ").length-1)),Ua=Qe[Oi].split(" ");A.push([Ua[0]+" ",ss,ys]),lu=0;for(var za=1;za<Ua.length;za++){var Sr=(zo(Ua[za-1]+" "+Ua[za])-zo(Ua[za]))*Pe+fh;za==Ua.length-1?A.push([Ua[za],Sr,0]):A.push([Ua[za]+" ",Sr,0]),lu-=Sr}}else A.push([Qe[Oi],ss,ys]);A.push(["",lu,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],$n=Qe.length,Nt=Nt!==0?Nt:lo,Oi=0;Oi<$n;Oi++){ys=Oi===0?zi(re):-ya,ss=Oi===0?Zi(F):0;var co=Qe[Oi].split(" ").length-1,uu=co>0?(Nt-Ps[Oi])/co:0;Oi<$n-1?va.push(D(O(uu))):va.push(0),A.push([Qe[Oi],ss,ys])}}}(typeof pe.R2L=="boolean"?pe.R2L:Lt)===!0&&(A=ri(A,function(kn,xn,si){return[kn.split("").reverse().join(""),xn,si]})),Be={text:A,x:F,y:re,options:pe,mutex:{pdfEscape:jr,activeFontKey:vt,fonts:Rt,activeFontSize:Ge}},un.publish("postProcessText",Be),A=Be.text,k=Be.mutex.isHex||!1;var cu=Rt[vt].encoding;cu!=="WinAnsiEncoding"&&cu!=="StandardEncoding"||(A=ri(A,function(kn,xn,si){return[Ze(kn),xn,si]})),Qe=Ht(A),A=[];for(var ho,fo,qa,Sl=Array.isArray(Qe[0])?1:0,Os="",po=function(kn,xn,si){var Mi="";return si instanceof Tt?(si=typeof pe.angle=="number"?ca(si,new Tt(1,0,0,1,kn,xn)):ca(new Tt(1,0,0,1,kn,xn),si),ne===Q&&(si=ca(new Tt(1,0,0,-1,0,0),si)),Mi=si.join(" ")+` Tm
`):Mi=D(kn)+" "+D(xn)+` Td
`,Mi},Br=0;Br<Qe.length;Br++){switch(Os="",Sl){case 1:qa=(k?"<":"(")+Qe[Br][0]+(k?">":")"),ho=parseFloat(Qe[Br][1]),fo=parseFloat(Qe[Br][2]);break;case 0:qa=(k?"<":"(")+Qe[Br]+(k?">":")"),ho=Zi(F),fo=zi(re)}va!==void 0&&va[Br]!==void 0&&(Os=va[Br]+` Tw
`),Br===0?A.push(Os+po(ho,fo,Gn)+qa):Sl===0?A.push(Os+qa):Sl===1&&A.push(Os+po(ho,fo,Gn)+qa)}A=Sl===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var $s=`BT
/`;return $s+=vt+" "+Ge+` Tf
`,$s+=D(Ge*Ee)+` TL
`,$s+=Ls+`
`,$s+=W,$s+=A,te($s+="ET"),E[vt]=!0,m};var vl=b.__private__.clip=b.clip=function(A){return te(A==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return vl("evenodd")},b.__private__.discardPath=b.discardPath=function(){return te("n"),this};var wr=b.__private__.isValidStyle=function(A){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(F=!0),F};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(A){return wr(A)&&(d=A),this};var _l=b.__private__.getStyle=b.getStyle=function(A){var F=d;switch(A){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=A}return F},da=b.close=function(){return te("h"),this};b.stroke=function(){return te("S"),this},b.fill=function(A){return Ji("f",A),this},b.fillEvenOdd=function(A){return Ji("f*",A),this},b.fillStroke=function(A){return Ji("B",A),this},b.fillStrokeEvenOdd=function(A){return Ji("B*",A),this};var Ji=function(A,F){Jn(F)==="object"?wl(F,A):te(A)},Da=function(A){A===null||ne===Q&&A===void 0||(A=_l(A),te(A))};function bl(A,F,re,pe,be){var Be=new cf(F||this.boundingBox,re||this.xStep,pe||this.yStep,this.gState,be||this.matrix);Be.stream=this.stream;var Qe=A+"$$"+this.cloneIndex+++"$$";return Dr(Qe,Be),Be}var wl=function(A,F){var re=Ln[A.key],pe=xt[re];if(pe instanceof jc)te("q"),te(jo(F)),pe.gState&&b.setGState(pe.gState),te(A.matrix.toString()+" cm"),te("/"+re+" sh"),te("Q");else if(pe instanceof cf){var be=new Tt(1,0,0,-1,0,ks());A.matrix&&(be=be.multiply(A.matrix||Qr),re=bl.call(pe,A.key,A.boundingBox,A.xStep,A.yStep,be).id),te("q"),te("/Pattern cs"),te("/"+re+" scn"),pe.gState&&b.setGState(pe.gState),te(F),te("Q")}},jo=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vo=b.moveTo=function(A,F){return te(D(O(A))+" "+D(ue(F))+" m"),this},pa=b.lineTo=function(A,F){return te(D(O(A))+" "+D(ue(F))+" l"),this},Vr=b.curveTo=function(A,F,re,pe,be,Be){return te([D(O(A)),D(ue(F)),D(O(re)),D(ue(pe)),D(O(be)),D(ue(Be)),"c"].join(" ")),this};b.__private__.line=b.line=function(A,F,re,pe,be){if(isNaN(A)||isNaN(F)||isNaN(re)||isNaN(pe)||!wr(be))throw new Error("Invalid arguments passed to jsPDF.line");return ne===ee?this.lines([[re-A,pe-F]],A,F,[1,1],be||"S"):this.lines([[re-A,pe-F]],A,F,[1,1]).stroke()},b.__private__.lines=b.lines=function(A,F,re,pe,be,Be){var Qe,ct,pt,Pt,Nt,mn,ii,Gn,m,T,k,W;if(typeof A=="number"&&(W=re,re=F,F=A,A=W),pe=pe||[1,1],Be=Be||!1,isNaN(F)||isNaN(re)||!Array.isArray(A)||!Array.isArray(pe)||!wr(be)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vo(F,re),Qe=pe[0],ct=pe[1],Pt=A.length,T=F,k=re,pt=0;pt<Pt;pt++)(Nt=A[pt]).length===2?(T=Nt[0]*Qe+T,k=Nt[1]*ct+k,pa(T,k)):(mn=Nt[0]*Qe+T,ii=Nt[1]*ct+k,Gn=Nt[2]*Qe+T,m=Nt[3]*ct+k,T=Nt[4]*Qe+T,k=Nt[5]*ct+k,Vr(mn,ii,Gn,m,T,k));return Be&&da(),Da(be),this},b.path=function(A){for(var F=0;F<A.length;F++){var re=A[F],pe=re.c;switch(re.op){case"m":Vo(pe[0],pe[1]);break;case"l":pa(pe[0],pe[1]);break;case"c":Vr.apply(this,pe);break;case"h":da()}}return this},b.__private__.rect=b.rect=function(A,F,re,pe,be){if(isNaN(A)||isNaN(F)||isNaN(re)||isNaN(pe)||!wr(be))throw new Error("Invalid arguments passed to jsPDF.rect");return ne===ee&&(pe=-pe),te([D(O(A)),D(ue(F)),D(O(re)),D(O(pe)),"re"].join(" ")),Da(be),this},b.__private__.triangle=b.triangle=function(A,F,re,pe,be,Be,Qe){if(isNaN(A)||isNaN(F)||isNaN(re)||isNaN(pe)||isNaN(be)||isNaN(Be)||!wr(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-A,pe-F],[be-re,Be-pe],[A-be,F-Be]],A,F,[1,1],Qe,!0),this},b.__private__.roundedRect=b.roundedRect=function(A,F,re,pe,be,Be,Qe){if(isNaN(A)||isNaN(F)||isNaN(re)||isNaN(pe)||isNaN(be)||isNaN(Be)||!wr(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*re),Be=Math.min(Be,.5*pe),this.lines([[re-2*be,0],[be*ct,0,be,Be-Be*ct,be,Be],[0,pe-2*Be],[0,Be*ct,-be*ct,Be,-be,Be],[2*be-re,0],[-be*ct,0,-be,-Be*ct,-be,-Be],[0,2*Be-pe],[0,-Be*ct,be*ct,-Be,be,-Be]],A+be,F,[1,1],Qe,!0),this},b.__private__.ellipse=b.ellipse=function(A,F,re,pe,be){if(isNaN(A)||isNaN(F)||isNaN(re)||isNaN(pe)||!wr(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*re,Qe=4/3*(Math.SQRT2-1)*pe;return Vo(A+re,F),Vr(A+re,F-Qe,A+Be,F-pe,A,F-pe),Vr(A-Be,F-pe,A-re,F-Qe,A-re,F),Vr(A-re,F+Qe,A-Be,F+pe,A,F+pe),Vr(A+Be,F+pe,A+re,F+Qe,A+re,F),Da(be),this},b.__private__.circle=b.circle=function(A,F,re,pe){if(isNaN(A)||isNaN(F)||isNaN(re)||!wr(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,F,re,re,pe)},b.setFont=function(A,F,re){return re&&(F=z(F,re)),vt=yl(A,F,{disableWarning:!1}),this};var Rs=b.__private__.getFont=b.getFont=function(){return Rt[yl.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var A,F,re={};for(A in Bt)if(Bt.hasOwnProperty(A))for(F in re[A]=[],Bt[A])Bt[A].hasOwnProperty(F)&&re[A].push(F);return re},b.addFont=function(A,F,re,pe,be){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(re=z(re,pe)),Po.call(this,A,F,re,be=be||"Identity-H")};var ma,Fr=n.lineWidth||.200025,Pa=b.__private__.getLineWidth=b.getLineWidth=function(){return Fr},kt=b.__private__.setLineWidth=b.setLineWidth=function(A){return Fr=A,te(D(O(A))+" w"),this};b.__private__.setLineDash=St.API.setLineDash=St.API.setLineDashPattern=function(A,F){if(A=A||[],F=F||0,isNaN(F)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(re){return D(O(re))}).join(" "),F=D(O(F)),te("["+A+"] "+F+" d"),this};var io=b.__private__.getLineHeight=b.getLineHeight=function(){return Ge*ma};b.__private__.getLineHeight=b.getLineHeight=function(){return Ge*ma};var Fo=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(ma=A),this},Oa=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return ma};Fo(n.lineHeight);var Zi=b.__private__.getHorizontalCoordinate=function(A){return O(A)},zi=b.__private__.getVerticalCoordinate=function(A){return ne===Q?A:bt[G].mediaBox.topRightY-bt[G].mediaBox.bottomLeftY-O(A)},ro=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(A){return D(Zi(A))},Mn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(A){return D(zi(A))},es=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Kn(es)},b.__private__.setStrokeColor=b.setDrawColor=function(A,F,re,pe){return es=Ui({ch1:A,ch2:F,ch3:re,ch4:pe,pdfColorType:"draw",precision:2}),te(es),this};var so=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Kn(so)},b.__private__.setFillColor=b.setFillColor=function(A,F,re,pe){return so=Ui({ch1:A,ch2:F,ch3:re,ch4:pe,pdfColorType:"fill",precision:2}),te(so),this};var Ls=n.textColor||"0 g",Al=b.__private__.getTextColor=b.getTextColor=function(){return Kn(Ls)};b.__private__.setTextColor=b.setTextColor=function(A,F,re,pe){return Ls=Ui({ch1:A,ch2:F,ch3:re,ch4:pe,pdfColorType:"text",precision:3}),this};var ts=n.charSpace,ga=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(ts||0)};b.__private__.setCharSpace=b.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ts=A,this};var ns=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(A){var F=b.CapJoinStyles[A];if(F===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ns=F,te(F+" J"),this};var Pi=0;b.__private__.setLineJoin=b.setLineJoin=function(A){var F=b.CapJoinStyles[A];if(F===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pi=F,te(F+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(D(O(A))+" M"),this},b.GState=Qg,b.setGState=function(A){(A=typeof A=="string"?jt[Vt[A]]:zs(null,A)).equals(Pn)||(te("/"+A.id+" gs"),Pn=A)};var zs=function(A,F){if(!A||!Vt[A]){var re=!1;for(var pe in jt)if(jt.hasOwnProperty(pe)&&jt[pe].equals(F)){re=!0;break}if(re)F=jt[pe];else{var be="GS"+(Object.keys(jt).length+1).toString(10);jt[be]=F,F.id=be}return A&&(Vt[A]=F.id),un.publish("addGState",F),F}};b.addGState=function(A,F){return zs(A,F),this},b.saveGraphicsState=function(){return te("q"),Xt.push({key:vt,size:Ge,color:Ls}),this},b.restoreGraphicsState=function(){te("Q");var A=Xt.pop();return vt=A.key,Ge=A.size,Ls=A.color,Pn=null,this},b.setCurrentTransformationMatrix=function(A){return te(A.toString()+" cm"),this},b.comment=function(A){return te("#"+A),this};var ur=function(A,F){var re=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Be){isNaN(Be)||(re=parseFloat(Be))}});var pe=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Be){isNaN(Be)||(pe=parseFloat(Be))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Be){be=Be.toString()}}),this},qs=function(A,F,re,pe){ur.call(this,A,F),this.type="rect";var be=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(Qe){isNaN(Qe)||(be=parseFloat(Qe))}});var Be=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Qe){isNaN(Qe)||(Be=parseFloat(Qe))}}),this},Ma=function(){this.page=Et,this.currentPage=G,this.pages=$e.slice(0),this.pagesContext=bt.slice(0),this.x=_t,this.y=mi,this.matrix=Zt,this.width=gs(G),this.height=Bo(G),this.outputDestination=rt,this.id="",this.objectNumber=-1};Ma.prototype.restore=function(){Et=this.page,G=this.currentPage,bt=this.pagesContext,$e=this.pages,_t=this.x,mi=this.y,Zt=this.matrix,ao(G,this.width),is(G,this.height),rt=this.outputDestination};var Hs=function(A,F,re,pe,be){Xi.push(new Ma),Et=G=0,$e=[],_t=A,mi=F,Zt=be,ps([re,pe])};for(var Gs in b.beginFormObject=function(A,F,re,pe,be){return Hs(A,F,re,pe,be),this},b.endFormObject=function(A){return(function(F){if(Us[F])Xi.pop().restore();else{var re=new Ma,pe="Xo"+(Object.keys(ar).length+1).toString(10);re.id=pe,Us[F]=pe,ar[pe]=re,un.publish("addFormObject",re),Xi.pop().restore()}})(A),this},b.doFormObject=function(A,F){var re=ar[Us[A]];return te("q"),te(F.toString()+" cm"),te("/"+re.id+" Do"),te("Q"),this},b.getFormObject=function(A){var F=ar[Us[A]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},b.save=function(A,F){return A=A||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(kc(bn(ms()),A),typeof kc.unload=="function"&&$t.setTimeout&&setTimeout(kc.unload,911),this):new Promise(function(re,pe){try{var be=kc(bn(ms()),A);typeof kc.unload=="function"&&$t.setTimeout&&setTimeout(kc.unload,911),re(be)}catch(Be){pe(Be.message)}})},St.API)St.API.hasOwnProperty(Gs)&&(Gs==="events"&&St.API.events.length?(function(A,F){var re,pe,be;for(be=F.length-1;be!==-1;be--)re=F[be][0],pe=F[be][1],A.subscribe.apply(A,[re].concat(typeof pe=="function"?[pe]:pe))})(un,St.API.events):b[Gs]=St.API[Gs]);function gs(A){return bt[A].mediaBox.topRightX-bt[A].mediaBox.bottomLeftX}function ao(A,F){bt[A].mediaBox.topRightX=F+bt[A].mediaBox.bottomLeftX}function Bo(A){return bt[A].mediaBox.topRightY-bt[A].mediaBox.bottomLeftY}function is(A,F){bt[A].mediaBox.topRightY=F+bt[A].mediaBox.bottomLeftY}var Ks=b.getPageWidth=function(A){return gs(A=A||G)/Gt},El=b.setPageWidth=function(A,F){ao(A,F*Gt)},ks=b.getPageHeight=function(A){return Bo(A=A||G)/Gt},Uo=b.setPageHeight=function(A,F){is(A,F*Gt)};return b.internal={pdfEscape:jr,getStyle:_l,getFont:Rs,getFontSize:at,getCharSpace:ga,getTextColor:Al,getLineHeight:io,getLineHeightFactor:Oa,getLineWidth:Pa,write:it,getHorizontalCoordinate:Zi,getVerticalCoordinate:zi,getCoordinateString:ro,getVerticalCoordinateString:Mn,collections:{},newObject:Hn,newAdditionalObject:_r,newObjectDeferred:ni,newObjectDeferredBegin:Bi,getFilters:Or,putStream:fs,events:un,scaleFactor:Gt,pageSize:{getWidth:function(){return Ks(G)},setWidth:function(A){El(G,A)},getHeight:function(){return ks(G)},setHeight:function(A){Uo(G,A)}},encryptionOptions:g,encryption:ci,getEncryptor:function(A){return g!==null?ci.encryptor(A,0):function(F){return F}},output:ka,getNumberOfPages:Mo,get pages(){return $e},out:te,f2:I,f3:P,getPageInfo:Si,getPageInfoByObjId:no,getCurrentPageInfo:su,getPDFVersion:M,Point:ur,Rectangle:qs,Matrix:Tt,hasHotfix:Di},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ks(G)},set:function(A){El(G,A)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return ks(G)},set:function(A){Uo(G,A)},enumerable:!0,configurable:!0}),(function(A){for(var F=0,re=Ct.length;F<re;F++){var pe=Po.call(this,A[F][0],A[F][1],A[F][2],Ct[F][3],!0);w===!1&&(E[pe]=!0);var be=A[F][0].split("-");yi({id:pe,fontName:be[0],fontStyle:be[1]||""})}un.publish("addFonts",{fonts:Rt,dictionary:Bt})}).call(b,Ct),vt="F1",Cs(s,t),un.publish("initialized"),b}of.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},of.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},of.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},of.prototype.processOwnerPassword=function(n,e){return jy(My(e).substr(0,5),n)},of.prototype.encryptor=function(n,e){var t=My(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return jy(t,i)}},Qg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Jn(n)!==Jn(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},St.API={events:[]},St.version="4.1.0";var Wi=St.API,l5=1,hh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xg=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},an=function(n){return n.toFixed(2)},Fu=function(n){return n.toFixed(5)};Wi.__acroform__={};var ua=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Y4=function(n){return n*l5},il=function(n){var e=new XT,t=gt.internal.getHeight(n)||0,i=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(an(i)),Number(an(t))],e},Ij=Wi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Cj=Wi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Rj=Wi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},nr=Wi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Rj(n,e-1)},ir=Wi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ij(n,e-1)},rr=Wi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Cj(n,e-1)},Lj=Wi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,s=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=i(o+c)||0,f.upperRight_X=t(s+u)||0,f.upperRight_Y=i(o)||0,[Number(an(f.lowerLeft_X)),Number(an(f.lowerLeft_Y)),Number(an(f.upperRight_X)),Number(an(f.upperRight_Y))]},kj=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=Vy(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+an(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=il(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Vy=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var o=t,u=gt.internal.getHeight(n)||0;u=u<0?-u:u;var c=gt.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(I,P,O){if(I+1<s.length){var ue=P+" "+s[I+1][0];return Wm(ue,n,O).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,g,w=Wm("3",n,o).height,E=n.multiline?u-o:(u-w)/2,b=E+=2,j=0,M=0,U=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Wm(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var V="",ee=0,Q=0;Q<s.length;Q++)if(s.hasOwnProperty(Q)){var ne=!1;if(s[Q].length!==1&&U!==s[Q].length-1){if((w+2)*(ee+2)+2>u)continue e;V+=s[Q][U],ne=!0,M=Q,Q--}else{V=(V+=s[Q][U]+" ").substr(V.length-1)==" "?V.substr(0,V.length-1):V;var me=parseInt(Q),fe=f(me,V,o),z=Q>=s.length-1;if(fe&&!z){V+=" ",U=0;continue}if(fe||z){if(z)M=me;else if(n.multiline&&(w+2)*(ee+2)+2>u)continue e}else{if(!n.multiline||(w+2)*(ee+2)+2>u)continue e;M=me}}for(var D="",C=j;C<=M;C++){var q=s[C];if(n.multiline){if(C===M){D+=q[U]+" ",U=(U+1)%q.length;continue}if(C===j){D+=q[q.length-1]+" ";continue}}D+=q[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,g=Wm(D,n,o).width,n.textAlign){case"right":d=c-g-2;break;case"center":d=(c-g)/2;break;default:d=2}e+=an(d)+" "+an(b)+` Td
`,e+="("+hh(D)+`) Tj
`,e+=-an(d)+` 0 Td
`,b=-(o+2),g=0,j=ne?M:M+1,ee++,V=""}break}return i.text=e,i.fontSize=o,i},Wm=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},Dj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Pj=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Oj=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ko.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Dj)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");l5=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new JT,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];o.objId=void 0,o.hasAnnotation&&Pj(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,s){var o=!i;for(var u in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(u)){var c=i[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=Lj(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=gt.createDefaultAppearanceStream(c),Jn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=kj(c);f.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var w="";for(var E in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(E)){var b=c.appearanceStreamContent[E];if(w+="/"+E+" ",w+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var j=b[u];typeof j=="function"&&(j=j.call(s,c)),w+="/"+u+" "+j+" ",s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j)}}else typeof(j=b)=="function"&&(j=j.call(s,c)),w+="/"+u+" "+j,s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:c.objId}),s.internal.out("endobj")}o&&(function(M,U){for(var V in M)if(M.hasOwnProperty(V)){var ee=V,Q=M[V];U.internal.newObjectDeferredBegin(Q.objId,!0),Jn(Q)==="object"&&typeof Q.putStream=="function"&&Q.putStream(),delete M[ee]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},QT=Wi.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(u){return u};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Jn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?s+="/"+Xg(n[o].substr(1)):(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),s+="("+hh(i(n[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},B2=function(n,e,t){var i=function(s){return s};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+hh(i(n))+")"},ll=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ll.prototype.toString=function(){return this.objId+" 0 R"},ll.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ll.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],s=this[i];s&&(Array.isArray(s)?n.push({key:i,value:QT(s,this.objId,this.scope)}):s instanceof ll?(s.scope=this.scope,n.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:i,value:s}))}return n};var XT=function(){ll.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ua(XT,ll);var JT=function(){ll.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+hh(t(n))+")"}},set:function(t){n=t}})};ua(JT,ll);var ko=function n(){ll.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute F supplied.');e=V}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nr(e,3)},set:function(V){V?this.F=ir(e,3):this.F=rr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute Ff supplied.');t=V}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(V){i=V!==void 0?V:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(V){i[0]=V}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(V){i[1]=V}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(V){i[2]=V}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(V){i[3]=V}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(V){switch(V){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=V;break;default:throw new Error('Invalid value "'+V+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Jg)return;o="FieldObject"+n.FieldNum++}var V=function(ee){return ee};return this.scope&&(V=this.scope.internal.getEncryptor(this.objId)),"("+hh(V(o))+")"},set:function(V){o=V.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(V){o=V}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(V){u=V}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(V){c=V}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(V){f=V}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/l5:d},set:function(V){d=V}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(V){g=V}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof Jg||this instanceof Kc))return B2(w,this.objId,this.scope)},set:function(V){V=V.toString(),w=V}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof Yr==0?B2(E,this.objId,this.scope):E},set:function(V){V=V.toString(),E=this instanceof Yr==0?V.substr(0,1)==="("?Zh(V.substr(1,V.length-2)):Zh(V):V}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yr==1?Zh(E.substr(1,E.length-1)):E},set:function(V){V=V.toString(),E=this instanceof Yr==1?"/"+Xg(V):V}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(V){this.V=V}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Yr==0?B2(b,this.objId,this.scope):b},set:function(V){V=V.toString(),b=this instanceof Yr==0?V.substr(0,1)==="("?Zh(V.substr(1,V.length-2)):Zh(V):V}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yr==1?Zh(b.substr(1,b.length-1)):b},set:function(V){V=V.toString(),b=this instanceof Yr==1?"/"+Xg(V):V}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(V){V=!!V,M=V}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(V){j=V}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,1)},set:function(V){V?this.Ff=ir(this.Ff,1):this.Ff=rr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,2)},set:function(V){V?this.Ff=ir(this.Ff,2):this.Ff=rr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,3)},set:function(V){V?this.Ff=ir(this.Ff,3):this.Ff=rr(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(V){if([0,1,2].indexOf(V)===-1)throw new Error('Invalid value "'+V+'" for attribute Q supplied.');U=V}}),Object.defineProperty(this,"textAlign",{get:function(){var V;switch(U){case 0:default:V="left";break;case 1:V="center";break;case 2:V="right"}return V},configurable:!0,enumerable:!0,set:function(V){switch(V){case"right":case 2:U=2;break;case"center":case 1:U=1;break;default:U=0}}})};ua(ko,ll);var _f=function(){ko.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return QT(e,this.objId,this.scope)},set:function(t){var i,s;s=[],typeof(i=t)=="string"&&(s=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(i,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,18)},set:function(t){t?this.Ff=ir(this.Ff,18):this.Ff=rr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ir(this.Ff,19):this.Ff=rr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,20)},set:function(t){t?(this.Ff=ir(this.Ff,20),e.sort()):this.Ff=rr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,22)},set:function(t){t?this.Ff=ir(this.Ff,22):this.Ff=rr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(t){t?this.Ff=ir(this.Ff,23):this.Ff=rr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,27)},set:function(t){t?this.Ff=ir(this.Ff,27):this.Ff=rr(this.Ff,27)}}),this.hasAppearanceStream=!1};ua(_f,ko);var bf=function(){_f.call(this),this.fontName="helvetica",this.combo=!1};ua(bf,_f);var wf=function(){bf.call(this),this.combo=!0};ua(wf,bf);var yg=function(){wf.call(this),this.edit=!0};ua(yg,wf);var Yr=function(){ko.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,15)},set:function(t){t?this.Ff=ir(this.Ff,15):this.Ff=rr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,16)},set:function(t){t?this.Ff=ir(this.Ff,16):this.Ff=rr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,17)},set:function(t){t?this.Ff=ir(this.Ff,17):this.Ff=rr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(t){t?this.Ff=ir(this.Ff,26):this.Ff=rr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,s=[];for(i in s.push("<<"),e)s.push("/"+i+" ("+hh(t(e[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Jn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+Xg(t)}})};ua(Yr,ko);var vg=function(){Yr.call(this),this.pushButton=!0};ua(vg,Yr);var Af=function(){Yr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};ua(Af,Yr);var Jg=function(){var n,e;ko.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),i)u.push("/"+o+" ("+hh(s(i[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){Jn(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ua(Jg,ko),Af.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Af.prototype.createOption=function(n){var e=new Jg;return e.Parent=this,e.optionName=n,this.Kids.push(e),Mj.call(this.scope,e),e};var _g=function(){Yr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};ua(_g,Yr);var Kc=function(){ko.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,13)},set:function(e){e?this.Ff=ir(this.Ff,13):this.Ff=rr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,21)},set:function(e){e?this.Ff=ir(this.Ff,21):this.Ff=rr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(e){e?this.Ff=ir(this.Ff,23):this.Ff=rr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,24)},set:function(e){e?this.Ff=ir(this.Ff,24):this.Ff=rr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,25)},set:function(e){e?this.Ff=ir(this.Ff,25):this.Ff=rr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(e){e?this.Ff=ir(this.Ff,26):this.Ff=rr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ua(Kc,ko);var bg=function(){Kc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,14)},set:function(n){n?this.Ff=ir(this.Ff,14):this.Ff=rr(this.Ff,14)}}),this.password=!0};ua(bg,Kc);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=il(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=Vy(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+an(gt.internal.getWidth(n))+" "+an(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+an(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=il(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=[],o=gt.internal.getHeight(n),u=gt.internal.getWidth(n),c=Vy(n,n.caption);return s.push("1 g"),s.push("0 0 "+an(u)+" "+an(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+an(u-1)+" "+an(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+an(c.fontSize)+" Tf "+i),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=il(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(gt.internal.getWidth(n))+" "+an(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=il(n);e.scope=n.scope;var t=[],i=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=gt.internal.Bezier_C,o=Number((i*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Fu(gt.internal.getWidth(n)/2)+" "+Fu(gt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=il(n);e.scope=n.scope;var t=[],i=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5)),u=Number((i*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Fu(gt.internal.getWidth(n)/2)+" "+Fu(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Fu(gt.internal.getWidth(n)/2)+" "+Fu(gt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+u+" "+u+" "+i+" 0 "+i+" c"),t.push("-"+u+" "+i+" -"+i+" "+u+" -"+i+" 0 c"),t.push("-"+i+" -"+u+" -"+u+" -"+i+" 0 -"+i+" c"),t.push(u+" -"+i+" "+i+" -"+u+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=il(n);e.scope=n.scope;var t=[],i=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Fu(gt.internal.getWidth(n)/2)+" "+Fu(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=il(n);e.scope=n.scope;var t=[],i=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+an(gt.internal.getWidth(n)-2)+" "+an(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(an(i.x1.x)+" "+an(i.x1.y)+" m"),t.push(an(i.x2.x)+" "+an(i.x2.y)+" l"),t.push(an(i.x4.x)+" "+an(i.x4.y)+" m"),t.push(an(i.x3.x)+" "+an(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=il(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+an(gt.internal.getWidth(n))+" "+an(gt.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+an(gt.internal.getWidth(n)-2)+" "+an(gt.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(an(t.x1.x)+" "+an(t.x1.y)+" m"),i.push(an(t.x2.x)+" "+an(t.x2.y)+" l"),i.push(an(t.x4.x)+" "+an(t.x4.y)+" m"),i.push(an(t.x3.x)+" "+an(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=il(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(gt.internal.getWidth(n))+" "+an(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},gt.internal.getWidth=function(n){var e=0;return Jn(n)==="object"&&(e=Y4(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return Jn(n)==="object"&&(e=Y4(n.Rect[3])),e};var Mj=Wi.addField=function(n){if(Oj(this,n),!(n instanceof ko))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Wi.AcroFormChoiceField=_f,Wi.AcroFormListBox=bf,Wi.AcroFormComboBox=wf,Wi.AcroFormEditBox=yg,Wi.AcroFormButton=Yr,Wi.AcroFormPushButton=vg,Wi.AcroFormRadioButton=Af,Wi.AcroFormCheckBox=_g,Wi.AcroFormTextField=Kc,Wi.AcroFormPasswordField=bg,Wi.AcroFormAppearance=gt,Wi.AcroForm={ChoiceField:_f,ListBox:bf,ComboBox:wf,EditBox:yg,Button:Yr,PushButton:vg,RadioButton:Af,CheckBox:_g,TextField:Kc,PasswordField:bg,Appearance:gt},St.AcroForm={ChoiceField:_f,ListBox:bf,ComboBox:wf,EditBox:yg,Button:Yr,PushButton:vg,RadioButton:Af,CheckBox:_g,TextField:Kc,PasswordField:bg,Appearance:gt};St.AcroForm;function ZT(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(I,P){var O,ue,Te,le,oe,de=t;if((P=P||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(fe(I))for(oe in i)for(Te=i[oe],O=0;O<Te.length;O+=1){for(le=!0,ue=0;ue<Te[O].length;ue+=1)if(Te[O][ue]!==void 0&&Te[O][ue]!==I[ue]){le=!1;break}if(le===!0){de=oe;break}}else for(oe in i)for(Te=i[oe],O=0;O<Te.length;O+=1){for(le=!0,ue=0;ue<Te[O].length;ue+=1)if(Te[O][ue]!==void 0&&Te[O][ue]!==I.charCodeAt(ue)){le=!1;break}if(le===!0){de=oe;break}}return de===t&&P!==t&&(de=P),de},o=function I(P){for(var O=this.internal.write,ue=this.internal.putStream,Te=(0,this.internal.getFilters)();Te.indexOf("FlateEncode")!==-1;)Te.splice(Te.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:P.width}),le.push({key:"Height",value:P.height}),P.colorSpace===V.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===V.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var oe="",de=0,Ne=P.transparency.length;de<Ne;de++)oe+=P.transparency[de]+" "+P.transparency[de]+" ";le.push({key:"Mask",value:"["+oe+"]"})}P.sMask!==void 0&&le.push({key:"SMask",value:P.objectId+1+" 0 R"});var He=P.filter!==void 0?["/"+P.filter]:void 0;if(ue({data:P.data,additionalKeyValues:le,alreadyAppliedFilters:He,objectId:P.objectId}),O("endobj"),"sMask"in P&&P.sMask!==void 0){var Z,R=(Z=P.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:P.bitsPerComponent,G={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:P.sMask};"filter"in P&&(G.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(P.width),G.filter=P.filter),I.call(this,G)}if(P.colorSpace===V.INDEXED){var X=this.internal.newObject();ue({data:D(new Uint8Array(P.palette)),objectId:X}),O("endobj")}},u=function(){var I=this.internal.collections[e+"images"];for(var P in I)o.call(this,I[P])},c=function(){var I,P=this.internal.collections[e+"images"],O=this.internal.write;for(var ue in P)O("/I"+(I=P[ue]).index,I.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var I=this.internal.collections[e+"images"];return f.call(this),I},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(I){return typeof n["process"+I.toUpperCase()]=="function"},E=function(I){return Jn(I)==="object"&&I.nodeType===1},b=function(I,P){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var O=""+I.getAttribute("src");if(O.indexOf("data:image/")===0)return gg(unescape(O).split("base64,").pop());var ue=n.loadFile(O,!0);if(ue!==void 0)return ue}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var Te;switch(P){case"PNG":Te="image/png";break;case"WEBP":Te="image/webp";break;default:Te="image/jpeg"}return gg(I.toDataURL(Te,1).split("base64,").pop())}},j=function(I){var P=this.internal.collections[e+"images"];if(P){for(var O in P)if(I===P[O].alias)return P[O]}},M=function(I,P,O){return I||P||(I=-96,P=-96),I<0&&(I=-1*O.width*72/I/this.internal.scaleFactor),P<0&&(P=-1*O.height*72/P/this.internal.scaleFactor),I===0&&(I=P*O.width/O.height),P===0&&(P=I*O.height/O.width),[I,P]},U=function(I,P,O,ue,Te,le){var oe=M.call(this,O,ue,Te),de=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,He=d.call(this);if(O=oe[0],ue=oe[1],He[Te.index]=Te,le){le*=Math.PI/180;var Z=Math.cos(le),R=Math.sin(le),G=function(ae){return ae.toFixed(4)},X=[G(Z),G(R),G(-1*R),G(Z),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,de(I),Ne(P+ue),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([de(O),"0","0",de(ue),"0","0","cm"].join(" "))):this.internal.write([de(O),"0","0",de(ue),de(I),Ne(P+ue),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Te.index+" Do"),this.internal.write("Q")},V=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ee=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Q=n.__addimage__.sHashCode=function(I){var P,O,ue=0;if(typeof I=="string")for(O=I.length,P=0;P<O;P++)ue=(ue<<5)-ue+I.charCodeAt(P),ue|=0;else if(fe(I))for(O=I.byteLength/2,P=0;P<O;P++)ue=(ue<<5)-ue+I[P],ue|=0;return ue},ne=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var P=!0;return I.length===0&&(P=!1),I.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(P=!1),P},me=n.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var P=I.indexOf(",");return P<0?null:I.substring(0,P).trim().endsWith("base64")?I.substring(P+1):null};n.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var fe=n.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},z=n.__addimage__.binaryStringToUint8Array=function(I){for(var P=I.length,O=new Uint8Array(P),ue=0;ue<P;ue++)O[ue]=I.charCodeAt(ue);return O},D=n.__addimage__.arrayBufferToBinaryString=function(I){for(var P="",O=fe(I)?I:new Uint8Array(I),ue=0;ue<O.length;ue+=8192)P+=String.fromCharCode.apply(null,O.subarray(ue,ue+8192));return P};n.addImage=function(){var I,P,O,ue,Te,le,oe,de,Ne;if(typeof arguments[1]=="number"?(P=t,O=arguments[1],ue=arguments[2],Te=arguments[3],le=arguments[4],oe=arguments[5],de=arguments[6],Ne=arguments[7]):(P=arguments[1],O=arguments[2],ue=arguments[3],Te=arguments[4],le=arguments[5],oe=arguments[6],de=arguments[7],Ne=arguments[8]),Jn(I=arguments[0])==="object"&&!E(I)&&"imageData"in I){var He=I;I=He.imageData,P=He.format||P||t,O=He.x||O||0,ue=He.y||ue||0,Te=He.w||He.width||Te,le=He.h||He.height||le,oe=He.alias||oe,de=He.compression||de,Ne=He.rotation||He.angle||Ne}var Z=this.internal.getFilters();if(de===void 0&&Z.indexOf("FlateEncode")!==-1&&(de="SLOW"),isNaN(O)||isNaN(ue))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var R=C.call(this,I,P,oe,de);return U.call(this,O,ue,Te,le,R,Ne),this};var C=function(I,P,O,ue){var Te,le,oe;if(typeof I=="string"&&s(I)===t){I=unescape(I);var de=q(I,!1);(de!==""||(de=n.loadFile(I,!0))!==void 0)&&(I=de)}if(E(I)&&(I=b(I,P)),P=s(I,P),!w(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((oe=O)==null||oe.length===0)&&(O=(function(Ne){return typeof Ne=="string"||fe(Ne)?Q(Ne):fe(Ne.data)?Q(Ne.data):null})(I)),(Te=j.call(this,O))||(I instanceof Uint8Array||P==="RGBA"||(le=I,I=z(I)),Te=this["process"+P.toUpperCase()](I,g.call(this),O,(function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in n.image_compression?Ne:ee.NONE})(ue),le)),!Te)throw new Error("An unknown error occurred whilst processing the image.");return Te},q=n.__addimage__.convertBase64ToBinaryString=function(I,P){P=typeof P!="boolean"||P;var O,ue="";if(typeof I=="string"){var Te;O=(Te=me(I))!==null&&Te!==void 0?Te:I;try{ue=gg(O)}catch(le){if(P)throw ne(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};n.getImageProperties=function(I){var P,O,ue="";if(E(I)&&(I=b(I)),typeof I=="string"&&s(I)===t&&((ue=q(I,!1))===""&&(ue=n.loadFile(I)||""),I=ue),O=s(I),!w(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(I instanceof Uint8Array||(I=z(I)),!(P=this["process"+O.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=O,P}})(St.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};St.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,s,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,g=!1,w=0;w<d.length&&!g;w++)switch((i=d[w]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var E=0;E<d.length;E++){i=d[E];var b=this.internal.pdfEscape,j=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),V=this.internal.getEncryptor(M.objId),ee=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+b(V(i.contents))+")",o+=" /Popup "+U.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(V(ee))+") >>",M.content=o;var Q=M.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+Q,i.open&&(o+=" /Open true"),o+=" >>",U.content=o,this.internal.write(M.objId,"0 R",U.objId,"0 R");break;case"freetext":s="/Rect ["+u(i.bounds.x)+" "+c(i.bounds.y)+" "+u(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var ne=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(j(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ne+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var me=this.annotations._nameMap[i.options.name];i.options.pageNumber=me.page,i.options.top=me.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(j(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var fe=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+fe+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,s,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(i),w:f(t+s),h:d(i+o)},options:u,type:"link"})},n.textWithLink=function(t,i,s,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var g=this.splitTextToSize(t,c).length;u=Math.ceil(d*g)}else c=f,u=d;return this.text(t,i,s,o),s+=.2*d,o.align==="center"&&(i-=f/2),o.align==="right"&&(i-=f),this.link(i,s-d,c,u,o),f},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(St.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(M){return e[M.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},c=n.__arabicParser__.isArabicEndLetter=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(M){return u(M)&&s.indexOf(M.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(M){var U=0,V=t,ee="",Q=0;for(U=0;U<M.length;U+=1)V[M.charCodeAt(U)]!==void 0?(Q++,typeof(V=V[M.charCodeAt(U)])=="number"&&(ee+=String.fromCharCode(V),V=t,Q=0),U===M.length-1&&(V=t,ee+=M.charAt(U-(Q-1)),U-=Q-1,Q=0)):(V=t,ee+=M.charAt(U-Q),U-=Q,Q=0);return ee};n.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&i[M.charCodeAt(0)]!==void 0};var E=n.__arabicParser__.getCorrectForm=function(M,U,V){return u(M)?o(M)===!1?-1:!d(M)||!u(U)&&!u(V)||!u(V)&&c(U)||c(M)&&!u(U)||c(M)&&f(U)||c(M)&&c(U)?0:g(M)&&u(U)&&!c(U)&&u(V)&&d(V)?3:c(M)||!u(V)?1:2:-1},b=function(M){var U=0,V=0,ee=0,Q="",ne="",me="",fe=(M=M||"").split("\\s+"),z=[];for(U=0;U<fe.length;U+=1){for(z.push(""),V=0;V<fe[U].length;V+=1)Q=fe[U][V],ne=fe[U][V-1],me=fe[U][V+1],u(Q)?(ee=E(Q,ne,me),z[U]+=ee!==-1?String.fromCharCode(e[Q.charCodeAt(0)][ee]):Q):z[U]+=Q;z[U]=w(z[U])}return z.join(" ")},j=n.__arabicParser__.processArabic=n.processArabic=function(){var M,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,V=[];if(Array.isArray(U)){var ee=0;for(V=[],ee=0;ee<U.length;ee+=1)Array.isArray(U[ee])?V.push([b(U[ee][0]),U[ee][1],U[ee][2]]):V.push([b(U[ee])]);M=V}else M=b(U);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};n.events.push(["preProcessText",j])})(St.API),St.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var s;if((t=t||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(St.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(M){f=M}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(M){d=M}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(M){g=M}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(M){w=M}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(M){E=M}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(M){b=M}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(M){j=M}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){i.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),E=d.scaleFactor||this.internal.scaleFactor,b=0,j=0,M=0,U=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var V=d.maxWidth;V>0?typeof f=="string"?f=this.splitTextToSize(f,V):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Q,ne){return Q.concat(U.splitTextToSize(ne,V))},[])):f=Array.isArray(f)?f:[f];for(var ee=0;ee<f.length;ee++)b<(M=this.getStringUnitWidth(f[ee],{font:w})*g)&&(b=M);return b!==0&&(j=f.length),{w:b/=E,h:Math.max((j*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/E,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,E=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,b&&E&&(this.printHeaderRow(f.lineNumber,!0),f.y+=E[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,g,w,E){if(i.call(this),!g)throw new Error("No data for PDF table.");var b,j,M,U,V=[],ee=[],Q=[],ne={},me={},fe=[],z=[],D=(E=E||{}).autoSize||!1,C=E.printHeaders!==!1,q=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,I=E.margins||Object.assign({width:this.getPageWidth()},e),P=typeof E.padding=="number"?E.padding:3,O=E.headerBackgroundColor||"#c8c8c8",ue=E.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=ue,this.setFontSize(q),w==null)ee=V=Object.keys(g[0]),Q=V.map(function(){return"left"});else if(Array.isArray(w)&&Jn(w[0])==="object")for(V=w.map(function(He){return He.name}),ee=w.map(function(He){return He.prompt||He.name||""}),Q=w.map(function(He){return He.align||"left"}),b=0;b<w.length;b+=1)me[w[b].name]=.7499990551181103*w[b].width;else Array.isArray(w)&&typeof w[0]=="string"&&(ee=V=w,Q=V.map(function(){return"left"}));if(D||Array.isArray(w)&&typeof w[0]=="string")for(b=0;b<V.length;b+=1){for(ne[U=V[b]]=g.map(function(He){return He[U]}),this.setFont(void 0,"bold"),fe.push(this.getTextDimensions(ee[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=ne[U],this.setFont(void 0,"normal"),M=0;M<j.length;M+=1)fe.push(this.getTextDimensions(j[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);me[U]=Math.max.apply(null,fe)+P+P,fe=[]}if(C){var Te={};for(b=0;b<V.length;b+=1)Te[V[b]]={},Te[V[b]].text=ee[b],Te[V[b]].align=Q[b];var le=c.call(this,Te,me);z=V.map(function(He){return new o(f,d,me[He],le,Te[He].text,void 0,Te[He].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var oe=w.reduce(function(He,Z){return He[Z.name]=Z.align,He},{});for(b=0;b<g.length;b+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:b,data:g[b]},this);var de=c.call(this,g[b],me);for(M=0;M<V.length;M+=1){var Ne=g[b][V[M]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:b,col:M,data:Ne},this),u.call(this,new o(f,d,me[V[M]],de,Ne,b+2,oe[V[M]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var g=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(f).map(function(b){var j=f[b];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,d[b]-g-g)},this).map(function(b){return this.getLineHeightFactor()*b.length*w/E+g+g},this).reduce(function(b,j){return Math.max(b,j)},0)};n.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){g=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,E.push(g)),g.lineNumber=f;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(j)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),t=!1}})(St.API);var e6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},t6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Fy=ZT(t6),n6=[100,200,300,400,500,600,700,800,900],jj=ZT(n6);function U2(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return e6[o=o||"normal"]?o:"normal"})(n.style),i=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof Fy[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:i,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,i].join(" ")}}}function W4(n,e,t,i){var s;for(s=t;s>=0&&s<e.length;s+=i)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=i)if(n[e[s]])return n[e[s]]}var Vj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Q4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function X4(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function J4(n){return n.trimLeft()}function Fj(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Bj(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var ef,Qm,Z4,e3,t3,z2=["times"];function n3(n,e,t,i,s){var o=4,u=r3;switch(s){case St.API.image_compression.FAST:o=1,u=i3;break;case St.API.image_compression.MEDIUM:o=6,u=s3;break;case St.API.image_compression.SLOW:o=9,u=a3}n=(function(f,d,g,w){for(var E,b=f.length/d,j=new Uint8Array(f.length+b),M=[Uj,i3,r3,s3,a3],U=0;U<b;U+=1){var V=U*d,ee=f.subarray(V,V+d);if(w)j.set(w(ee,g,E),V+U);else{for(var Q=M.length,ne=[],me=0;me<Q;me+=1)ne[me]=M[me](ee,g,E);var fe=qj(ne.concat());j.set(ne[fe],V+U)}E=ee}return j})(n,e,Math.ceil(t*i/8),u);var c=ky(n,{level:o});return St.API.__addimage__.arrayBufferToBinaryString(c)}function Uj(n){var e=Array.apply([],n);return e.unshift(0),e}function i3(n,e){var t=n.length,i=[];i[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;i[s+1]=n[s]-o+256&255}return i}function r3(n,e,t){var i=n.length,s=[];s[0]=2;for(var o=0;o<i;o+=1){var u=t&&t[o]||0;s[o+1]=n[o]-u+256&255}return s}function s3(n,e,t){var i=n.length,s=[];s[0]=3;for(var o=0;o<i;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;s[o+1]=n[o]+256-(u+c>>>1)&255}return s}function a3(n,e,t){var i=n.length,s=[];s[0]=4;for(var o=0;o<i;o+=1){var u=zj(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-u+256&255}return s}function zj(n,e,t){if(n===e&&e===t)return n;var i=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return i<=s&&i<=o?n:s<=o?e:t}function qj(n){var e=n.map(function(t){return t.reduce(function(i,s){return i+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function q2(n,e,t){var i=e*t,s=Math.floor(i/8),o=16-(i-8*s+t),u=(1<<t)-1;return i6(n,s)>>o&u}function o3(n,e,t,i){var s=t*i,o=Math.floor(s/8),u=16-(s-8*o+i),c=(1<<i)-1,f=(e&c)<<u;(function(d,g,w){if(g+1<d.byteLength)d.setUint16(g,w,!1);else{var E=w>>8&255;d.setUint8(g,E)}})(n,o,i6(n,o)&~(c<<u)&65535|f)}function i6(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function Hj(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,u=1<<1+(7&s);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,g=[],w=0,E=null,b=0,j=null;for(this.width=t,this.height=i;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,j=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var M=n[e++];w=n[e++]|n[e++]<<8,E=n[e++],1&M||(E=null),b=M>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var U=n[e++]|n[e++]<<8,V=n[e++]|n[e++]<<8,ee=n[e++]|n[e++]<<8,Q=n[e++]|n[e++]<<8,ne=n[e++],me=ne>>6&1,fe=1<<1+(7&ne),z=c,D=f,C=!1;ne>>7&&(C=!0,z=e,D=fe,e+=3*fe);var q=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}g.push({x:U,y:V,width:ee,height:Q,has_local_palette:C,palette_offset:z,palette_size:D,data_offset:q,data_length:e-q,transparent_index:E,interlaced:!!me,delay:w,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return j},this.frameInfo=function(P){if(P<0||P>=g.length)throw new Error("Frame index out of range.");return g[P]},this.decodeAndBlitFrameBGRA=function(P,O){var ue=this.frameInfo(P),Te=ue.width*ue.height,le=new Uint8Array(Te);l3(n,ue.data_offset,le,Te);var oe=ue.palette_offset,de=ue.transparent_index;de===null&&(de=256);var Ne=ue.width,He=t-Ne,Z=Ne,R=4*(ue.y*t+ue.x),G=4*((ue.y+ue.height)*t+ue.x),X=R,ae=4*He;ue.interlaced===!0&&(ae+=4*t*7);for(var ce=8,ge=0,Re=le.length;ge<Re;++ge){var xe=le[ge];if(Z===0&&(Z=Ne,(X+=ae)>=G&&(ae=4*He+4*t*(ce-1),X=R+(Ne+He)*(ce<<1),ce>>=1)),xe===de)X+=4;else{var Me=n[oe+3*xe],$e=n[oe+3*xe+1],et=n[oe+3*xe+2];O[X++]=et,O[X++]=$e,O[X++]=Me,O[X++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(P,O){var ue=this.frameInfo(P),Te=ue.width*ue.height,le=new Uint8Array(Te);l3(n,ue.data_offset,le,Te);var oe=ue.palette_offset,de=ue.transparent_index;de===null&&(de=256);var Ne=ue.width,He=t-Ne,Z=Ne,R=4*(ue.y*t+ue.x),G=4*((ue.y+ue.height)*t+ue.x),X=R,ae=4*He;ue.interlaced===!0&&(ae+=4*t*7);for(var ce=8,ge=0,Re=le.length;ge<Re;++ge){var xe=le[ge];if(Z===0&&(Z=Ne,(X+=ae)>=G&&(ae=4*He+4*t*(ce-1),X=R+(Ne+He)*(ce<<1),ce>>=1)),xe===de)X+=4;else{var Me=n[oe+3*xe],$e=n[oe+3*xe+1],et=n[oe+3*xe+2];O[X++]=Me,O[X++]=$e,O[X++]=et,O[X++]=255}--Z}}}function l3(n,e,t,i){for(var s=n[e++],o=1<<s,u=o+1,c=u+1,f=s+1,d=(1<<f)-1,g=0,w=0,E=0,b=n[e++],j=new Int32Array(4096),M=null;;){for(;g<16&&b!==0;)w|=n[e++]<<g,g+=8,b===1?b=n[e++]:--b;if(g<f)break;var U=w&d;if(w>>=f,g-=f,U!==o){if(U===u)break;for(var V=U<c?U:M,ee=0,Q=V;Q>o;)Q=j[Q]>>8,++ee;var ne=Q;if(E+ee+(V!==U?1:0)>i)return void pi.log("Warning, gif stream longer than expected.");t[E++]=ne;var me=E+=ee;for(V!==U&&(t[E++]=ne),Q=V;ee--;)Q=j[Q],t[--me]=255&Q,Q>>=8;M!==null&&c<4096&&(j[c++]=M<<8|ne,c>=d+1&&f<12&&(++f,d=d<<1|1)),M=U}else c=u+1,d=(1<<(f=s+1))-1,M=null}return E!==i&&pi.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function H2(n){var e,t,i,s,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),g=new Array(64),w=new Array(65535),E=new Array(65535),b=new Array(64),j=new Array(64),M=[],U=0,V=7,ee=new Array(64),Q=new Array(64),ne=new Array(64),me=new Array(256),fe=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(R,G){for(var X=0,ae=0,ce=new Array,ge=1;ge<=16;ge++){for(var Re=1;Re<=R[ge];Re++)ce[G[ae]]=[],ce[G[ae]][0]=X,ce[G[ae]][1]=ge,ae++,X++;X*=2}return ce}function oe(R){for(var G=R[0],X=R[1]-1;X>=0;)G&1<<X&&(U|=1<<V),X--,--V<0&&(U==255?(de(255),de(0)):de(U),V=7,U=0)}function de(R){M.push(R)}function Ne(R){de(R>>8&255),de(255&R)}function He(R,G,X,ae,ce){for(var ge,Re=ce[0],xe=ce[240],Me=(function(Ge,ot){var at,Lt,At,Qt,nn,qt,ln,Jt,vt,Gt,_t=0;for(vt=0;vt<8;++vt){at=Ge[_t],Lt=Ge[_t+1],At=Ge[_t+2],Qt=Ge[_t+3],nn=Ge[_t+4],qt=Ge[_t+5],ln=Ge[_t+6];var mi=at+(Jt=Ge[_t+7]),Zt=at-Jt,Rt=Lt+ln,Bt=Lt-ln,Xt=At+qt,xt=At-qt,Ln=Qt+nn,jt=Qt-nn,Vt=mi+Ln,Pn=mi-Ln,Et=Rt+Xt,bt=Rt-Xt;Ge[_t]=Vt+Et,Ge[_t+4]=Vt-Et;var un=.707106781*(bt+Pn);Ge[_t+2]=Pn+un,Ge[_t+6]=Pn-un;var vr=.382683433*((Vt=jt+xt)-(bt=Bt+Zt)),ar=.5411961*Vt+vr,Us=1.306562965*bt+vr,Xi=.707106781*(Et=xt+Bt),Tt=Zt+Xi,ca=Zt-Xi;Ge[_t+5]=ca+ar,Ge[_t+3]=ca-ar,Ge[_t+1]=Tt+Us,Ge[_t+7]=Tt-Us,_t+=8}for(_t=0,vt=0;vt<8;++vt){at=Ge[_t],Lt=Ge[_t+8],At=Ge[_t+16],Qt=Ge[_t+24],nn=Ge[_t+32],qt=Ge[_t+40],ln=Ge[_t+48];var Qr=at+(Jt=Ge[_t+56]),Dr=at-Jt,Pr=Lt+ln,Hn=Lt-ln,ni=At+qt,Bi=At-qt,_r=Qt+nn,or=Qt-nn,On=Qr+_r,Kn=Qr-_r,Ui=Pr+ni,Or=Pr-ni;Ge[_t]=On+Ui,Ge[_t+32]=On-Ui;var fs=.707106781*(Or+Kn);Ge[_t+16]=Kn+fs,Ge[_t+48]=Kn-fs;var La=.382683433*((On=or+Bi)-(Or=Hn+Dr)),Is=.5411961*On+La,Mr=1.306562965*Or+La,ha=.707106781*(Ui=Bi+Hn),Xr=Dr+ha,br=Dr-ha;Ge[_t+40]=br+Is,Ge[_t+24]=br-Is,Ge[_t+8]=Xr+Mr,Ge[_t+56]=Xr-Mr,_t++}for(vt=0;vt<64;++vt)Gt=Ge[vt]*ot[vt],b[vt]=Gt>0?Gt+.5|0:Gt-.5|0;return b})(R,G),$e=0;$e<64;++$e)j[z[$e]]=Me[$e];var et=j[0]-X;X=j[0],et==0?oe(ae[0]):(oe(ae[E[ge=32767+et]]),oe(w[ge]));for(var rt=63;rt>0&&j[rt]==0;)rt--;if(rt==0)return oe(Re),X;for(var ht,te=1;te<=rt;){for(var it=te;j[te]==0&&te<=rt;)++te;var Wt=te-it;if(Wt>=16){ht=Wt>>4;for(var Ct=1;Ct<=ht;++Ct)oe(xe);Wt&=15}ge=32767+j[te],oe(ce[(Wt<<4)+E[ge]]),oe(w[ge]),te++}return rt!=63&&oe(Re),X}function Z(R){R=Math.min(Math.max(R,1),100),o!=R&&((function(G){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var ce=u((X[ae]*G+50)/100);ce=Math.min(Math.max(ce,1),255),c[z[ae]]=ce}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Re=0;Re<64;Re++){var xe=u((ge[Re]*G+50)/100);xe=Math.min(Math.max(xe,1),255),f[z[Re]]=xe}for(var Me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,et=0;et<8;et++)for(var rt=0;rt<8;rt++)d[$e]=1/(c[z[$e]]*Me[et]*Me[rt]*8),g[$e]=1/(f[z[$e]]*Me[et]*Me[rt]*8),$e++})(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),o=R)}this.encode=function(R,G){G&&Z(G),M=new Array,U=0,V=7,Ne(65496),Ne(65504),Ne(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),Ne(1),Ne(1),de(0),de(0),(function(){Ne(65499),Ne(132),de(0);for(var Lt=0;Lt<64;Lt++)de(c[Lt]);de(1);for(var At=0;At<64;At++)de(f[At])})(),(function(Lt,At){Ne(65472),Ne(17),de(8),Ne(At),Ne(Lt),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)})(R.width,R.height),(function(){Ne(65476),Ne(418),de(0);for(var Lt=0;Lt<16;Lt++)de(D[Lt+1]);for(var At=0;At<=11;At++)de(C[At]);de(16);for(var Qt=0;Qt<16;Qt++)de(q[Qt+1]);for(var nn=0;nn<=161;nn++)de(I[nn]);de(1);for(var qt=0;qt<16;qt++)de(P[qt+1]);for(var ln=0;ln<=11;ln++)de(O[ln]);de(17);for(var Jt=0;Jt<16;Jt++)de(ue[Jt+1]);for(var vt=0;vt<=161;vt++)de(Te[vt])})(),Ne(65498),Ne(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0);var X=0,ae=0,ce=0;U=0,V=7,this.encode.displayName="_encode_";for(var ge,Re,xe,Me,$e,et,rt,ht,te,it=R.data,Wt=R.width,Ct=R.height,Ge=4*Wt,ot=0;ot<Ct;){for(ge=0;ge<Ge;){for($e=Ge*ot+ge,rt=-1,ht=0,te=0;te<64;te++)et=$e+(ht=te>>3)*Ge+(rt=4*(7&te)),ot+ht>=Ct&&(et-=Ge*(ot+1+ht-Ct)),ge+rt>=Ge&&(et-=ge+rt-Ge+4),Re=it[et++],xe=it[et++],Me=it[et++],ee[te]=(fe[Re]+fe[xe+256|0]+fe[Me+512|0]>>16)-128,Q[te]=(fe[Re+768|0]+fe[xe+1024|0]+fe[Me+1280|0]>>16)-128,ne[te]=(fe[Re+1280|0]+fe[xe+1536|0]+fe[Me+1792|0]>>16)-128;X=He(ee,d,X,e,i),ae=He(Q,g,ae,t,s),ce=He(ne,g,ce,t,s),ge+=32}ot+=8}if(V>=0){var at=[];at[1]=V+1,at[0]=(1<<V+1)-1,oe(at)}return Ne(65497),new Uint8Array(M)},n=n||50,(function(){for(var R=String.fromCharCode,G=0;G<256;G++)me[G]=R(G)})(),e=le(D,C),t=le(P,O),i=le(q,I),s=le(ue,Te),(function(){for(var R=1,G=2,X=1;X<=15;X++){for(var ae=R;ae<G;ae++)E[32767+ae]=X,w[32767+ae]=[],w[32767+ae][1]=X,w[32767+ae][0]=ae;for(var ce=-(G-1);ce<=-R;ce++)E[32767+ce]=X,w[32767+ce]=[],w[32767+ce][1]=X,w[32767+ce][0]=G-1+ce;R<<=1,G<<=1}})(),(function(){for(var R=0;R<256;R++)fe[R]=19595*R,fe[R+256|0]=38470*R,fe[R+512|0]=7471*R+32768,fe[R+768|0]=-11059*R,fe[R+1024|0]=-21709*R,fe[R+1280|0]=32768*R+8421375,fe[R+1536|0]=-27439*R,fe[R+1792|0]=-5329*R})(),Z(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function So(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function u3(n){function e(C){if(!C)throw Error("assert :P")}function t(C,q,I){for(var P=0;4>P;P++)if(C[q+P]!=I.charCodeAt(P))return!0;return!1}function i(C,q,I,P,O){for(var ue=0;ue<O;ue++)C[q+ue]=I[P+ue]}function s(C,q,I,P){for(var O=0;O<P;O++)C[q+O]=I}function o(C){return new Int32Array(C)}function u(C,q){for(var I=[],P=0;P<C;P++)I.push(new q);return I}function c(C,q){var I=[];return(function P(O,ue,Te){for(var le=Te[ue],oe=0;oe<le&&(O.push(Te.length>ue+1?[]:new q),!(Te.length<ue+1));oe++)P(O[oe],ue+1,Te)})(I,0,C),I}var f=function(){var C=this;function q(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function I(p,v,S,N,B){e(!(N%S));do p[v+(N-=S)]=B;while(0<N)}function P(p,v,S,N,B){if(e(2328>=B),512>=B)var H=o(512);else if((H=o(B))==null)return 0;return(function(K,Y,J,se,ye,Le){var ie,_e,Se=Y,Fe=1<<J,Ie=o(16),Ve=o(16);for(e(ye!=0),e(se!=null),e(K!=null),e(0<J),_e=0;_e<ye;++_e){if(15<se[_e])return 0;++Ie[se[_e]]}if(Ie[0]==ye)return 0;for(Ve[1]=0,ie=1;15>ie;++ie){if(Ie[ie]>1<<ie)return 0;Ve[ie+1]=Ve[ie]+Ie[ie]}for(_e=0;_e<ye;++_e)ie=se[_e],0<se[_e]&&(Le[Ve[ie]++]=_e);if(Ve[15]==1)return(se=new O).g=0,se.value=Le[0],I(K,Se,1,Fe,se),Fe;var qe,Xe=-1,We=Fe-1,mt=0,lt=1,Kt=1,ft=1<<J;for(_e=0,ie=1,ye=2;ie<=J;++ie,ye<<=1){if(lt+=Kt<<=1,0>(Kt-=Ie[ie]))return 0;for(;0<Ie[ie];--Ie[ie])(se=new O).g=ie,se.value=Le[_e++],I(K,Se+mt,ye,ft,se),mt=q(mt,ie)}for(ie=J+1,ye=2;15>=ie;++ie,ye<<=1){if(lt+=Kt<<=1,0>(Kt-=Ie[ie]))return 0;for(;0<Ie[ie];--Ie[ie]){if(se=new O,(mt&We)!=Xe){for(Se+=ft,qe=1<<(Xe=ie)-J;15>Xe&&!(0>=(qe-=Ie[Xe]));)++Xe,qe<<=1;Fe+=ft=1<<(qe=Xe-J),K[Y+(Xe=mt&We)].g=qe+J,K[Y+Xe].value=Se-Y-Xe}se.g=ie-J,se.value=Le[_e++],I(K,Se+(mt>>J),ye,ft,se),mt=q(mt,ie)}}return lt!=2*Ve[15]-1?0:Fe})(p,v,S,N,B,H)}function O(){this.value=this.g=0}function ue(){this.value=this.g=0}function Te(){this.G=u(5,O),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(zo,ue)}function le(p,v,S,N){e(p!=null),e(v!=null),e(2147483648>N),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+N,p.Zc=4<=N?S+N-4+1:S,Re(p)}function oe(p,v){for(var S=0;0<v--;)S|=Me(p,128)<<v;return S}function de(p,v){var S=oe(p,v);return xe(p)?-S:S}function Ne(p,v,S,N){var B,H=0;for(e(p!=null),e(v!=null),e(4294967288>N),p.Sb=N,p.Ra=0,p.u=0,p.h=0,4<N&&(N=4),B=0;B<N;++B)H+=v[S+B]<<8*B;p.Ra=H,p.bb=N,p.oa=v,p.pa=S}function He(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Fa-8>>>0,++p.bb,p.u-=8;ae(p)&&(p.h=1,p.u=0)}function Z(p,v){if(e(0<=v),!p.h&&v<=ss){var S=X(p)&ys[v];return p.u+=v,He(p),S}return p.h=1,p.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(p){return p.Ra>>>(p.u&Fa-1)>>>0}function ae(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Fa}function ce(p,v){p.u=v,p.h=ae(p)}function ge(p){p.u>=Ba&&(e(p.u>=Ba),He(p))}function Re(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function xe(p){return oe(p,1)}function Me(p,v){var S=p.Ca;0>p.b&&Re(p);var N=p.b,B=S*v>>>8,H=(p.I>>>N>B)+0;for(H?(S-=B,p.I-=B+1<<N>>>0):S=B+1,N=S,B=0;256<=N;)B+=8,N>>=8;return N=7^B+uo[N],p.b-=N,p.Ca=(S<<N)-1,H}function $e(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function et(p,v){return p[v+0]|p[v+1]<<8}function rt(p,v){return et(p,v)|p[v+2]<<16}function ht(p,v){return et(p,v)|et(p,v+2)<<16}function te(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function it(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),i(v.X,0,p.X,0,1<<v.Xa)}function Wt(){this.X=[],this.Xa=this.Mb=0}function Ct(p,v,S,N){e(S!=null),e(N!=null);var B=S[0],H=N[0];return B==0&&(B=(p*H+v/2)/v),H==0&&(H=(v*B+p/2)/p),0>=B||0>=H?0:(S[0]=B,N[0]=H,1)}function Ge(p,v){return p+(1<<v)-1>>>v}function ot(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function at(p,v){C[v]=function(S,N,B,H,K,Y,J){var se;for(se=0;se<K;++se){var ye=C[p](Y[J+se-1],B,H+se);Y[J+se]=ot(S[N+se],ye)}}}function Lt(){this.ud=this.hd=this.jd=0}function At(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Qt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function nn(p,v){return Qt(p+(p-v+.5>>1))}function qt(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function ln(p,v,S,N,B,H,K){for(N=H[K-1],S=0;S<B;++S)H[K+S]=N=ot(p[v+S],N)}function Jt(p,v,S,N,B){var H;for(H=0;H<S;++H){var K=p[v+H],Y=K>>8&255,J=16711935&(J=(J=16711935&K)+((Y<<16)+Y));N[B+H]=(4278255360&K)+J>>>0}}function vt(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Gt(p,v,S,N,B,H){var K;for(K=0;K<N;++K){var Y=v[S+K],J=Y>>>8,se=Y,ye=255&(ye=(ye=Y>>>16)+((p.jd<<24>>24)*(J<<24>>24)>>>5));se=255&(se=(se+=(p.hd<<24>>24)*(J<<24>>24)>>>5)+((p.ud<<24>>24)*(ye<<24>>24)>>>5)),B[H+K]=(4278255360&Y)+(ye<<16)+se}}function _t(p,v,S,N,B){C[v]=function(H,K,Y,J,se,ye,Le,ie,_e){for(J=Le;J<ie;++J)for(Le=0;Le<_e;++Le)se[ye++]=B(Y[N(H[K++])])},C[p]=function(H,K,Y,J,se,ye,Le){var ie=8>>H.b,_e=H.Ea,Se=H.K[0],Fe=H.w;if(8>ie)for(H=(1<<H.b)-1,Fe=(1<<ie)-1;K<Y;++K){var Ie,Ve=0;for(Ie=0;Ie<_e;++Ie)Ie&H||(Ve=N(J[se++])),ye[Le++]=B(Se[Ve&Fe]),Ve>>=ie}else C["VP8LMapColor"+S](J,se,Se,Fe,ye,Le,K,Y,_e)}}function mi(p,v,S,N,B){for(S=v+S;v<S;){var H=p[v++];N[B++]=H>>16&255,N[B++]=H>>8&255,N[B++]=255&H}}function Zt(p,v,S,N,B){for(S=v+S;v<S;){var H=p[v++];N[B++]=H>>16&255,N[B++]=H>>8&255,N[B++]=255&H,N[B++]=H>>24&255}}function Rt(p,v,S,N,B){for(S=v+S;v<S;){var H=(K=p[v++])>>16&240|K>>12&15,K=240&K|K>>28&15;N[B++]=H,N[B++]=K}}function Bt(p,v,S,N,B){for(S=v+S;v<S;){var H=(K=p[v++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;N[B++]=H,N[B++]=K}}function Xt(p,v,S,N,B){for(S=v+S;v<S;){var H=p[v++];N[B++]=255&H,N[B++]=H>>8&255,N[B++]=H>>16&255}}function xt(p,v,S,N,B,H){if(H==0)for(S=v+S;v<S;)$e(N,((H=p[v++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),B+=32;else i(N,B,p,v,S)}function Ln(p,v){C[v][0]=C[p+"0"],C[v][1]=C[p+"1"],C[v][2]=C[p+"2"],C[v][3]=C[p+"3"],C[v][4]=C[p+"4"],C[v][5]=C[p+"5"],C[v][6]=C[p+"6"],C[v][7]=C[p+"7"],C[v][8]=C[p+"8"],C[v][9]=C[p+"9"],C[v][10]=C[p+"10"],C[v][11]=C[p+"11"],C[v][12]=C[p+"12"],C[v][13]=C[p+"13"],C[v][14]=C[p+"0"],C[v][15]=C[p+"0"]}function jt(p){return p==_c||p==yh||p==fu||p==vh}function Vt(){this.eb=[],this.size=this.A=this.fb=0}function Pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Et(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vt,this.f.kb=new Pn,this.sd=null}function bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function un(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vr(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function ar(p,v){var S=p.T,N=v.ba.f.RGBA,B=N.eb,H=N.fb+p.ka*N.A,K=Nr[v.ba.S],Y=p.y,J=p.O,se=p.f,ye=p.N,Le=p.ea,ie=p.W,_e=v.cc,Se=v.dc,Fe=v.Mc,Ie=v.Nc,Ve=p.ka,qe=p.ka+p.T,Xe=p.U,We=Xe+1>>1;for(Ve==0?K(Y,J,null,null,se,ye,Le,ie,se,ye,Le,ie,B,H,null,null,Xe):(K(v.ec,v.fc,Y,J,_e,Se,Fe,Ie,se,ye,Le,ie,B,H-N.A,B,H,Xe),++S);Ve+2<qe;Ve+=2)_e=se,Se=ye,Fe=Le,Ie=ie,ye+=p.Rc,ie+=p.Rc,H+=2*N.A,K(Y,(J+=2*p.fa)-p.fa,Y,J,_e,Se,Fe,Ie,se,ye,Le,ie,B,H-N.A,B,H,Xe);return J+=p.fa,p.j+qe<p.o?(i(v.ec,v.fc,Y,J,Xe),i(v.cc,v.dc,se,ye,We),i(v.Mc,v.Nc,Le,ie,We),S--):1&qe||K(Y,J,null,null,se,ye,Le,ie,se,ye,Le,ie,B,H+N.A,null,null,Xe),S}function Us(p,v,S){var N=p.F,B=[p.J];if(N!=null){var H=p.U,K=v.ba.S,Y=K==vc||K==fu;v=v.ba.f.RGBA;var J=[0],se=p.ka;J[0]=p.T,p.Kb&&(se==0?--J[0]:(--se,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(J[0]=p.o-p.j-se));var ye=v.eb;se=v.fb+se*v.A,p=pc(N,B[0],p.width,H,J,ye,se+(Y?0:3),v.A),e(S==J),p&&jt(K)&&Tl(ye,se,Y,H,J,v.A)}return 0}function Xi(p){var v=p.ma,S=v.ba.S,N=11>S,B=S==zr||S==Ws||S==vc||S==hu||S==12||jt(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!lo(v.Oa,p,B?11:12))return 0;if(B&&jt(S)&&Ht(),p.da)alert("todo:use_scaling");else{if(N){if(v.Ib=vr,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=ar,Ht()}}else alert("todo:EmitYUV");B&&(v.Jb=Us,N&&Pe())}if(N&&!Wo){for(p=0;256>p;++p)Ir[p]=89858*(p-128)+mu>>ta,O1[p]=-22014*(p-128)+mu,Kp[p]=-45773*(p-128),Eh[p]=113618*(p-128)+mu>>ta;for(p=Rl;p<Yo;++p)v=76283*(p-16)+mu>>ta,M1[p-Rl]=Zr(v,255),j1[p-Rl]=Zr(v+8>>4,15);Wo=1}return 1}function Tt(p){var v=p.ma,S=p.U,N=p.T;return e(!(1&p.ka)),0>=S||0>=N?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function ca(p){p.ma.memory=null}function Qr(p,v,S,N){return Z(p,8)!=47?0:(v[0]=Z(p,14)+1,S[0]=Z(p,14)+1,N[0]=Z(p,1),Z(p,3)!=0?0:!p.h)}function Dr(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+Z(v,S)+1}function Pr(p,v){return 120<v?v-120:1<=(S=((S=Xs[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function Hn(p,v,S){var N=X(S),B=p[v+=255&N].g-8;return 0<B&&(ce(S,S.u+8),N=X(S),v+=p[v].value,v+=N&(1<<B)-1),ce(S,S.u+p[v].g),p[v].value}function ni(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function Bi(p,v,S){var N=p.xc;return e((v=N==0?0:p.vc[p.md*(S>>N)+(v>>N)])<p.Wb),p.Ya[v]}function _r(p,v,S,N){var B=p.ab,H=p.c*v,K=p.C;v=K+v;var Y=S,J=N;for(N=p.Ta,S=p.Ua;0<B--;){var se=p.gc[B],ye=K,Le=v,ie=Y,_e=J,Se=(J=N,Y=S,se.Ea);switch(e(ye<Le),e(Le<=se.nc),se.hc){case 2:Oi(ie,_e,(Le-ye)*Se,J,Y);break;case 0:var Fe=ye,Ie=Le,Ve=J,qe=Y,Xe=(ft=se).Ea;Fe==0&&(ou(ie,_e,null,null,1,Ve,qe),ln(ie,_e+1,0,0,Xe-1,Ve,qe+1),_e+=Xe,qe+=Xe,++Fe);for(var We=1<<ft.b,mt=We-1,lt=Ge(Xe,ft.b),Kt=ft.K,ft=ft.w+(Fe>>ft.b)*lt;Fe<Ie;){var gn=Kt,fi=ft,rn=1;for(lu(ie,_e,Ve,qe-Xe,1,Ve,qe);rn<Xe;){var ut=(rn&~mt)+We;ut>Xe&&(ut=Xe),(0,co[gn[fi++]>>8&15])(ie,_e+ +rn,Ve,qe+rn-Xe,ut-rn,Ve,qe+rn),rn=ut}_e+=Xe,qe+=Xe,++Fe&mt||(ft+=lt)}Le!=se.nc&&i(J,Y-Se,J,Y+(Le-ye-1)*Se,Se);break;case 1:for(Se=ie,Ie=_e,Xe=(ie=se.Ea)-(qe=ie&~(Ve=(_e=1<<se.b)-1)),Fe=Ge(ie,se.b),We=se.K,se=se.w+(ye>>se.b)*Fe;ye<Le;){for(mt=We,lt=se,Kt=new Lt,ft=Ie+qe,gn=Ie+ie;Ie<ft;)vt(mt[lt++],Kt),uu(Kt,Se,Ie,_e,J,Y),Ie+=_e,Y+=_e;Ie<gn&&(vt(mt[lt++],Kt),uu(Kt,Se,Ie,Xe,J,Y),Ie+=Xe,Y+=Xe),++ye&Ve||(se+=Fe)}break;case 3:if(ie==J&&_e==Y&&0<se.b){for(Ie=J,ie=Se=Y+(Le-ye)*Se-(qe=(Le-ye)*Ge(se.Ea,se.b)),_e=J,Ve=Y,Fe=[],qe=(Xe=qe)-1;0<=qe;--qe)Fe[qe]=_e[Ve+qe];for(qe=Xe-1;0<=qe;--qe)Ie[ie+qe]=Fe[qe];fh(se,ye,Le,J,Se,J,Y)}else fh(se,ye,Le,ie,_e,J,Y)}Y=N,J=S}J!=S&&i(N,S,Y,J,H)}function or(p,v){var S=p.V,N=p.Ba+p.c*p.C,B=v-p.C;if(e(v<=p.l.o),e(16>=B),0<B){var H=p.l,K=p.Ta,Y=p.Ua,J=H.width;if(_r(p,B,S,N),B=Y=[Y],e((S=p.C)<(N=v)),e(H.v<H.va),N>H.o&&(N=H.o),S<H.j){var se=H.j-S;S=H.j,B[0]+=se*J}if(S>=N?S=0:(B[0]+=4*H.v,H.ka=S-H.j,H.U=H.va-H.v,H.T=N-S,S=1),S){if(Y=Y[0],11>(S=p.ca).S){var ye=S.f.RGBA,Le=(N=S.S,B=H.U,H=H.T,se=ye.eb,ye.A),ie=H;for(ye=ye.fb+p.Ma*ye.A;0<ie--;){var _e=K,Se=Y,Fe=B,Ie=se,Ve=ye;switch(N){case mh:cu(_e,Se,Fe,Ie,Ve);break;case zr:ho(_e,Se,Fe,Ie,Ve);break;case _c:ho(_e,Se,Fe,Ie,Ve),Tl(Ie,Ve,0,Fe,1,0);break;case gh:Sl(_e,Se,Fe,Ie,Ve);break;case Ws:xt(_e,Se,Fe,Ie,Ve,1);break;case yh:xt(_e,Se,Fe,Ie,Ve,1),Tl(Ie,Ve,0,Fe,1,0);break;case vc:xt(_e,Se,Fe,Ie,Ve,0);break;case fu:xt(_e,Se,Fe,Ie,Ve,0),Tl(Ie,Ve,1,Fe,1,0);break;case hu:fo(_e,Se,Fe,Ie,Ve);break;case vh:fo(_e,Se,Fe,Ie,Ve),Ys(Ie,Ve,Fe,1,0);break;case qo:qa(_e,Se,Fe,Ie,Ve);break;default:e(0)}Y+=J,ye+=Le}p.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function On(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,N=p.Ya[v].H;if(0<S[1][N[1]+0].g||0<S[2][N[2]+0].g||0<S[3][N[3]+0].g)return 0}return 1}function Kn(p,v,S,N,B,H){if(p.Z!=0){var K=p.qd,Y=p.rd;for(e(go[p.Z]!=null);v<S;++v)go[p.Z](K,Y,N,B,N,B,H),K=N,Y=B,B+=H;p.qd=K,p.rd=Y}}function Ui(p,v){var S=p.l.ma,N=S.Z==0||S.Z==1?p.l.j:p.C;if(N=p.C<N?N:p.C,e(v<=p.l.o),v>N){var B=p.l.width,H=S.ca,K=S.tb+B*N,Y=p.V,J=p.Ba+p.c*N,se=p.gc;e(p.ab==1),e(se[0].hc==3),za(se[0],N,v,Y,J,H,K),Kn(S,N,v,H,K,B)}p.C=p.Ma=v}function Or(p,v,S,N,B,H,K){var Y=p.$/N,J=p.$%N,se=p.m,ye=p.s,Le=S+p.$,ie=Le;B=S+N*B;var _e=S+N*H,Se=280+ye.ua,Fe=p.Pb?Y:16777216,Ie=0<ye.ua?ye.Wa:null,Ve=ye.wc,qe=Le<_e?Bi(ye,J,Y):null;e(p.C<H),e(_e<=B);var Xe=!1;e:for(;;){for(;Xe||Le<_e;){var We=0;if(Y>=Fe){var mt=Le-S;e((Fe=p).Pb),Fe.wd=Fe.m,Fe.xd=mt,0<Fe.s.ua&&it(Fe.s.Wa,Fe.s.vb),Fe=Y+Ho}if(J&Ve||(qe=Bi(ye,J,Y)),e(qe!=null),qe.Qb&&(v[Le]=qe.qb,Xe=!0),!Xe)if(ge(se),qe.jc){We=se,mt=v;var lt=Le,Kt=qe.pd[X(We)&zo-1];e(qe.jc),256>Kt.g?(ce(We,We.u+Kt.g),mt[lt]=Kt.value,We=0):(ce(We,We.u+Kt.g-256),e(256<=Kt.value),We=Kt.value),We==0&&(Xe=!0)}else We=Hn(qe.G[0],qe.H[0],se);if(se.h)break;if(Xe||256>We){if(!Xe)if(qe.nd)v[Le]=(qe.qb|We<<8)>>>0;else{if(ge(se),Xe=Hn(qe.G[1],qe.H[1],se),ge(se),mt=Hn(qe.G[2],qe.H[2],se),lt=Hn(qe.G[3],qe.H[3],se),se.h)break;v[Le]=(lt<<24|Xe<<16|We<<8|mt)>>>0}if(Xe=!1,++Le,++J>=N&&(J=0,++Y,K!=null&&Y<=H&&!(Y%16)&&K(p,Y),Ie!=null))for(;ie<Le;)We=v[ie++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We}else if(280>We){if(We=Dr(We-256,se),mt=Hn(qe.G[4],qe.H[4],se),ge(se),mt=Pr(N,mt=Dr(mt,se)),se.h)break;if(Le-S<mt||B-Le<We)break e;for(lt=0;lt<We;++lt)v[Le+lt]=v[Le+lt-mt];for(Le+=We,J+=We;J>=N;)J-=N,++Y,K!=null&&Y<=H&&!(Y%16)&&K(p,Y);if(e(Le<=B),J&Ve&&(qe=Bi(ye,J,Y)),Ie!=null)for(;ie<Le;)We=v[ie++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We}else{if(!(We<Se))break e;for(Xe=We-280,e(Ie!=null);ie<Le;)We=v[ie++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We;We=Le,e(!(Xe>>>(mt=Ie).Xa)),v[We]=mt.X[Xe],Xe=!0}Xe||e(se.h==ae(se))}if(p.Pb&&se.h&&Le<B)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&it(p.s.vb,p.s.Wa);else{if(se.h)break e;K!=null&&K(p,Y>H?H:Y),p.a=0,p.$=Le-S}return 1}return p.a=3,0}function fs(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function La(){var p=new Pt;return p==null?null:(p.a=0,p.xb=ed,Ln("Predictor","VP8LPredictors"),Ln("Predictor","VP8LPredictors_C"),Ln("PredictorAdd","VP8LPredictorsAdd"),Ln("PredictorAdd","VP8LPredictorsAdd_C"),Oi=Jt,uu=Gt,cu=mi,ho=Zt,fo=Rt,qa=Bt,Sl=Xt,C.VP8LMapColor32b=Ua,C.VP8LMapColor8b=Sr,p)}function Is(p,v,S,N,B){var H=1,K=[p],Y=[v],J=N.m,se=N.s,ye=null,Le=0;e:for(;;){if(S)for(;H&&Z(J,1);){var ie=K,_e=Y,Se=N,Fe=1,Ie=Se.m,Ve=Se.gc[Se.ab],qe=Z(Ie,2);if(Se.Oc&1<<qe)H=0;else{switch(Se.Oc|=1<<qe,Ve.hc=qe,Ve.Ea=ie[0],Ve.nc=_e[0],Ve.K=[null],++Se.ab,e(4>=Se.ab),qe){case 0:case 1:Ve.b=Z(Ie,3)+2,Fe=Is(Ge(Ve.Ea,Ve.b),Ge(Ve.nc,Ve.b),0,Se,Ve.K),Ve.K=Ve.K[0];break;case 3:var Xe,We=Z(Ie,8)+1,mt=16<We?0:4<We?1:2<We?2:3;if(ie[0]=Ge(Ve.Ea,mt),Ve.b=mt,Xe=Fe=Is(We,1,0,Se,Ve.K)){var lt,Kt=We,ft=Ve,gn=1<<(8>>ft.b),fi=o(gn);if(fi==null)Xe=0;else{var rn=ft.K[0],ut=ft.w;for(fi[0]=ft.K[0][0],lt=1;lt<1*Kt;++lt)fi[lt]=ot(rn[ut+lt],fi[lt-1]);for(;lt<4*gn;++lt)fi[lt]=0;ft.K[0]=null,ft.K[0]=fi,Xe=1}}Fe=Xe;break;case 2:break;default:e(0)}H=Fe}}if(K=K[0],Y=Y[0],H&&Z(J,1)&&!(H=1<=(Le=Z(J,4))&&11>=Le)){N.a=3;break e}var tt;if(tt=H)t:{var vi,Ut,on,Bn=N,er=K,Cr=Y,ai=Le,qi=S,qr=Bn.m,Hi=Bn.s,fn=[null],Nn=1,_i=0,Dn=Js[ai];n:for(;;){if(qi&&Z(qr,1)){var tr=Z(qr,3)+2,bi=Ge(er,tr),In=Ge(Cr,tr),Vi=bi*In;if(!Is(bi,In,0,Bn,fn))break n;for(fn=fn[0],Hi.xc=tr,vi=0;vi<Vi;++vi){var Un=fn[vi]>>8&65535;fn[vi]=Un,Un>=Nn&&(Nn=Un+1)}}if(qr.h)break n;for(Ut=0;5>Ut;++Ut){var Gi=Il[Ut];!Ut&&0<ai&&(Gi+=1<<ai),_i<Gi&&(_i=Gi)}var Ki=u(Nn*Dn,O),Yn=Nn,Tn=u(Yn,Te);if(Tn==null)var Hr=null;else e(65536>=Yn),Hr=Tn;var Ti=o(_i);if(Hr==null||Ti==null||Ki==null){Bn.a=1;break n}var Dt=Ki;for(vi=on=0;vi<Nn;++vi){var Ot=Hr[vi],Cn=Ot.G,vs=Ot.H,na=0,os=1,$i=0;for(Ut=0;5>Ut;++Ut){Gi=Il[Ut],Cn[Ut]=Dt,vs[Ut]=on,!Ut&&0<ai&&(Gi+=1<<ai);r:{var Qo,Xo=Gi,xh=Bn,oi=Ti,nd=Dt,id=on,Th=0,yo=xh.m,V1=Z(yo,1);if(s(oi,0,0,Xo),V1){var rd=Z(yo,1)+1,sd=Z(yo,1),Nh=Z(yo,sd==0?1:8);oi[Nh]=1,rd==2&&(oi[Nh=Z(yo,8)]=1);var hr=1}else{var Ni=o(19),Ec=Z(yo,4)+4;if(19<Ec){xh.a=3;var Jo=0;break r}for(Qo=0;Qo<Ec;++Qo)Ni[bc[Qo]]=Z(yo,3);var yu=void 0,Ll=void 0,Ka=xh,Ih=Ni,vu=Xo,Ch=oi,Rh=0,vo=Ka.m,ad=8,od=u(128,O);i:for(;P(od,0,7,Ih,19);){if(Z(vo,1)){var $p=2+2*Z(vo,3);if((yu=2+Z(vo,$p))>vu)break i}else yu=vu;for(Ll=0;Ll<vu&&yu--;){ge(vo);var ld=od[0+(127&X(vo))];ce(vo,vo.u+ld.g);var Zo=ld.value;if(16>Zo)Ch[Ll++]=Zo,Zo!=0&&(ad=Zo);else{var Yp=Zo==16,Wp=Zo-16,Qp=du[Wp],ud=Z(vo,Qs[Wp])+Qp;if(Ll+ud>vu)break i;for(var Xp=Yp?ad:0;0<ud--;)Ch[Ll++]=Xp}}Rh=1;break i}Rh||(Ka.a=3),hr=Rh}(hr=hr&&!yo.h)&&(Th=P(nd,id,8,oi,Xo)),hr&&Th!=0?Jo=Th:(xh.a=3,Jo=0)}if(Jo==0)break n;if(os&&_h[Ut]==1&&(os=Dt[on].g==0),na+=Dt[on].g,on+=Jo,3>=Ut){var kl,Lh=Ti[0];for(kl=1;kl<Gi;++kl)Ti[kl]>Lh&&(Lh=Ti[kl]);$i+=Lh}}if(Ot.nd=os,Ot.Qb=0,os&&(Ot.qb=(Cn[3][vs[3]+0].value<<24|Cn[1][vs[1]+0].value<<16|Cn[2][vs[2]+0].value)>>>0,na==0&&256>Cn[0][vs[0]+0].value&&(Ot.Qb=1,Ot.qb+=Cn[0][vs[0]+0].value<<8)),Ot.jc=!Ot.Qb&&6>$i,Ot.jc){var Sc,$a=Ot;for(Sc=0;Sc<zo;++Sc){var _o=Sc,bo=$a.pd[_o],kh=$a.G[0][$a.H[0]+_o];256<=kh.value?(bo.g=kh.g+256,bo.value=kh.value):(bo.g=0,bo.value=0,_o>>=ni(kh,8,bo),_o>>=ni($a.G[1][$a.H[1]+_o],16,bo),_o>>=ni($a.G[2][$a.H[2]+_o],0,bo),ni($a.G[3][$a.H[3]+_o],24,bo))}}}Hi.vc=fn,Hi.Wb=Nn,Hi.Ya=Hr,Hi.yc=Ki,tt=1;break t}tt=0}if(!(H=tt)){N.a=3;break e}if(0<Le){if(se.ua=1<<Le,!te(se.Wa,Le)){N.a=1,H=0;break e}}else se.ua=0;var Dh=N,Dl=K,Jp=Y,_u=Dh.s,bu=_u.xc;if(Dh.c=Dl,Dh.i=Jp,_u.md=Ge(Dl,bu),_u.wc=bu==0?-1:(1<<bu)-1,S){N.xb=Go;break e}if((ye=o(K*Y))==null){N.a=1,H=0;break e}H=(H=Or(N,ye,0,K,Y,Y,null))&&!J.h;break e}return H?(B!=null?B[0]=ye:(e(ye==null),e(S)),N.$=0,S||fs(se)):fs(se),H}function Mr(p,v){var S=p.c*p.i,N=S+v+16*v;return e(p.c<=v),p.V=o(N),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function ha(p,v){var S=p.C,N=v-S,B=p.V,H=p.Ba+p.c*S;for(e(v<=p.l.o);0<N;){var K=16<N?16:N,Y=p.l.ma,J=p.l.width,se=J*K,ye=Y.ca,Le=Y.tb+J*S,ie=p.Ta,_e=p.Ua;_r(p,K,B,H),Ms(ie,_e,ye,Le,se),Kn(Y,S,S+K,ye,Le,J),N-=K,B+=K*p.c,S+=K}e(S==v),p.C=p.Ma=v}function Xr(){this.ub=this.yd=this.td=this.Rb=0}function br(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Jr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ds(){this.Yb=(function(){var p=[];return(function v(S,N,B){for(var H=B[N],K=0;K<H&&(S.push(B.length>N+1?[]:0),!(B.length<N+1));K++)v(S[K],N+1,B)})(p,0,[3,11]),p})()}function yi(){this.jb=o(3),this.Wc=c([4,8],ds),this.Xc=c([4,17],ds)}function Po(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function jr(){this.ld=this.La=this.dd=this.tc=0}function ps(){this.Na=this.la=0}function Cs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function to(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Oo(){this.uc=this.M=this.Nb=0,this.wa=Array(new jr),this.Y=0,this.ya=Array(new to),this.aa=0,this.l=new lr}function Mo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function yl(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new Xr,this.Kc=new br,this.ed=new Po,this.Qa=new Jr,this.Ic=this.$c=this.Aa=0,this.D=new Oo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,R),this.ia=0,this.pb=u(4,Cs),this.Pa=new yi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Mo),this.Hd=0,this.rb=Array(new ps),this.sb=0,this.wa=Array(new jr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new to),this.L=this.aa=0,this.gd=c([4,2],jr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zr(p,v){return 0>p?0:p>v?v:p}function lr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ei(){var p=new yl;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,js||(js=bn)),p}function dn(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function fa(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function ms(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return dn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,N=v.w,B=v.ha;if(4>B)return dn(p,7,"Truncated header.");var H=S[N+0]|S[N+1]<<8|S[N+2]<<16,K=p.Od;if(K.Rb=!(1&H),K.td=H>>1&7,K.yd=H>>4&1,K.ub=H>>5,3<K.td)return dn(p,3,"Incorrect keyframe parameters.");if(!K.yd)return dn(p,4,"Frame not displayable.");N+=3,B-=3;var Y=p.Kc;if(K.Rb){if(7>B)return dn(p,7,"cannot parse picture header");if(!fa(S,N,B))return dn(p,3,"Bad code word");Y.c=16383&(S[N+4]<<8|S[N+3]),Y.Td=S[N+4]>>6,Y.i=16383&(S[N+6]<<8|S[N+5]),Y.Ud=S[N+6]>>6,N+=7,B-=7,p.za=Y.c+15>>4,p.Ub=Y.i+15>>4,v.width=Y.c,v.height=Y.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((H=p.Pa).jb,0,255,H.jb.length),e((H=p.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if(K.ub>B)return dn(p,7,"bad partition length");le(H=p.m,S,N,K.ub),N+=K.ub,B-=K.ub,K.Rb&&(Y.Ld=xe(H),Y.Kd=xe(H)),Y=p.Qa;var J,se=p.Pa;if(e(H!=null),e(Y!=null),Y.Cb=xe(H),Y.Cb){if(Y.Bb=xe(H),xe(H)){for(Y.Fb=xe(H),J=0;4>J;++J)Y.Zb[J]=xe(H)?de(H,7):0;for(J=0;4>J;++J)Y.Lb[J]=xe(H)?de(H,6):0}if(Y.Bb)for(J=0;3>J;++J)se.jb[J]=xe(H)?oe(H,8):255}else Y.Bb=0;if(H.Ka)return dn(p,3,"cannot parse segment header");if((Y=p.ed).zd=xe(H),Y.Tb=oe(H,6),Y.wb=oe(H,3),Y.Pc=xe(H),Y.Pc&&xe(H)){for(se=0;4>se;++se)xe(H)&&(Y.vd[se]=de(H,6));for(se=0;4>se;++se)xe(H)&&(Y.od[se]=de(H,6))}if(p.L=Y.Tb==0?0:Y.zd?1:2,H.Ka)return dn(p,3,"cannot parse filter header");var ye=B;if(B=J=N,N=J+ye,Y=ye,p.Xb=(1<<oe(p.m,2))-1,ye<3*(se=p.Xb))S=7;else{for(J+=3*se,Y-=3*se,ye=0;ye<se;++ye){var Le=S[B+0]|S[B+1]<<8|S[B+2]<<16;Le>Y&&(Le=Y),le(p.Jc[+ye],S,J,Le),J+=Le,Y-=Le,B+=3}le(p.Jc[+se],S,J,Y),S=J<N?0:5}if(S!=0)return dn(p,S,"cannot parse partitions");for(S=oe(J=p.m,7),B=xe(J)?de(J,4):0,N=xe(J)?de(J,4):0,Y=xe(J)?de(J,4):0,se=xe(J)?de(J,4):0,J=xe(J)?de(J,4):0,ye=p.Qa,Le=0;4>Le;++Le){if(ye.Cb){var ie=ye.Zb[Le];ye.Fb||(ie+=S)}else{if(0<Le){p.pb[Le]=p.pb[0];continue}ie=S}var _e=p.pb[Le];_e.Sc[0]=Zs[Zr(ie+B,127)],_e.Sc[1]=ea[Zr(ie+0,127)],_e.Eb[0]=2*Zs[Zr(ie+N,127)],_e.Eb[1]=101581*ea[Zr(ie+Y,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=Zs[Zr(ie+se,117)],_e.Qc[1]=ea[Zr(ie+J,127)],_e.lc=ie+J}if(!K.Rb)return dn(p,4,"Not a key frame.");for(xe(H),K=p.Pa,S=0;4>S;++S){for(B=0;8>B;++B)for(N=0;3>N;++N)for(Y=0;11>Y;++Y)se=Me(H,hi[S][B][N][Y])?oe(H,8):Gp[S][B][N][Y],K.Wc[S][B].Yb[N][Y]=se;for(B=0;17>B;++B)K.Xc[S][B]=K.Wc[S][yn[B]]}return p.kc=xe(H),p.kc&&(p.Bd=oe(H,8)),p.cb=1}function bn(p,v,S,N,B,H,K){var Y=v[B].Yb[S];for(S=0;16>B;++B){if(!Me(p,Y[S+0]))return B;for(;!Me(p,Y[S+1]);)if(Y=v[++B].Yb[0],S=0,B==16)return 16;var J=v[B+1].Yb;if(Me(p,Y[S+2])){var se=p,ye=0;if(Me(se,(ie=Y)[(Le=S)+3]))if(Me(se,ie[Le+6])){for(Y=0,Le=2*(ye=Me(se,ie[Le+8]))+(ie=Me(se,ie[Le+9+ye])),ye=0,ie=Hp[Le];ie[Y];++Y)ye+=ye+Me(se,ie[Y]);ye+=3+(8<<Le)}else Me(se,ie[Le+7])?(ye=7+2*Me(se,165),ye+=Me(se,145)):ye=5+Me(se,159);else ye=Me(se,ie[Le+4])?3+Me(se,ie[Le+5]):2;Y=J[2]}else ye=1,Y=J[1];J=K+Zf[B],0>(se=p).b&&Re(se);var Le,ie=se.b,_e=(Le=se.Ca>>1)-(se.I>>ie)>>31;--se.b,se.Ca+=_e,se.Ca|=1,se.I-=(Le+1&_e)<<ie,H[J]=((ye^_e)-_e)*N[(0<B)+0]}return 16}function ka(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Di(p,v,S,N,B){B=p[v+S+32*N]+(B>>3),p[v+S+32*N]=-256&B?0>B?0:255:B}function ci(p,v,S,N,B,H){Di(p,v,0,S,N+B),Di(p,v,1,S,N+H),Di(p,v,2,S,N-H),Di(p,v,3,S,N-B)}function Si(p){return(20091*p>>16)+p}function no(p,v,S,N){var B,H=0,K=o(16);for(B=0;4>B;++B){var Y=p[v+0]+p[v+8],J=p[v+0]-p[v+8],se=(35468*p[v+4]>>16)-Si(p[v+12]),ye=Si(p[v+4])+(35468*p[v+12]>>16);K[H+0]=Y+ye,K[H+1]=J+se,K[H+2]=J-se,K[H+3]=Y-ye,H+=4,v++}for(B=H=0;4>B;++B)Y=(p=K[H+0]+4)+K[H+8],J=p-K[H+8],se=(35468*K[H+4]>>16)-Si(K[H+12]),Di(S,N,0,0,Y+(ye=Si(K[H+4])+(35468*K[H+12]>>16))),Di(S,N,1,0,J+se),Di(S,N,2,0,J-se),Di(S,N,3,0,Y-ye),H++,N+=32}function su(p,v,S,N){var B=p[v+0]+4,H=35468*p[v+4]>>16,K=Si(p[v+4]),Y=35468*p[v+1]>>16;ci(S,N,0,B+K,p=Si(p[v+1]),Y),ci(S,N,1,B+H,p,Y),ci(S,N,2,B-H,p,Y),ci(S,N,3,B-K,p,Y)}function vl(p,v,S,N,B){no(p,v,S,N),B&&no(p,v+16,S,N+4)}function wr(p,v,S,N){po(p,v+0,S,N,1),po(p,v+32,S,N+128,1)}function _l(p,v,S,N){var B;for(p=p[v+0]+4,B=0;4>B;++B)for(v=0;4>v;++v)Di(S,N,v,B,p)}function da(p,v,S,N){p[v+0]&&kn(p,v+0,S,N),p[v+16]&&kn(p,v+16,S,N+4),p[v+32]&&kn(p,v+32,S,N+128),p[v+48]&&kn(p,v+48,S,N+128+4)}function Ji(p,v,S,N){var B,H=o(16);for(B=0;4>B;++B){var K=p[v+0+B]+p[v+12+B],Y=p[v+4+B]+p[v+8+B],J=p[v+4+B]-p[v+8+B],se=p[v+0+B]-p[v+12+B];H[0+B]=K+Y,H[8+B]=K-Y,H[4+B]=se+J,H[12+B]=se-J}for(B=0;4>B;++B)K=(p=H[0+4*B]+3)+H[3+4*B],Y=H[1+4*B]+H[2+4*B],J=H[1+4*B]-H[2+4*B],se=p-H[3+4*B],S[N+0]=K+Y>>3,S[N+16]=se+J>>3,S[N+32]=K-Y>>3,S[N+48]=se-J>>3,N+=64}function Da(p,v,S){var N,B=v-32,H=Ur,K=255-p[B-1];for(N=0;N<S;++N){var Y,J=H,se=K+p[v-1];for(Y=0;Y<S;++Y)p[v+Y]=J[se+p[B+Y]];v+=32}}function bl(p,v){Da(p,v,4)}function wl(p,v){Da(p,v,8)}function jo(p,v){Da(p,v,16)}function Vo(p,v){var S;for(S=0;16>S;++S)i(p,v+32*S,p,v-32,16)}function pa(p,v){var S;for(S=16;0<S;--S)s(p,v,p[v-1],16),v+=32}function Vr(p,v,S){var N;for(N=0;16>N;++N)s(v,S+32*N,p,16)}function Rs(p,v){var S,N=16;for(S=0;16>S;++S)N+=p[v-1+32*S]+p[v+S-32];Vr(N>>5,p,v)}function ma(p,v){var S,N=8;for(S=0;16>S;++S)N+=p[v-1+32*S];Vr(N>>4,p,v)}function Fr(p,v){var S,N=8;for(S=0;16>S;++S)N+=p[v+S-32];Vr(N>>4,p,v)}function Pa(p,v){Vr(128,p,v)}function kt(p,v,S){return p+2*v+S+2>>2}function io(p,v){var S,N=v-32;for(N=new Uint8Array([kt(p[N-1],p[N+0],p[N+1]),kt(p[N+0],p[N+1],p[N+2]),kt(p[N+1],p[N+2],p[N+3]),kt(p[N+2],p[N+3],p[N+4])]),S=0;4>S;++S)i(p,v+32*S,N,0,N.length)}function Fo(p,v){var S=p[v-1],N=p[v-1+32],B=p[v-1+64],H=p[v-1+96];$e(p,v+0,16843009*kt(p[v-1-32],S,N)),$e(p,v+32,16843009*kt(S,N,B)),$e(p,v+64,16843009*kt(N,B,H)),$e(p,v+96,16843009*kt(B,H,H))}function Oa(p,v){var S,N=4;for(S=0;4>S;++S)N+=p[v+S-32]+p[v-1+32*S];for(N>>=3,S=0;4>S;++S)s(p,v+32*S,N,4)}function Zi(p,v){var S=p[v-1+0],N=p[v-1+32],B=p[v-1+64],H=p[v-1-32],K=p[v+0-32],Y=p[v+1-32],J=p[v+2-32],se=p[v+3-32];p[v+0+96]=kt(N,B,p[v-1+96]),p[v+1+96]=p[v+0+64]=kt(S,N,B),p[v+2+96]=p[v+1+64]=p[v+0+32]=kt(H,S,N),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=kt(K,H,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=kt(Y,K,H),p[v+3+32]=p[v+2+0]=kt(J,Y,K),p[v+3+0]=kt(se,J,Y)}function zi(p,v){var S=p[v+1-32],N=p[v+2-32],B=p[v+3-32],H=p[v+4-32],K=p[v+5-32],Y=p[v+6-32],J=p[v+7-32];p[v+0+0]=kt(p[v+0-32],S,N),p[v+1+0]=p[v+0+32]=kt(S,N,B),p[v+2+0]=p[v+1+32]=p[v+0+64]=kt(N,B,H),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=kt(B,H,K),p[v+3+32]=p[v+2+64]=p[v+1+96]=kt(H,K,Y),p[v+3+64]=p[v+2+96]=kt(K,Y,J),p[v+3+96]=kt(Y,J,J)}function ro(p,v){var S=p[v-1+0],N=p[v-1+32],B=p[v-1+64],H=p[v-1-32],K=p[v+0-32],Y=p[v+1-32],J=p[v+2-32],se=p[v+3-32];p[v+0+0]=p[v+1+64]=H+K+1>>1,p[v+1+0]=p[v+2+64]=K+Y+1>>1,p[v+2+0]=p[v+3+64]=Y+J+1>>1,p[v+3+0]=J+se+1>>1,p[v+0+96]=kt(B,N,S),p[v+0+64]=kt(N,S,H),p[v+0+32]=p[v+1+96]=kt(S,H,K),p[v+1+32]=p[v+2+96]=kt(H,K,Y),p[v+2+32]=p[v+3+96]=kt(K,Y,J),p[v+3+32]=kt(Y,J,se)}function Mn(p,v){var S=p[v+0-32],N=p[v+1-32],B=p[v+2-32],H=p[v+3-32],K=p[v+4-32],Y=p[v+5-32],J=p[v+6-32],se=p[v+7-32];p[v+0+0]=S+N+1>>1,p[v+1+0]=p[v+0+64]=N+B+1>>1,p[v+2+0]=p[v+1+64]=B+H+1>>1,p[v+3+0]=p[v+2+64]=H+K+1>>1,p[v+0+32]=kt(S,N,B),p[v+1+32]=p[v+0+96]=kt(N,B,H),p[v+2+32]=p[v+1+96]=kt(B,H,K),p[v+3+32]=p[v+2+96]=kt(H,K,Y),p[v+3+64]=kt(K,Y,J),p[v+3+96]=kt(Y,J,se)}function es(p,v){var S=p[v-1+0],N=p[v-1+32],B=p[v-1+64],H=p[v-1+96];p[v+0+0]=S+N+1>>1,p[v+2+0]=p[v+0+32]=N+B+1>>1,p[v+2+32]=p[v+0+64]=B+H+1>>1,p[v+1+0]=kt(S,N,B),p[v+3+0]=p[v+1+32]=kt(N,B,H),p[v+3+32]=p[v+1+64]=kt(B,H,H),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=H}function so(p,v){var S=p[v-1+0],N=p[v-1+32],B=p[v-1+64],H=p[v-1+96],K=p[v-1-32],Y=p[v+0-32],J=p[v+1-32],se=p[v+2-32];p[v+0+0]=p[v+2+32]=S+K+1>>1,p[v+0+32]=p[v+2+64]=N+S+1>>1,p[v+0+64]=p[v+2+96]=B+N+1>>1,p[v+0+96]=H+B+1>>1,p[v+3+0]=kt(Y,J,se),p[v+2+0]=kt(K,Y,J),p[v+1+0]=p[v+3+32]=kt(S,K,Y),p[v+1+32]=p[v+3+64]=kt(N,S,K),p[v+1+64]=p[v+3+96]=kt(B,N,S),p[v+1+96]=kt(H,B,N)}function Ls(p,v){var S;for(S=0;8>S;++S)i(p,v+32*S,p,v-32,8)}function Al(p,v){var S;for(S=0;8>S;++S)s(p,v,p[v-1],8),v+=32}function ts(p,v,S){var N;for(N=0;8>N;++N)s(v,S+32*N,p,8)}function ga(p,v){var S,N=8;for(S=0;8>S;++S)N+=p[v+S-32]+p[v-1+32*S];ts(N>>4,p,v)}function ns(p,v){var S,N=4;for(S=0;8>S;++S)N+=p[v+S-32];ts(N>>3,p,v)}function Pi(p,v){var S,N=4;for(S=0;8>S;++S)N+=p[v-1+32*S];ts(N>>3,p,v)}function zs(p,v){ts(128,p,v)}function ur(p,v,S){var N=p[v-S],B=p[v+0],H=3*(B-N)+mo[1020+p[v-2*S]-p[v+S]],K=yc[112+(H+4>>3)];p[v-S]=Ur[255+N+yc[112+(H+3>>3)]],p[v+0]=Ur[255+B-K]}function qs(p,v,S,N){var B=p[v+0],H=p[v+S];return xr[255+p[v-2*S]-p[v-S]]>N||xr[255+H-B]>N}function Ma(p,v,S,N){return 4*xr[255+p[v-S]-p[v+0]]+xr[255+p[v-2*S]-p[v+S]]<=N}function Hs(p,v,S,N,B){var H=p[v-3*S],K=p[v-2*S],Y=p[v-S],J=p[v+0],se=p[v+S],ye=p[v+2*S],Le=p[v+3*S];return 4*xr[255+Y-J]+xr[255+K-se]>N?0:xr[255+p[v-4*S]-H]<=B&&xr[255+H-K]<=B&&xr[255+K-Y]<=B&&xr[255+Le-ye]<=B&&xr[255+ye-se]<=B&&xr[255+se-J]<=B}function Gs(p,v,S,N){var B=2*N+1;for(N=0;16>N;++N)Ma(p,v+N,S,B)&&ur(p,v+N,S)}function gs(p,v,S,N){var B=2*N+1;for(N=0;16>N;++N)Ma(p,v+N*S,1,B)&&ur(p,v+N*S,1)}function ao(p,v,S,N){var B;for(B=3;0<B;--B)Gs(p,v+=4*S,S,N)}function Bo(p,v,S,N){var B;for(B=3;0<B;--B)gs(p,v+=4,S,N)}function is(p,v,S,N,B,H,K,Y){for(H=2*H+1;0<B--;){if(Hs(p,v,S,H,K))if(qs(p,v,S,Y))ur(p,v,S);else{var J=p,se=v,ye=S,Le=J[se-2*ye],ie=J[se-ye],_e=J[se+0],Se=J[se+ye],Fe=J[se+2*ye],Ie=27*(qe=mo[1020+3*(_e-ie)+mo[1020+Le-Se]])+63>>7,Ve=18*qe+63>>7,qe=9*qe+63>>7;J[se-3*ye]=Ur[255+J[se-3*ye]+qe],J[se-2*ye]=Ur[255+Le+Ve],J[se-ye]=Ur[255+ie+Ie],J[se+0]=Ur[255+_e-Ie],J[se+ye]=Ur[255+Se-Ve],J[se+2*ye]=Ur[255+Fe-qe]}v+=N}}function Ks(p,v,S,N,B,H,K,Y){for(H=2*H+1;0<B--;){if(Hs(p,v,S,H,K))if(qs(p,v,S,Y))ur(p,v,S);else{var J=p,se=v,ye=S,Le=J[se-ye],ie=J[se+0],_e=J[se+ye],Se=yc[112+(4+(Fe=3*(ie-Le))>>3)],Fe=yc[112+(Fe+3>>3)],Ie=Se+1>>1;J[se-2*ye]=Ur[255+J[se-2*ye]+Ie],J[se-ye]=Ur[255+Le+Fe],J[se+0]=Ur[255+ie-Se],J[se+ye]=Ur[255+_e-Ie]}v+=N}}function El(p,v,S,N,B,H){is(p,v,S,1,16,N,B,H)}function ks(p,v,S,N,B,H){is(p,v,1,S,16,N,B,H)}function Uo(p,v,S,N,B,H){var K;for(K=3;0<K;--K)Ks(p,v+=4*S,S,1,16,N,B,H)}function A(p,v,S,N,B,H){var K;for(K=3;0<K;--K)Ks(p,v+=4,1,S,16,N,B,H)}function F(p,v,S,N,B,H,K,Y){is(p,v,B,1,8,H,K,Y),is(S,N,B,1,8,H,K,Y)}function re(p,v,S,N,B,H,K,Y){is(p,v,1,B,8,H,K,Y),is(S,N,1,B,8,H,K,Y)}function pe(p,v,S,N,B,H,K,Y){Ks(p,v+4*B,B,1,8,H,K,Y),Ks(S,N+4*B,B,1,8,H,K,Y)}function be(p,v,S,N,B,H,K,Y){Ks(p,v+4,1,B,8,H,K,Y),Ks(S,N+4,1,B,8,H,K,Y)}function Be(){this.ba=new Et,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new un,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pt(){this.ua=0,this.Wa=new Wt,this.vb=new Wt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Te,this.yc=new O}function Pt(){this.xb=this.a=0,this.l=new lr,this.ca=new Et,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pt,this.ab=0,this.gc=u(4,ct),this.Oc=0}function Nt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mn(p,v,S,N,B,H,K){for(p=p==null?0:p[v+0],v=0;v<K;++v)B[H+v]=p+S[N+v]&255,p=B[H+v]}function ii(p,v,S,N,B,H,K){var Y;if(p==null)mn(null,null,S,N,B,H,K);else for(Y=0;Y<K;++Y)B[H+Y]=p[v+Y]+S[N+Y]&255}function Gn(p,v,S,N,B,H,K){if(p==null)mn(null,null,S,N,B,H,K);else{var Y,J=p[v+0],se=J,ye=J;for(Y=0;Y<K;++Y)se=ye+(J=p[v+Y])-se,ye=S[N+Y]+(-256&se?0>se?0:255:se)&255,se=J,B[H+Y]=ye}}function m(p,v,S,N){var B=v.width,H=v.o;if(e(p!=null&&v!=null),0>S||0>=N||S+N>H)return null;if(!p.Cc){if(p.ga==null){var K;if(p.ga=new Nt,(K=p.ga==null)||(K=v.width*v.o,e(p.Gb.length==0),p.Gb=o(K),p.Uc=0,p.Gb==null?K=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,K=1),K=!K),!K){K=p.ga;var Y=p.Fa,J=p.P,se=p.qc,ye=p.mb,Le=p.nb,ie=J+1,_e=se-1,Se=K.l;if(e(Y!=null&&ye!=null&&v!=null),go[0]=null,go[1]=mn,go[2]=ii,go[3]=Gn,K.ca=ye,K.tb=Le,K.c=v.width,K.i=v.height,e(0<K.c&&0<K.i),1>=se)v=0;else if(K.$a=3&Y[J+0],K.Z=Y[J+0]>>2&3,K.Lc=Y[J+0]>>4&3,J=Y[J+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||J)v=0;else if(Se.put=Tt,Se.ac=Xi,Se.bc=ca,Se.ma=K,Se.width=v.width,Se.height=v.height,Se.Da=v.Da,Se.v=v.v,Se.va=v.va,Se.j=v.j,Se.o=v.o,K.$a)e:{e(K.$a==1),v=La();t:for(;;){if(v==null){v=0;break e}if(e(K!=null),K.mc=v,v.c=K.c,v.i=K.i,v.l=K.l,v.l.ma=K,v.l.width=K.c,v.l.height=K.i,v.a=0,Ne(v.m,Y,ie,_e),!Is(K.c,K.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&On(v.s)?(K.ic=1,Y=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(Y),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(K.ic=0,v=Mr(v,K.c)),!v))break t;v=1;break e}K.mc=null,v=0}else v=_e>=K.c*K.i;K=!v}if(K)return null;p.ga.Lc!=1?p.Ga=0:N=H-S}e(p.ga!=null),e(S+N<=H);e:{if(v=(Y=p.ga).c,H=Y.l.o,Y.$a==0){if(ie=p.rc,_e=p.Vc,Se=p.Fa,J=p.P+1+S*v,se=p.mb,ye=p.nb+S*v,e(J<=p.P+p.qc),Y.Z!=0)for(e(go[Y.Z]!=null),K=0;K<N;++K)go[Y.Z](ie,_e,Se,J,se,ye,v),ie=se,_e=ye,ye+=v,J+=v;else for(K=0;K<N;++K)i(se,ye,Se,J,v),ie=se,_e=ye,ye+=v,J+=v;p.rc=ie,p.Vc=_e}else{if(e(Y.mc!=null),v=S+N,e((K=Y.mc)!=null),e(v<=K.i),K.C>=v)v=1;else if(Y.ic||Pe(),Y.ic){Y=K.V,ie=K.Ba,_e=K.c;var Fe=K.i,Ie=(Se=1,J=K.$/_e,se=K.$%_e,ye=K.m,Le=K.s,K.$),Ve=_e*Fe,qe=_e*v,Xe=Le.wc,We=Ie<qe?Bi(Le,se,J):null;e(Ie<=Ve),e(v<=Fe),e(On(Le));t:for(;;){for(;!ye.h&&Ie<qe;){if(se&Xe||(We=Bi(Le,se,J)),e(We!=null),ge(ye),256>(Fe=Hn(We.G[0],We.H[0],ye)))Y[ie+Ie]=Fe,++Ie,++se>=_e&&(se=0,++J<=v&&!(J%16)&&Ui(K,J));else{if(!(280>Fe)){Se=0;break t}Fe=Dr(Fe-256,ye);var mt,lt=Hn(We.G[4],We.H[4],ye);if(ge(ye),!(Ie>=(lt=Pr(_e,lt=Dr(lt,ye)))&&Ve-Ie>=Fe)){Se=0;break t}for(mt=0;mt<Fe;++mt)Y[ie+Ie+mt]=Y[ie+Ie+mt-lt];for(Ie+=Fe,se+=Fe;se>=_e;)se-=_e,++J<=v&&!(J%16)&&Ui(K,J);Ie<qe&&se&Xe&&(We=Bi(Le,se,J))}e(ye.h==ae(ye))}Ui(K,J>v?v:J);break t}!Se||ye.h&&Ie<Ve?(Se=0,K.a=ye.h?5:3):K.$=Ie,v=Se}else v=Or(K,K.V,K.Ba,K.c,K.i,v,ha);if(!v){N=0;break e}}S+N>=H&&(p.Cc=1),N=1}if(!N)return null;if(p.Cc&&((N=p.ga)!=null&&(N.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*B}function T(p,v,S,N,B,H){for(;0<B--;){var K,Y=p,J=v+(S?1:0),se=p,ye=v+(S?0:3);for(K=0;K<N;++K){var Le=se[ye+4*K];Le!=255&&(Le*=32897,Y[J+4*K+0]=Y[J+4*K+0]*Le>>23,Y[J+4*K+1]=Y[J+4*K+1]*Le>>23,Y[J+4*K+2]=Y[J+4*K+2]*Le>>23)}v+=H}}function k(p,v,S,N,B){for(;0<N--;){var H;for(H=0;H<S;++H){var K=p[v+2*H+0],Y=15&(se=p[v+2*H+1]),J=4369*Y,se=(240&se|se>>4)*J>>16;p[v+2*H+0]=(240&K|K>>4)*J>>16&240|(15&K|K<<4)*J>>16>>4&15,p[v+2*H+1]=240&se|Y}v+=B}}function W(p,v,S,N,B,H,K,Y){var J,se,ye=255;for(se=0;se<B;++se){for(J=0;J<N;++J){var Le=p[v+J];H[K+4*J]=Le,ye&=Le}v+=S,K+=Y}return ye!=255}function Ee(p,v,S,N,B){var H;for(H=0;H<B;++H)S[N+H]=p[v+H]>>8}function Pe(){Tl=T,Ys=k,pc=W,Ms=Ee}function Ze(p,v,S){C[p]=function(N,B,H,K,Y,J,se,ye,Le,ie,_e,Se,Fe,Ie,Ve,qe,Xe){var We,mt=Xe-1>>1,lt=Y[J+0]|se[ye+0]<<16,Kt=Le[ie+0]|_e[Se+0]<<16;e(N!=null);var ft=3*lt+Kt+131074>>2;for(v(N[B+0],255&ft,ft>>16,Fe,Ie),H!=null&&(ft=3*Kt+lt+131074>>2,v(H[K+0],255&ft,ft>>16,Ve,qe)),We=1;We<=mt;++We){var gn=Y[J+We]|se[ye+We]<<16,fi=Le[ie+We]|_e[Se+We]<<16,rn=lt+gn+Kt+fi+524296,ut=rn+2*(gn+Kt)>>3;ft=ut+lt>>1,lt=(rn=rn+2*(lt+fi)>>3)+gn>>1,v(N[B+2*We-1],255&ft,ft>>16,Fe,Ie+(2*We-1)*S),v(N[B+2*We-0],255&lt,lt>>16,Fe,Ie+(2*We-0)*S),H!=null&&(ft=rn+Kt>>1,lt=ut+fi>>1,v(H[K+2*We-1],255&ft,ft>>16,Ve,qe+(2*We-1)*S),v(H[K+2*We+0],255&lt,lt>>16,Ve,qe+(2*We+0)*S)),lt=gn,Kt=fi}1&Xe||(ft=3*lt+Kt+131074>>2,v(N[B+Xe-1],255&ft,ft>>16,Fe,Ie+(Xe-1)*S),H!=null&&(ft=3*Kt+lt+131074>>2,v(H[K+Xe-1],255&ft,ft>>16,Ve,qe+(Xe-1)*S)))}}function Ht(){Nr[mh]=Cl,Nr[zr]=pu,Nr[gh]=td,Nr[Ws]=wh,Nr[vc]=Ko,Nr[hu]=Ga,Nr[qo]=$o,Nr[_c]=pu,Nr[yh]=wh,Nr[fu]=Ko,Nr[vh]=Ga}function ri(p){return p&-16384?0>p?0:255:p>>Ah}function hn(p,v){return ri((19077*p>>8)+(26149*v>>8)-14234)}function jn(p,v,S){return ri((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function cr(p,v){return ri((19077*p>>8)+(33050*v>>8)-17685)}function Ar(p,v,S,N,B){N[B+0]=hn(p,S),N[B+1]=jn(p,v,S),N[B+2]=cr(p,v)}function $n(p,v,S,N,B){N[B+0]=cr(p,v),N[B+1]=jn(p,v,S),N[B+2]=hn(p,S)}function Er(p,v,S,N,B){var H=jn(p,v,S);v=H<<3&224|cr(p,v)>>3,N[B+0]=248&hn(p,S)|H>>5,N[B+1]=v}function Ds(p,v,S,N,B){var H=240&cr(p,v)|15;N[B+0]=240&hn(p,S)|jn(p,v,S)>>4,N[B+1]=H}function ja(p,v,S,N,B){N[B+0]=255,Ar(p,v,S,N,B+1)}function Va(p,v,S,N,B){$n(p,v,S,N,B),N[B+3]=255}function rs(p,v,S,N,B){Ar(p,v,S,N,B),N[B+3]=255}function oo(p,v,S){C[p]=function(N,B,H,K,Y,J,se,ye,Le){for(var ie=ye+(-2&Le)*S;ye!=ie;)v(N[B+0],H[K+0],Y[J+0],se,ye),v(N[B+1],H[K+0],Y[J+0],se,ye+S),B+=2,++K,++J,ye+=2*S;1&Le&&v(N[B+0],H[K+0],Y[J+0],se,ye)}}function au(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function hc(p,v,S,N,B){switch(p>>>30){case 3:po(v,S,N,B,0);break;case 2:Br(v,S,N,B);break;case 1:kn(v,S,N,B)}}function Ps(p,v){var S,N,B=v.M,H=v.Nb,K=p.oc,Y=p.pc+40,J=p.oc,se=p.pc+584,ye=p.oc,Le=p.pc+600;for(S=0;16>S;++S)K[Y+32*S-1]=129;for(S=0;8>S;++S)J[se+32*S-1]=129,ye[Le+32*S-1]=129;for(0<B?K[Y-1-32]=J[se-1-32]=ye[Le-1-32]=129:(s(K,Y-32-1,127,21),s(J,se-32-1,127,9),s(ye,Le-32-1,127,9)),N=0;N<p.za;++N){var ie=v.ya[v.aa+N];if(0<N){for(S=-1;16>S;++S)i(K,Y+32*S-4,K,Y+32*S+12,4);for(S=-1;8>S;++S)i(J,se+32*S-4,J,se+32*S+4,4),i(ye,Le+32*S-4,ye,Le+32*S+4,4)}var _e=p.Gd,Se=p.Hd+N,Fe=ie.ad,Ie=ie.Hc;if(0<B&&(i(K,Y-32,_e[Se].y,0,16),i(J,se-32,_e[Se].f,0,8),i(ye,Le-32,_e[Se].ea,0,8)),ie.Za){var Ve=K,qe=Y-32+16;for(0<B&&(N>=p.za-1?s(Ve,qe,_e[Se].y[15],4):i(Ve,qe,_e[Se+1].y,0,4)),S=0;4>S;S++)Ve[qe+128+S]=Ve[qe+256+S]=Ve[qe+384+S]=Ve[qe+0+S];for(S=0;16>S;++S,Ie<<=2)Ve=K,qe=Y+ji[S],xi[ie.Ob[S]](Ve,qe),hc(Ie,Fe,16*+S,Ve,qe)}else if(Ve=au(N,B,ie.Ob[0]),as[Ve](K,Y),Ie!=0)for(S=0;16>S;++S,Ie<<=2)hc(Ie,Fe,16*+S,K,Y+ji[S]);for(S=ie.Gc,Ve=au(N,B,ie.Dd),ba[Ve](J,se),ba[Ve](ye,Le),Ie=Fe,Ve=J,qe=se,255&(ie=0|S)&&(170&ie?$s(Ie,256,Ve,qe):xn(Ie,256,Ve,qe)),ie=ye,Ie=Le,255&(S>>=8)&&(170&S?$s(Fe,320,ie,Ie):xn(Fe,320,ie,Ie)),B<p.Ub-1&&(i(_e[Se].y,0,K,Y+480,16),i(_e[Se].f,0,J,se+224,8),i(_e[Se].ea,0,ye,Le+224,8)),S=8*H*p.B,_e=p.sa,Se=p.ta+16*N+16*H*p.R,Fe=p.qa,ie=p.ra+8*N+S,Ie=p.Ha,Ve=p.Ia+8*N+S,S=0;16>S;++S)i(_e,Se+S*p.R,K,Y+32*S,16);for(S=0;8>S;++S)i(Fe,ie+S*p.B,J,se+32*S,8),i(Ie,Ve+S*p.B,ye,Le+32*S,8)}}function ya(p,v,S,N,B,H,K,Y,J){var se=[0],ye=[0],Le=0,ie=J!=null?J.kd:0,_e=J??new Qe;if(p==null||12>S)return 7;_e.data=p,_e.w=v,_e.ha=S,v=[v],S=[S],_e.gb=[_e.gb];e:{var Se=v,Fe=S,Ie=_e.gb;if(e(p!=null),e(Fe!=null),e(Ie!=null),Ie[0]=0,12<=Fe[0]&&!t(p,Se[0],"RIFF")){if(t(p,Se[0]+8,"WEBP")){Ie=3;break e}var Ve=ht(p,Se[0]+4);if(12>Ve||4294967286<Ve){Ie=3;break e}if(ie&&Ve>Fe[0]-8){Ie=7;break e}Ie[0]=Ve,Se[0]+=12,Fe[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Ve=0<_e.gb[0],S=S[0];;){e:{var qe=p;Fe=v,Ie=S;var Xe=se,We=ye,mt=Se=[0];if((ft=Le=[Le])[0]=0,8>Ie[0])Ie=7;else{if(!t(qe,Fe[0],"VP8X")){if(ht(qe,Fe[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var lt=ht(qe,Fe[0]+8),Kt=1+rt(qe,Fe[0]+12);if(2147483648<=Kt*(qe=1+rt(qe,Fe[0]+15))){Ie=3;break e}mt!=null&&(mt[0]=lt),Xe!=null&&(Xe[0]=Kt),We!=null&&(We[0]=qe),Fe[0]+=18,Ie[0]-=18,ft[0]=1}Ie=0}}if(Le=Le[0],Se=Se[0],Ie!=0)return Ie;if(Fe=!!(2&Se),!Ve&&Le)return 3;if(H!=null&&(H[0]=!!(16&Se)),K!=null&&(K[0]=Fe),Y!=null&&(Y[0]=0),K=se[0],Se=ye[0],Le&&Fe&&J==null){Ie=0;break}if(4>S){Ie=7;break}if(Ve&&Le||!Ve&&!Le&&!t(p,v[0],"ALPH")){S=[S],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{lt=p,Ie=v,Ve=S;var ft=_e.gb;Xe=_e.na,We=_e.P,mt=_e.Sa,Kt=22,e(lt!=null),e(Ve!=null),qe=Ie[0];var gn=Ve[0];for(e(Xe!=null),e(mt!=null),Xe[0]=null,We[0]=null,mt[0]=0;;){if(Ie[0]=qe,Ve[0]=gn,8>gn){Ie=7;break e}var fi=ht(lt,qe+4);if(4294967286<fi){Ie=3;break e}var rn=8+fi+1&-2;if(Kt+=rn,0<ft&&Kt>ft){Ie=3;break e}if(!t(lt,qe,"VP8 ")||!t(lt,qe,"VP8L")){Ie=0;break e}if(gn[0]<rn){Ie=7;break e}t(lt,qe,"ALPH")||(Xe[0]=lt,We[0]=qe+8,mt[0]=fi),qe+=rn,gn-=rn}}if(S=S[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],Ie!=0)break}S=[S],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(ft=p,Ie=v,Ve=S,Xe=_e.gb[0],We=_e.Ja,mt=_e.xa,lt=Ie[0],qe=!t(ft,lt,"VP8 "),Kt=!t(ft,lt,"VP8L"),e(ft!=null),e(Ve!=null),e(We!=null),e(mt!=null),8>Ve[0])Ie=7;else{if(qe||Kt){if(ft=ht(ft,lt+4),12<=Xe&&ft>Xe-12){Ie=3;break e}if(ie&&ft>Ve[0]-8){Ie=7;break e}We[0]=ft,Ie[0]+=8,Ve[0]-=8,mt[0]=Kt}else mt[0]=5<=Ve[0]&&ft[lt+0]==47&&!(ft[lt+4]>>5),We[0]=Ve[0];Ie=0}if(S=S[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],v=v[0],Ie!=0)break;if(4294967286<_e.Ja)return 3;if(Y==null||Fe||(Y[0]=_e.xa?2:1),K=[K],Se=[Se],_e.xa){if(5>S){Ie=7;break}Y=K,ie=Se,Fe=H,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Ve=[0],ft=[0],Xe=[0],Ne(We=new G,p,v,S),Qr(We,Ve,ft,Xe)?(Y!=null&&(Y[0]=Ve[0]),ie!=null&&(ie[0]=ft[0]),Fe!=null&&(Fe[0]=Xe[0]),p=1):p=0):p=0}else{if(10>S){Ie=7;break}Y=Se,p==null||10>S||!fa(p,v+3,S-3)?p=0:(ie=p[v+0]|p[v+1]<<8|p[v+2]<<16,Fe=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=_e.Ja||!Fe||!p?p=0:(K&&(K[0]=Fe),Y&&(Y[0]=p),p=1))}if(!p||(K=K[0],Se=Se[0],Le&&(se[0]!=K||ye[0]!=Se)))return 3;J!=null&&(J[0]=_e,J.offset=v-J.w,e(4294967286>v-J.w),e(J.offset==J.ha-S));break}return Ie==0||Ie==7&&Le&&J==null?(H!=null&&(H[0]|=_e.na!=null&&0<_e.na.length),N!=null&&(N[0]=K),B!=null&&(B[0]=Se),0):Ie}function lo(p,v,S){var N=v.width,B=v.height,H=0,K=0,Y=N,J=B;if(v.Da=p!=null&&0<p.Da,v.Da&&(Y=p.cd,J=p.bd,H=p.v,K=p.j,11>S||(H&=-2,K&=-2),0>H||0>K||0>=Y||0>=J||H+Y>N||K+J>B))return 0;if(v.v=H,v.j=K,v.va=H+Y,v.o=K+J,v.U=Y,v.T=J,v.da=p!=null&&0<p.da,v.da){if(!Ct(Y,J,S=[p.ib],H=[p.hb]))return 0;v.ib=S[0],v.hb=H[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*N/4&&v.hb<3*B/4,v.Kb=0),1}function fc(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function va(p,v,S,N){if(N==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var B=S.cd,H=S.bd,K=-2&S.v,Y=-2&S.j;if(0>K||0>Y||0>=B||0>=H||K+B>p||Y+H>v)return 2;p=B,v=H}if(S.da){if(!Ct(p,v,B=[S.ib],H=[S.hb]))return 2;p=B[0],v=H[0]}}N.width=p,N.height=v;e:{var J=N.width,se=N.height;if(p=N.S,0>=J||0>=se||!(p>=mh&&13>p))p=2;else{if(0>=N.Rd&&N.sd==null){K=H=B=v=0;var ye=(Y=J*Sh[p])*se;if(11>p||(H=(se+1)/2*(v=(J+1)/2),p==12&&(K=(B=J)*se)),(se=o(ye+2*H+K))==null){p=1;break e}N.sd=se,11>p?((J=N.f.RGBA).eb=se,J.fb=0,J.A=Y,J.size=ye):((J=N.f.kb).y=se,J.O=0,J.fa=Y,J.Fd=ye,J.f=se,J.N=0+ye,J.Ab=v,J.Cd=H,J.ea=se,J.W=0+ye+H,J.Db=v,J.Ed=H,p==12&&(J.F=se,J.J=0+ye+2*H),J.Tc=K,J.lb=B)}if(v=1,B=N.S,H=N.width,K=N.height,B>=mh&&13>B)if(11>B)p=N.f.RGBA,v&=(Y=Math.abs(p.A))*(K-1)+H<=p.size,v&=Y>=H*Sh[B],v&=p.eb!=null;else{p=N.f.kb,Y=(H+1)/2,ye=(K+1)/2,J=Math.abs(p.fa),se=Math.abs(p.Ab);var Le=Math.abs(p.Db),ie=Math.abs(p.lb),_e=ie*(K-1)+H;v&=J*(K-1)+H<=p.Fd,v&=se*(ye-1)+Y<=p.Cd,v=(v&=Le*(ye-1)+Y<=p.Ed)&J>=H&se>=Y&Le>=Y,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,B==12&&(v&=ie>=H,v&=_e<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=fc(N)),p}var zo=64,ys=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ss=24,Fa=32,Ba=8,uo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];at("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(p){return p},C.Predictor2=function(p,v,S){return v[S+0]},C.Predictor3=function(p,v,S){return v[S+1]},C.Predictor4=function(p,v,S){return v[S-1]},C.Predictor5=function(p,v,S){return At(At(p,v[S+1]),v[S+0])},C.Predictor6=function(p,v,S){return At(p,v[S-1])},C.Predictor7=function(p,v,S){return At(p,v[S+0])},C.Predictor8=function(p,v,S){return At(v[S-1],v[S+0])},C.Predictor9=function(p,v,S){return At(v[S+0],v[S+1])},C.Predictor10=function(p,v,S){return At(At(p,v[S-1]),At(v[S+0],v[S+1]))},C.Predictor11=function(p,v,S){var N=v[S+0];return 0>=qt(N>>24&255,p>>24&255,(v=v[S-1])>>24&255)+qt(N>>16&255,p>>16&255,v>>16&255)+qt(N>>8&255,p>>8&255,v>>8&255)+qt(255&N,255&p,255&v)?N:p},C.Predictor12=function(p,v,S){var N=v[S+0];return(Qt((p>>24&255)+(N>>24&255)-((v=v[S-1])>>24&255))<<24|Qt((p>>16&255)+(N>>16&255)-(v>>16&255))<<16|Qt((p>>8&255)+(N>>8&255)-(v>>8&255))<<8|Qt((255&p)+(255&N)-(255&v)))>>>0},C.Predictor13=function(p,v,S){var N=v[S-1];return(nn((p=At(p,v[S+0]))>>24&255,N>>24&255)<<24|nn(p>>16&255,N>>16&255)<<16|nn(p>>8&255,N>>8&255)<<8|nn(255&p,255&N))>>>0};var ou=C.PredictorAdd0;C.PredictorAdd1=ln,at("Predictor2","PredictorAdd2"),at("Predictor3","PredictorAdd3"),at("Predictor4","PredictorAdd4"),at("Predictor5","PredictorAdd5"),at("Predictor6","PredictorAdd6"),at("Predictor7","PredictorAdd7"),at("Predictor8","PredictorAdd8"),at("Predictor9","PredictorAdd9"),at("Predictor10","PredictorAdd10"),at("Predictor11","PredictorAdd11"),at("Predictor12","PredictorAdd12"),at("Predictor13","PredictorAdd13");var lu=C.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Oi,fh=C.ColorIndexInverseTransform,Ua=C.MapARGB,za=C.VP8LColorIndexInverseTransformAlpha,Sr=C.MapAlpha,co=C.VP8LPredictorsAdd=[];co.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var uu,cu,ho,fo,qa,Sl,Os,po,Br,$s,kn,xn,si,Mi,Ha,_a,xl,dc,Qf,Up,zp,qp,Xf,Jf,Tl,Ys,pc,Ms,Nl=o(511),dh=o(2041),mc=o(225),gc=o(767),ph=0,mo=dh,yc=mc,Ur=gc,xr=Nl,mh=0,zr=1,gh=2,Ws=3,vc=4,hu=5,qo=6,_c=7,yh=8,fu=9,vh=10,Qs=[2,3,7],du=[3,3,11],Il=[280,256,256,256,40],_h=[0,1,1,1,0],bc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Js=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ho=8,Zs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ea=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],js=null,Hp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Zf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Gp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Tr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],hi=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],as=[],xi=[],ba=[],Go=1,ed=2,go=[],Nr=[];Ze("UpsampleRgbLinePair",Ar,3),Ze("UpsampleBgrLinePair",$n,3),Ze("UpsampleRgbaLinePair",rs,4),Ze("UpsampleBgraLinePair",Va,4),Ze("UpsampleArgbLinePair",ja,4),Ze("UpsampleRgba4444LinePair",Ds,2),Ze("UpsampleRgb565LinePair",Er,2);var Cl=C.UpsampleRgbLinePair,td=C.UpsampleBgrLinePair,pu=C.UpsampleRgbaLinePair,wh=C.UpsampleBgraLinePair,Ko=C.UpsampleArgbLinePair,Ga=C.UpsampleRgba4444LinePair,$o=C.UpsampleRgb565LinePair,ta=16,mu=1<<ta-1,Rl=-227,Yo=482,Ah=6,Wo=0,Ir=o(256),Eh=o(256),Kp=o(256),O1=o(256),M1=o(Yo-Rl),j1=o(Yo-Rl);oo("YuvToRgbRow",Ar,3),oo("YuvToBgrRow",$n,3),oo("YuvToRgbaRow",rs,4),oo("YuvToBgraRow",Va,4),oo("YuvToArgbRow",ja,4),oo("YuvToRgba4444Row",Ds,2),oo("YuvToRgb565Row",Er,2);var ji=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gu=[0,2,8],wc=[8,7,6,4,4,2,2,2,1,1,1,1],Ac=1;this.WebPDecodeRGBA=function(p,v,S,N,B){var H=zr,K=new Be,Y=new Et;K.ba=Y,Y.S=H,Y.width=[Y.width],Y.height=[Y.height];var J=Y.width,se=Y.height,ye=new bt;if(ye==null||p==null)var Le=2;else e(ye!=null),Le=ya(p,v,S,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Le!=0?J=0:(J!=null&&(J[0]=ye.width[0]),se!=null&&(se[0]=ye.height[0]),J=1),J){Y.width=Y.width[0],Y.height=Y.height[0],N!=null&&(N[0]=Y.width),B!=null&&(B[0]=Y.height);e:{if(N=new lr,(B=new Qe).data=p,B.w=v,B.ha=S,B.kd=1,v=[0],e(B!=null),((p=ya(B.data,B.w,B.ha,null,null,null,v,null,B))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(K!=null),N.data=B.data,N.w=B.w+B.offset,N.ha=B.ha-B.offset,N.put=Tt,N.ac=Xi,N.bc=ca,N.ma=K,B.xa){if((p=La())==null){K=1;break e}if((function(ie,_e){var Se=[0],Fe=[0],Ie=[0];t:for(;;){if(ie==null)return 0;if(_e==null)return ie.a=2,0;if(ie.l=_e,ie.a=0,Ne(ie.m,_e.data,_e.w,_e.ha),!Qr(ie.m,Se,Fe,Ie)){ie.a=3;break t}if(ie.xb=ed,_e.width=Se[0],_e.height=Fe[0],!Is(Se[0],Fe[0],1,ie,null))break t;return 1}return e(ie.a!=0),0})(p,N)){if(N=(v=va(N.width,N.height,K.Oa,K.ba))==0){t:{N=p;n:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((S=N.l)!=null),e((B=S.ma)!=null),N.xb!=0){if(N.ca=B.ba,N.tb=B.tb,e(N.ca!=null),!lo(B.Oa,S,Ws)){N.a=2;break n}if(!Mr(N,S.width)||S.da)break n;if((S.da||jt(N.ca.S))&&Pe(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&Pe()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!te(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Or(N,N.V,N.Ba,N.c,N.i,S.o,or))break n;B.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(v=p.a)}else v=p.a}else{if((p=new Ei)==null){K=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,ms(p,N)){if((v=va(N.width,N.height,K.Oa,K.ba))==0){if(p.Aa=0,S=K.Oa,e((B=p)!=null),S!=null){if(0<(J=0>(J=S.Md)?0:100<J?255:255*J/100)){for(se=ye=0;4>se;++se)12>(Le=B.pb[se]).lc&&(Le.ia=J*wc[0>Le.lc?0:Le.lc]>>3),ye|=Le.ia;ye&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=S.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(ie,_e){if(ie==null)return 0;if(_e==null)return dn(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!ms(ie,_e))return 0;if(e(ie.cb),_e.ac==null||_e.ac(_e)){_e.ob&&(ie.L=0);var Se=gu[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=_e.v-Se>>4,ie.zb=_e.j-Se>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=_e.o+15+Se>>4,ie.Hb=_e.va+15+Se>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var Fe=ie.ed;for(Se=0;4>Se;++Se){var Ie;if(ie.Qa.Cb){var Ve=ie.Qa.Lb[Se];ie.Qa.Fb||(Ve+=Fe.Tb)}else Ve=Fe.Tb;for(Ie=0;1>=Ie;++Ie){var qe=ie.gd[Se][Ie],Xe=Ve;if(Fe.Pc&&(Xe+=Fe.vd[0],Ie&&(Xe+=Fe.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var We=Xe;0<Fe.wb&&(We=4<Fe.wb?We>>2:We>>1)>9-Fe.wb&&(We=9-Fe.wb),1>We&&(We=1),qe.dd=We,qe.tc=2*Xe+We,qe.ld=40<=Xe?2:15<=Xe?1:0}else qe.tc=0;qe.La=Ie}}}Se=0}else dn(ie,6,"Frame setup failed"),Se=ie.a;if(Se=Se==0){if(Se){ie.$c=0,0<ie.Aa||(ie.Ic=Ac);t:{Se=ie.Ic,Fe=4*(We=ie.za);var mt=32*We,lt=We+1,Kt=0<ie.L?We*(0<ie.Aa?2:1):0,ft=(ie.Aa==2?2:1)*We;if((qe=Fe+832+(Ie=3*(16*Se+gu[ie.L])/2*mt)+(Ve=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=qe)Se=0;else{if(qe>ie.Vb){if(ie.Vb=0,ie.Ec=o(qe),ie.Fc=0,ie.Ec==null){Se=dn(ie,1,"no memory during frame initialization.");break t}ie.Vb=qe}qe=ie.Ec,Xe=ie.Fc,ie.Ac=qe,ie.Bc=Xe,Xe+=Fe,ie.Gd=u(mt,Mo),ie.Hd=0,ie.rb=u(lt+1,ps),ie.sb=1,ie.wa=Kt?u(Kt,jr):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=We),e(!0),ie.oc=qe,ie.pc=Xe,Xe+=832,ie.ya=u(ft,to),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=We),ie.R=16*We,ie.B=8*We,We=(mt=gu[ie.L])*ie.R,mt=mt/2*ie.B,ie.sa=qe,ie.ta=Xe+We,ie.qa=ie.sa,ie.ra=ie.ta+16*Se*ie.R+mt,ie.Ha=ie.qa,ie.Ia=ie.ra+8*Se*ie.B+mt,ie.$c=0,Xe+=Ie,ie.mb=Ve?qe:null,ie.nb=Ve?Xe:null,e(Xe+Ve<=ie.Fc+ie.Vb),ka(ie),s(ie.Ac,ie.Bc,0,Fe),Se=1}}if(Se){if(_e.ka=0,_e.y=ie.sa,_e.O=ie.ta,_e.f=ie.qa,_e.N=ie.ra,_e.ea=ie.Ha,_e.Vd=ie.Ia,_e.fa=ie.R,_e.Rc=ie.B,_e.F=null,_e.J=0,!ph){for(Se=-255;255>=Se;++Se)Nl[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)dh[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)mc[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)gc[255+Se]=0>Se?0:255<Se?255:Se;ph=1}Os=Ji,po=vl,$s=wr,kn=_l,xn=da,Br=su,si=El,Mi=ks,Ha=F,_a=re,xl=Uo,dc=A,Qf=pe,Up=be,zp=Gs,qp=gs,Xf=ao,Jf=Bo,xi[0]=Oa,xi[1]=bl,xi[2]=io,xi[3]=Fo,xi[4]=Zi,xi[5]=ro,xi[6]=zi,xi[7]=Mn,xi[8]=so,xi[9]=es,as[0]=Rs,as[1]=jo,as[2]=Vo,as[3]=pa,as[4]=ma,as[5]=Fr,as[6]=Pa,ba[0]=ga,ba[1]=wl,ba[2]=Ls,ba[3]=Al,ba[4]=Pi,ba[5]=ns,ba[6]=zs,Se=1}else Se=0}Se&&(Se=(function(gn,fi){for(gn.M=0;gn.M<gn.Va;++gn.M){var rn,ut=gn.Jc[gn.M&gn.Xb],tt=gn.m,vi=gn;for(rn=0;rn<vi.za;++rn){var Ut=tt,on=vi,Bn=on.Ac,er=on.Bc+4*rn,Cr=on.zc,ai=on.ya[on.aa+rn];if(on.Qa.Bb?ai.$b=Me(Ut,on.Pa.jb[0])?2+Me(Ut,on.Pa.jb[2]):Me(Ut,on.Pa.jb[1]):ai.$b=0,on.kc&&(ai.Ad=Me(Ut,on.Bd)),ai.Za=!Me(Ut,145)+0,ai.Za){var qi=ai.Ob,qr=0;for(on=0;4>on;++on){var Hi,fn=Cr[0+on];for(Hi=0;4>Hi;++Hi){fn=Tr[Bn[er+Hi]][fn];for(var Nn=bh[Me(Ut,fn[0])];0<Nn;)Nn=bh[2*Nn+Me(Ut,fn[Nn])];fn=-Nn,Bn[er+Hi]=fn}i(qi,qr,Bn,er,4),qr+=4,Cr[0+on]=fn}}else fn=Me(Ut,156)?Me(Ut,128)?1:3:Me(Ut,163)?2:0,ai.Ob[0]=fn,s(Bn,er,fn,4),s(Cr,0,fn,4);ai.Dd=Me(Ut,142)?Me(Ut,114)?Me(Ut,183)?1:3:2:0}if(vi.m.Ka)return dn(gn,7,"Premature end-of-partition0 encountered.");for(;gn.ja<gn.za;++gn.ja){if(vi=ut,Ut=(tt=gn).rb[tt.sb-1],Bn=tt.rb[tt.sb+tt.ja],rn=tt.ya[tt.aa+tt.ja],er=tt.kc?rn.Ad:0)Ut.la=Bn.la=0,rn.Za||(Ut.Na=Bn.Na=0),rn.Hc=0,rn.Gc=0,rn.ia=0;else{var _i,Dn;if(Ut=Bn,Bn=vi,er=tt.Pa.Xc,Cr=tt.ya[tt.aa+tt.ja],ai=tt.pb[Cr.$b],on=Cr.ad,qi=0,qr=tt.rb[tt.sb-1],fn=Hi=0,s(on,qi,0,384),Cr.Za)var tr=0,bi=er[3];else{Nn=o(16);var In=Ut.Na+qr.Na;if(In=js(Bn,er[1],In,ai.Eb,0,Nn,0),Ut.Na=qr.Na=(0<In)+0,1<In)Os(Nn,0,on,qi);else{var Vi=Nn[0]+3>>3;for(Nn=0;256>Nn;Nn+=16)on[qi+Nn]=Vi}tr=1,bi=er[0]}var Un=15&Ut.la,Gi=15&qr.la;for(Nn=0;4>Nn;++Nn){var Ki=1&Gi;for(Vi=Dn=0;4>Vi;++Vi)Un=Un>>1|(Ki=(In=js(Bn,bi,In=Ki+(1&Un),ai.Sc,tr,on,qi))>tr)<<7,Dn=Dn<<2|(3<In?3:1<In?2:on[qi+0]!=0),qi+=16;Un>>=4,Gi=Gi>>1|Ki<<7,Hi=(Hi<<8|Dn)>>>0}for(bi=Un,tr=Gi>>4,_i=0;4>_i;_i+=2){for(Dn=0,Un=Ut.la>>4+_i,Gi=qr.la>>4+_i,Nn=0;2>Nn;++Nn){for(Ki=1&Gi,Vi=0;2>Vi;++Vi)In=Ki+(1&Un),Un=Un>>1|(Ki=0<(In=js(Bn,er[2],In,ai.Qc,0,on,qi)))<<3,Dn=Dn<<2|(3<In?3:1<In?2:on[qi+0]!=0),qi+=16;Un>>=2,Gi=Gi>>1|Ki<<5}fn|=Dn<<4*_i,bi|=Un<<4<<_i,tr|=(240&Gi)<<_i}Ut.la=bi,qr.la=tr,Cr.Hc=Hi,Cr.Gc=fn,Cr.ia=43690&fn?0:ai.ia,er=!(Hi|fn)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[rn.$b][rn.Za],tt.wa[tt.Y+tt.ja].La|=!er),vi.Ka)return dn(gn,7,"Premature end-of-file encountered.")}if(ka(gn),tt=fi,vi=1,rn=(ut=gn).D,Ut=0<ut.L&&ut.M>=ut.zb&&ut.M<=ut.Va,ut.Aa==0)t:{if(rn.M=ut.M,rn.uc=Ut,Ps(ut,rn),vi=1,rn=(Dn=ut.D).Nb,Ut=(fn=gu[ut.L])*ut.R,Bn=fn/2*ut.B,Nn=16*rn*ut.R,Vi=8*rn*ut.B,er=ut.sa,Cr=ut.ta-Ut+Nn,ai=ut.qa,on=ut.ra-Bn+Vi,qi=ut.Ha,qr=ut.Ia-Bn+Vi,Gi=(Un=Dn.M)==0,Hi=Un>=ut.Va-1,ut.Aa==2&&Ps(ut,Dn),Dn.uc)for(Ki=(In=ut).D.M,e(In.D.uc),Dn=In.yb;Dn<In.Hb;++Dn){tr=Dn,bi=Ki;var Yn=(Tn=($i=In).D).Nb;_i=$i.R;var Tn=Tn.wa[Tn.Y+tr],Hr=$i.sa,Ti=$i.ta+16*Yn*_i+16*tr,Dt=Tn.dd,Ot=Tn.tc;if(Ot!=0)if(e(3<=Ot),$i.L==1)0<tr&&qp(Hr,Ti,_i,Ot+4),Tn.La&&Jf(Hr,Ti,_i,Ot),0<bi&&zp(Hr,Ti,_i,Ot+4),Tn.La&&Xf(Hr,Ti,_i,Ot);else{var Cn=$i.B,vs=$i.qa,na=$i.ra+8*Yn*Cn+8*tr,os=$i.Ha,$i=$i.Ia+8*Yn*Cn+8*tr;Yn=Tn.ld,0<tr&&(Mi(Hr,Ti,_i,Ot+4,Dt,Yn),_a(vs,na,os,$i,Cn,Ot+4,Dt,Yn)),Tn.La&&(dc(Hr,Ti,_i,Ot,Dt,Yn),Up(vs,na,os,$i,Cn,Ot,Dt,Yn)),0<bi&&(si(Hr,Ti,_i,Ot+4,Dt,Yn),Ha(vs,na,os,$i,Cn,Ot+4,Dt,Yn)),Tn.La&&(xl(Hr,Ti,_i,Ot,Dt,Yn),Qf(vs,na,os,$i,Cn,Ot,Dt,Yn))}}if(ut.ia&&alert("todo:DitherRow"),tt.put!=null){if(Dn=16*Un,Un=16*(Un+1),Gi?(tt.y=ut.sa,tt.O=ut.ta+Nn,tt.f=ut.qa,tt.N=ut.ra+Vi,tt.ea=ut.Ha,tt.W=ut.Ia+Vi):(Dn-=fn,tt.y=er,tt.O=Cr,tt.f=ai,tt.N=on,tt.ea=qi,tt.W=qr),Hi||(Un-=fn),Un>tt.o&&(Un=tt.o),tt.F=null,tt.J=null,ut.Fa!=null&&0<ut.Fa.length&&Dn<Un&&(tt.J=m(ut,tt,Dn,Un-Dn),tt.F=ut.mb,tt.F==null&&tt.F.length==0)){vi=dn(ut,3,"Could not decode alpha data.");break t}Dn<tt.j&&(fn=tt.j-Dn,Dn=tt.j,e(!(1&fn)),tt.O+=ut.R*fn,tt.N+=ut.B*(fn>>1),tt.W+=ut.B*(fn>>1),tt.F!=null&&(tt.J+=tt.width*fn)),Dn<Un&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=Dn-tt.j,tt.U=tt.va-tt.v,tt.T=Un-Dn,vi=tt.put(tt))}rn+1!=ut.Ic||Hi||(i(ut.sa,ut.ta-Ut,er,Cr+16*ut.R,Ut),i(ut.qa,ut.ra-Bn,ai,on+8*ut.B,Bn),i(ut.Ha,ut.Ia-Bn,qi,qr+8*ut.B,Bn))}if(!vi)return dn(gn,6,"Output aborted.")}return 1})(ie,_e)),_e.bc!=null&&_e.bc(_e),Se&=1}return Se?(ie.cb=0,Se):0})(p,N)||(v=p.a)}}else v=p.a}v==0&&K.Oa!=null&&K.Oa.fd&&(v=fc(K.ba))}K=v}H=K!=0?null:11>H?Y.f.RGBA.eb:Y.f.kb.y}else H=null;return H};var Sh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(C,q){for(var I="",P=0;P<4;P++)I+=String.fromCharCode(C[q++]);return I}function g(C,q){return C[q+0]|C[q+1]<<8}function w(C,q){return(C[q+0]|C[q+1]<<8|C[q+2]<<16)>>>0}function E(C,q){return(C[q+0]|C[q+1]<<8|C[q+2]<<16|C[q+3]<<24)>>>0}new f;var b=[0],j=[0],M=[],U=new f,V=n,ee=(function(C,q){var I={},P=0,O=!1,ue=0,Te=0;if(I.frames=[],!(function(R,G){for(var X=0;X<4;X++)if(R[G+X]!="RIFF".charCodeAt(X))return!0;return!1})(C,q)){for(E(C,q+=4),q+=8;q<C.length;){var le=d(C,q),oe=E(C,q+=4);q+=4;var de=oe+(1&oe);switch(le){case"VP8 ":case"VP8L":I.frames[P]===void 0&&(I.frames[P]={}),(Z=I.frames[P]).src_off=O?Te:q-8,Z.src_size=ue+oe+8,P++,O&&(O=!1,ue=0,Te=0);break;case"VP8X":(Z=I.header={}).feature_flags=C[q];var Ne=q+4;Z.canvas_width=1+w(C,Ne),Ne+=3,Z.canvas_height=1+w(C,Ne),Ne+=3;break;case"ALPH":O=!0,ue=de+8,Te=q-8;break;case"ANIM":(Z=I.header).bgcolor=E(C,q),Ne=q+4,Z.loop_count=g(C,Ne),Ne+=2;break;case"ANMF":var He,Z;(Z=I.frames[P]={}).offset_x=2*w(C,q),q+=3,Z.offset_y=2*w(C,q),q+=3,Z.width=1+w(C,q),q+=3,Z.height=1+w(C,q),q+=3,Z.duration=w(C,q),q+=3,He=C[q++],Z.dispose=1&He,Z.blend=He>>1&1}le!="ANMF"&&(q+=de)}return I}})(V,0);ee.response=V,ee.rgbaoutput=!0,ee.dataurl=!1;var Q=ee.header?ee.header:null,ne=ee.frames?ee.frames:null;if(Q){Q.loop_counter=Q.loop_count,b=[Q.canvas_height],j=[Q.canvas_width];for(var me=0;me<ne.length&&ne[me].blend!=0;me++);}var fe=ne[0],z=U.WebPDecodeRGBA(V,fe.src_off,fe.src_size,j,b);fe.rgba=z,fe.imgwidth=j[0],fe.imgheight=b[0];for(var D=0;D<j[0]*b[0]*4;D++)M[D]=z[D];return this.width=j,this.height=b,this.data=M,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function Gj(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function Kj(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,i,s,o,u,c,f,d,g=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new f,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new u,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new u,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new g}]);var w=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=R;Object.defineProperty(this,"pdf",{get:function(){return G}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(te){X=!!te}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(te){ae=!!te}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(te){isNaN(te)||(ce=te)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(te){isNaN(te)||(ge=te)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(te){var it;typeof te=="number"?it=[te,te,te,te]:((it=new Array(4))[0]=te[0],it[1]=te.length>=2?te[1]:it[0],it[2]=te.length>=3?te[2]:it[0],it[3]=te.length>=4?te[3]:it[1]),d.margin=it}});var Re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Re},set:function(te){Re=te}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(te){xe=te}});var Me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Me},set:function(te){Me=te}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(te){te instanceof g&&(d=te)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(te){d.path=te}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(te){$e=te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(te){var it;it=E(te),this.ctx.fillStyle=it.style,this.ctx.isFillTransparent=it.a===0,this.ctx.fillOpacity=it.a,this.pdf.setFillColor(it.r,it.g,it.b,{a:it.a}),this.pdf.setTextColor(it.r,it.g,it.b,{a:it.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(te){var it=E(te);this.ctx.strokeStyle=it.style,this.ctx.isStrokeTransparent=it.a===0,this.ctx.strokeOpacity=it.a,it.a===0?this.pdf.setDrawColor(255,255,255):(it.a,this.pdf.setDrawColor(it.r,it.g,it.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(te){["butt","round","square"].indexOf(te)!==-1&&(this.ctx.lineCap=te,this.pdf.setLineCap(te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(te){isNaN(te)||(this.ctx.lineWidth=te,this.pdf.setLineWidth(te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(te){["bevel","round","miter"].indexOf(te)!==-1&&(this.ctx.lineJoin=te,this.pdf.setLineJoin(te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(te){isNaN(te)||(this.ctx.miterLimit=te,this.pdf.setMiterLimit(te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(te){this.ctx.textBaseline=te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(te){["right","end","center","left","start"].indexOf(te)!==-1&&(this.ctx.textAlign=te)}});var et=null,rt=null,ht=null;Object.defineProperty(this,"fontFaces",{get:function(){return ht},set:function(te){et=null,rt=null,ht=te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(te){var it;if(this.ctx.font=te,(it=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(te))!==null){var Wt=it[1];it[2];var Ct=it[3],Ge=it[4];it[5];var ot=it[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(at==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var Lt=(function(_t){var mi,Zt,Rt=[],Bt=_t.trim();if(Bt==="")return z2;if(Bt in Q4)return[Q4[Bt]];for(;Bt!=="";){switch(Zt=null,mi=(Bt=J4(Bt)).charAt(0)){case'"':case"'":Zt=Fj(Bt.substring(1),mi);break;default:Zt=Bj(Bt)}if(Zt===null||(Rt.push(Zt[0]),(Bt=J4(Zt[1]))!==""&&Bt.charAt(0)!==","))return z2;Bt=Bt.replace(/^,/,"")}return Rt})(ot);if(this.fontFaces){var At=(function(_t,mi){var Zt=_t.getFontList(),Rt=JSON.stringify(Zt);if(et===null||rt!==Rt){var Bt=(function(Xt){var xt=[];return Object.keys(Xt).forEach(function(Ln){Xt[Ln].forEach(function(jt){var Vt=null;switch(jt){case"bold":Vt={family:Ln,weight:"bold"};break;case"italic":Vt={family:Ln,style:"italic"};break;case"bolditalic":Vt={family:Ln,weight:"bold",style:"italic"};break;case"":case"normal":Vt={family:Ln}}Vt!==null&&(Vt.ref={name:Ln,style:jt},xt.push(Vt))})}),xt})(Zt);et=(function(Xt){for(var xt={},Ln=0;Ln<Xt.length;++Ln){var jt=U2(Xt[Ln]),Vt=jt.family,Pn=jt.stretch,Et=jt.style,bt=jt.weight;xt[Vt]=xt[Vt]||{},xt[Vt][Pn]=xt[Vt][Pn]||{},xt[Vt][Pn][Et]=xt[Vt][Pn][Et]||{},xt[Vt][Pn][Et][bt]=jt}return xt})(Bt.concat(mi)),rt=Rt}return et})(this.pdf,this.fontFaces),Qt=Lt.map(function(_t){return{family:_t,stretch:"normal",weight:Ct,style:Wt}}),nn=(function(_t,mi,Zt){for(var Rt=(Zt=Zt||{}).defaultFontFamily||"times",Bt=Object.assign({},Vj,Zt.genericFontFamilies||{}),Xt=null,xt=null,Ln=0;Ln<mi.length;++Ln)if(Bt[(Xt=U2(mi[Ln])).family]&&(Xt.family=Bt[Xt.family]),_t.hasOwnProperty(Xt.family)){xt=_t[Xt.family];break}if(!(xt=xt||_t[Rt]))throw new Error("Could not find a font-family for the rule '"+X4(Xt)+"' and default family '"+Rt+"'.");if(xt=(function(jt,Vt){if(Vt[jt])return Vt[jt];var Pn=Fy[jt],Et=Pn<=Fy.normal?-1:1,bt=W4(Vt,t6,Pn,Et);if(!bt)throw new Error("Could not find a matching font-stretch value for "+jt);return bt})(Xt.stretch,xt),xt=(function(jt,Vt){if(Vt[jt])return Vt[jt];for(var Pn=e6[jt],Et=0;Et<Pn.length;++Et)if(Vt[Pn[Et]])return Vt[Pn[Et]];throw new Error("Could not find a matching font-style for "+jt)})(Xt.style,xt),!(xt=(function(jt,Vt){if(Vt[jt])return Vt[jt];if(jt===400&&Vt[500])return Vt[500];if(jt===500&&Vt[400])return Vt[400];var Pn=jj[jt],Et=W4(Vt,n6,Pn,jt<400?-1:1);if(!Et)throw new Error("Could not find a matching font-weight for value "+jt);return Et})(Xt.weight,xt)))throw new Error("Failed to resolve a font for the rule '"+X4(Xt)+"'.");return xt})(At,Qt);this.pdf.setFont(nn.ref.name,nn.ref.style)}else{var qt="";(Ct==="bold"||parseInt(Ct,10)>=700||Wt==="bold")&&(qt="bold"),Wt==="italic"&&(qt+="italic"),qt.length===0&&(qt="normal");for(var ln="",Jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<Lt.length;vt++){if(this.pdf.internal.getFont(Lt[vt],qt,{noFallback:!0,disableWarning:!0})!==void 0){ln=Lt[vt];break}if(qt==="bolditalic"&&this.pdf.internal.getFont(Lt[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ln=Lt[vt],qt="bold";else if(this.pdf.internal.getFont(Lt[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ln=Lt[vt],qt="normal";break}}if(ln===""){for(var Gt=0;Gt<Lt.length;Gt++)if(Jt[Lt[Gt]]){ln=Jt[Lt[Gt]];break}}ln=ln===""?"Times":ln,this.pdf.setFont(ln,qt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(te){this.ctx.globalCompositeOperation=te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(te){this.ctx.globalAlpha=te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(te){this.ctx.lineDashOffset=te,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(te){this.ctx.lineDash=te,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(te){this.ctx.ignoreClearRect=!!te}})};w.prototype.setLineDash=function(R){this.lineDash=R},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){ne.call(this,"fill",!1)},w.prototype.stroke=function(){ne.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(R,G){if(isNaN(R)||isNaN(G))throw pi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new u(R,G));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(R,G)},w.prototype.closePath=function(){var R=new u(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Jn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){R=new u(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(R.x,R.y)},w.prototype.lineTo=function(R,G){if(isNaN(R)||isNaN(G))throw pi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new u(R,G));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(X.x,X.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ne.call(this,null,!0)},w.prototype.quadraticCurveTo=function(R,G,X,ae){if(isNaN(X)||isNaN(ae)||isNaN(R)||isNaN(G))throw pi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new u(X,ae)),ge=this.ctx.transform.applyToPoint(new u(R,G));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new u(ce.x,ce.y)},w.prototype.bezierCurveTo=function(R,G,X,ae,ce,ge){if(isNaN(ce)||isNaN(ge)||isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ae))throw pi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Re=this.ctx.transform.applyToPoint(new u(ce,ge)),xe=this.ctx.transform.applyToPoint(new u(R,G)),Me=this.ctx.transform.applyToPoint(new u(X,ae));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Me.x,y2:Me.y,x:Re.x,y:Re.y}),this.ctx.lastPoint=new u(Re.x,Re.y)},w.prototype.arc=function(R,G,X,ae,ce,ge){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ae)||isNaN(ce))throw pi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Re=this.ctx.transform.applyToPoint(new u(R,G));R=Re.x,G=Re.y;var xe=this.ctx.transform.applyToPoint(new u(0,X)),Me=this.ctx.transform.applyToPoint(new u(0,0));X=Math.sqrt(Math.pow(xe.x-Me.x,2)+Math.pow(xe.y-Me.y,2))}Math.abs(ce-ae)>=2*Math.PI&&(ae=0,ce=2*Math.PI),this.path.push({type:"arc",x:R,y:G,radius:X,startAngle:ae,endAngle:ce,counterclockwise:ge})},w.prototype.arcTo=function(R,G,X,ae,ce){throw new Error("arcTo not implemented.")},w.prototype.rect=function(R,G,X,ae){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ae))throw pi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,G),this.lineTo(R+X,G),this.lineTo(R+X,G+ae),this.lineTo(R,G+ae),this.lineTo(R,G),this.lineTo(R+X,G),this.lineTo(R,G)},w.prototype.fillRect=function(R,G,X,ae){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ae))throw pi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,G,X,ae),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},w.prototype.strokeRect=function(R,G,X,ae){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ae))throw pi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(R,G,X,ae),this.stroke())},w.prototype.clearRect=function(R,G,X,ae){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ae))throw pi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,G,X,ae))},w.prototype.save=function(R){R=typeof R!="boolean"||R;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},w.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(G),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(R){var G,X,ae,ce;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))G=0,X=0,ae=0,ce=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(ge!==null)G=parseInt(ge[1]),X=parseInt(ge[2]),ae=parseInt(ge[3]),ce=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)G=parseInt(ge[1]),X=parseInt(ge[2]),ae=parseInt(ge[3]),ce=parseFloat(ge[4]);else{if(ce=1,typeof R=="string"&&R.charAt(0)!=="#"){var Re=new $T(R);R=Re.ok?Re.toHex():"#000000"}R.length===4?(G=R.substring(1,2),G+=G,X=R.substring(2,3),X+=X,ae=R.substring(3,4),ae+=ae):(G=R.substring(1,3),X=R.substring(3,5),ae=R.substring(5,7)),G=parseInt(G,16),X=parseInt(X,16),ae=parseInt(ae,16)}}return{r:G,g:X,b:ae,a:ce,style:R}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(R,G,X,ae){if(isNaN(G)||isNaN(X)||typeof R!="string")throw pi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!b.call(this)){var ce=de(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;P.call(this,{text:R,x:G,y:X,scale:ge,angle:ce,align:this.textAlign,maxWidth:ae})}},w.prototype.strokeText=function(R,G,X,ae){if(isNaN(G)||isNaN(X)||typeof R!="string")throw pi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){ae=isNaN(ae)?void 0:ae;var ce=de(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;P.call(this,{text:R,x:G,y:X,scale:ge,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ae})}},w.prototype.measureText=function(R){if(typeof R!="string")throw pi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,X=this.pdf.internal.scaleFactor,ae=G.internal.getFontSize(),ce=G.getStringUnitWidth(R)*ae/G.internal.scaleFactor;return new function(ge){var Re=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Re}}),this}({width:ce*=Math.round(96*X/72*1e4)/1e4})},w.prototype.scale=function(R,G){if(isNaN(R)||isNaN(G))throw pi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new f(R,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},w.prototype.rotate=function(R){if(isNaN(R))throw pi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new f(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},w.prototype.translate=function(R,G){if(isNaN(R)||isNaN(G))throw pi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new f(1,0,0,1,R,G);this.ctx.transform=this.ctx.transform.multiply(X)},w.prototype.transform=function(R,G,X,ae,ce,ge){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ae)||isNaN(ce)||isNaN(ge))throw pi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Re=new f(R,G,X,ae,ce,ge);this.ctx.transform=this.ctx.transform.multiply(Re)},w.prototype.setTransform=function(R,G,X,ae,ce,ge){R=isNaN(R)?1:R,G=isNaN(G)?0:G,X=isNaN(X)?0:X,ae=isNaN(ae)?1:ae,ce=isNaN(ce)?0:ce,ge=isNaN(ge)?0:ge,this.ctx.transform=new f(R,G,X,ae,ce,ge)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(R,G,X,ae,ce,ge,Re,xe,Me){var $e=this.pdf.getImageProperties(R),et=1,rt=1,ht=1,te=1;ae!==void 0&&xe!==void 0&&(ht=xe/ae,te=Me/ce,et=$e.width/ae*xe/ae,rt=$e.height/ce*Me/ce),ge===void 0&&(ge=G,Re=X,G=0,X=0),ae!==void 0&&xe===void 0&&(xe=ae,Me=ce),ae===void 0&&xe===void 0&&(xe=$e.width,Me=$e.height);var it=this.ctx.transform.decompose(),Wt=de(it.rotate.shx),Ct=new f,Ge=(Ct=(Ct=(Ct=Ct.multiply(it.translate)).multiply(it.skew)).multiply(it.scale)).applyToRectangle(new c(ge-G*ht,Re-X*te,ae*et,ce*rt));if(this.autoPaging){for(var ot,at=U.call(this,Ge),Lt=[],At=0;At<at.length;At+=1)Lt.indexOf(at[At])===-1&&Lt.push(at[At]);Q(Lt);for(var Qt=Lt[0],nn=Lt[Lt.length-1],qt=Qt;qt<nn+1;qt++){this.pdf.setPage(qt);var ln=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Jt=qt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=qt===1?0:vt+(qt-2)*Gt;if(this.ctx.clip_path.length!==0){var mi=this.path;ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ee(ot,this.posX+this.margin[3],-_t+Jt+this.ctx.prevPageLastElemOffset),me.call(this,"fill",!0),this.path=mi}var Zt=JSON.parse(JSON.stringify(Ge));Zt=ee([Zt],this.posX+this.margin[3],-_t+Jt+this.ctx.prevPageLastElemOffset)[0];var Rt=(qt>Qt||qt<nn)&&M.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ln,Gt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,Wt),Rt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(R,"JPEG",Ge.x,Ge.y,Ge.w,Ge.h,null,null,Wt)};var U=function(R,G,X){var ae=[];G=G||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":ae.push(Math.floor((R.y+ce)/X)+1);break;case"arc":ae.push(Math.floor((R.y+ce-R.radius)/X)+1),ae.push(Math.floor((R.y+ce+R.radius)/X)+1);break;case"qct":var ge=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);ae.push(Math.floor((ge.y+ce)/X)+1),ae.push(Math.floor((ge.y+ge.h+ce)/X)+1);break;case"bct":var Re=He(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);ae.push(Math.floor((Re.y+ce)/X)+1),ae.push(Math.floor((Re.y+Re.h+ce)/X)+1);break;case"rect":ae.push(Math.floor((R.y+ce)/X)+1),ae.push(Math.floor((R.y+R.h+ce)/X)+1)}for(var xe=0;xe<ae.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<ae[xe];)V.call(this);return ae},V=function(){var R=this.fillStyle,G=this.strokeStyle,X=this.font,ae=this.lineCap,ce=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=G,this.font=X,this.lineCap=ae,this.lineWidth=ce,this.lineJoin=ge},ee=function(R,G,X){for(var ae=0;ae<R.length;ae++)switch(R[ae].type){case"bct":R[ae].x2+=G,R[ae].y2+=X;case"qct":R[ae].x1+=G,R[ae].y1+=X;default:R[ae].x+=G,R[ae].y+=X}return R},Q=function(R){return R.sort(function(G,X){return G-X})},ne=function(R,G){var X=this.fillStyle,ae=this.strokeStyle,ce=this.lineCap,ge=this.lineWidth,Re=Math.abs(ge*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Me,$e,et=JSON.parse(JSON.stringify(this.path)),rt=JSON.parse(JSON.stringify(this.path)),ht=[],te=0;te<rt.length;te++)if(rt[te].x!==void 0)for(var it=U.call(this,rt[te]),Wt=0;Wt<it.length;Wt+=1)ht.indexOf(it[Wt])===-1&&ht.push(it[Wt]);for(var Ct=0;Ct<ht.length;Ct++)for(;this.pdf.internal.getNumberOfPages()<ht[Ct];)V.call(this);Q(ht);for(var Ge=ht[0],ot=ht[ht.length-1],at=Ge;at<ot+1;at++){this.pdf.setPage(at),this.fillStyle=X,this.strokeStyle=ae,this.lineCap=ce,this.lineWidth=Re,this.lineJoin=xe;var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=at===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qt=at===1?0:Qt+(at-2)*nn;if(this.ctx.clip_path.length!==0){var ln=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ee(Me,this.posX+this.margin[3],-qt+At+this.ctx.prevPageLastElemOffset),me.call(this,R,!0),this.path=ln}if($e=JSON.parse(JSON.stringify(et)),this.path=ee($e,this.posX+this.margin[3],-qt+At+this.ctx.prevPageLastElemOffset),G===!1||at===0){var Jt=(at>Ge||at<ot)&&M.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,nn,null).clip().discardPath()),me.call(this,R,G),Jt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}this.path=et}else this.lineWidth=Re,me.call(this,R,G),this.lineWidth=ge},me=function(R,G){if((R!=="stroke"||G||!j.call(this))&&(R==="stroke"||G||!b.call(this))){for(var X,ae,ce=[],ge=this.path,Re=0;Re<ge.length;Re++){var xe=ge[Re];switch(xe.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:xe,deltas:[],abs:[]});break;case"lt":var Me=ce.length;if(ge[Re-1]&&!isNaN(ge[Re-1].x)&&(X=[xe.x-ge[Re-1].x,xe.y-ge[Re-1].y],Me>0)){for(;Me>=0;Me--)if(ce[Me-1].close!==!0&&ce[Me-1].begin!==!0){ce[Me-1].deltas.push(X),ce[Me-1].abs.push(xe);break}}break;case"bct":X=[xe.x1-ge[Re-1].x,xe.y1-ge[Re-1].y,xe.x2-ge[Re-1].x,xe.y2-ge[Re-1].y,xe.x-ge[Re-1].x,xe.y-ge[Re-1].y],ce[ce.length-1].deltas.push(X);break;case"qct":var $e=ge[Re-1].x+2/3*(xe.x1-ge[Re-1].x),et=ge[Re-1].y+2/3*(xe.y1-ge[Re-1].y),rt=xe.x+2/3*(xe.x1-xe.x),ht=xe.y+2/3*(xe.y1-xe.y),te=xe.x,it=xe.y;X=[$e-ge[Re-1].x,et-ge[Re-1].y,rt-ge[Re-1].x,ht-ge[Re-1].y,te-ge[Re-1].x,it-ge[Re-1].y],ce[ce.length-1].deltas.push(X);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(xe)}}ae=G?null:R==="stroke"?"stroke":"fill";for(var Wt=!1,Ct=0;Ct<ce.length;Ct++)if(ce[Ct].arc)for(var Ge=ce[Ct].abs,ot=0;ot<Ge.length;ot++){var at=Ge[ot];at.type==="arc"?D.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,G,!Wt):O.call(this,at.x,at.y),Wt=!0}else if(ce[Ct].close===!0)this.pdf.internal.out("h"),Wt=!1;else if(ce[Ct].begin!==!0){var Lt=ce[Ct].start.x,At=ce[Ct].start.y;ue.call(this,ce[Ct].deltas,Lt,At),Wt=!0}ae&&C.call(this,ae),G&&q.call(this)}},fe=function(R){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-X;case"top":return R+G-X;case"hanging":return R+G-2*X;case"middle":return R+G/2-X;default:return R}},z=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(G,X){this.colorStops.push([G,X])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(R,G,X,ae,ce,ge,Re,xe,Me){for(var $e=le.call(this,X,ae,ce,ge),et=0;et<$e.length;et++){var rt=$e[et];et===0&&(Me?I.call(this,rt.x1+R,rt.y1+G):O.call(this,rt.x1+R,rt.y1+G)),Te.call(this,R,G,rt.x2,rt.y2,rt.x3,rt.y3,rt.x4,rt.y4)}xe?q.call(this):C.call(this,Re)},C=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(R,G){this.pdf.internal.out(t(R)+" "+i(G)+" m")},P=function(R){var G;switch(R.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var X,ae,ce,ge=this.pdf.getTextDimensions(R.text),Re=fe.call(this,R.y),xe=z.call(this,Re)-ge.h,Me=this.ctx.transform.applyToPoint(new u(R.x,Re));if(this.autoPaging){var $e=this.ctx.transform.decompose(),et=new f;et=(et=(et=et.multiply($e.translate)).multiply($e.skew)).multiply($e.scale);for(var rt=this.ctx.transform.applyToRectangle(new c(R.x,Re,ge.w,ge.h)),ht=et.applyToRectangle(new c(R.x,xe,ge.w,ge.h)),te=U.call(this,ht),it=[],Wt=0;Wt<te.length;Wt+=1)it.indexOf(te[Wt])===-1&&it.push(te[Wt]);Q(it);for(var Ct=it[0],Ge=it[it.length-1],ot=Ct;ot<Ge+1;ot++){this.pdf.setPage(ot);var at=ot===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[2],Qt=At-this.margin[0],nn=this.pdf.internal.pageSize.width-this.margin[1],qt=nn-this.margin[3],ln=ot===1?0:Lt+(ot-2)*Qt;if(this.ctx.clip_path.length!==0){var Jt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ee(X,this.posX+this.margin[3],-1*ln+at),me.call(this,"fill",!0),this.path=Jt}var vt=ee([JSON.parse(JSON.stringify(ht))],this.posX+this.margin[3],-ln+at+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*R.scale),ce=this.lineWidth,this.lineWidth=ce*R.scale);var Gt=this.autoPaging!=="text";if(Gt||vt.y+vt.h<=At){if(Gt||vt.y>=at&&vt.x<=nn){var _t=Gt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||nn-vt.x)[0],mi=ee([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-ln+at+this.ctx.prevPageLastElemOffset)[0],Zt=Gt&&(ot>Ct||ot<Ge)&&M.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,Qt,null).clip().discardPath()),this.pdf.text(_t,mi.x,mi.y,{angle:R.angle,align:G,renderingMode:R.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else vt.y<At&&(this.ctx.prevPageLastElemOffset+=At-vt.y);R.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ce)}}else R.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*R.scale),ce=this.lineWidth,this.lineWidth=ce*R.scale),this.pdf.text(R.text,Me.x+this.posX,Me.y+this.posY,{angle:R.angle,align:G,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ce)},O=function(R,G,X,ae){X=X||0,ae=ae||0,this.pdf.internal.out(t(R+X)+" "+i(G+ae)+" l")},ue=function(R,G,X){return this.pdf.lines(R,G,X,null,null)},Te=function(R,G,X,ae,ce,ge,Re,xe){this.pdf.internal.out([e(s(X+R)),e(o(ae+G)),e(s(ce+R)),e(o(ge+G)),e(s(Re+R)),e(o(xe+G)),"c"].join(" "))},le=function(R,G,X,ae){for(var ce=2*Math.PI,ge=Math.PI/2;G>X;)G-=ce;var Re=Math.abs(X-G);Re<ce&&ae&&(Re=ce-Re);for(var xe=[],Me=ae?-1:1,$e=G;Re>1e-5;){var et=$e+Me*Math.min(Re,ge);xe.push(oe.call(this,R,$e,et)),Re-=Math.abs(et-$e),$e=et}return xe},oe=function(R,G,X){var ae=(X-G)/2,ce=R*Math.cos(ae),ge=R*Math.sin(ae),Re=ce,xe=-ge,Me=Re*Re+xe*xe,$e=Me+Re*ce+xe*ge,et=4/3*(Math.sqrt(2*Me*$e)-$e)/(Re*ge-xe*ce),rt=Re-et*xe,ht=xe+et*Re,te=rt,it=-ht,Wt=ae+G,Ct=Math.cos(Wt),Ge=Math.sin(Wt);return{x1:R*Math.cos(G),y1:R*Math.sin(G),x2:rt*Ct-ht*Ge,y2:rt*Ge+ht*Ct,x3:te*Ct-it*Ge,y3:te*Ge+it*Ct,x4:R*Math.cos(X),y4:R*Math.sin(X)}},de=function(R){return 180*R/Math.PI},Ne=function(R,G,X,ae,ce,ge){var Re=R+.5*(X-R),xe=G+.5*(ae-G),Me=ce+.5*(X-ce),$e=ge+.5*(ae-ge),et=Math.min(R,ce,Re,Me),rt=Math.max(R,ce,Re,Me),ht=Math.min(G,ge,xe,$e),te=Math.max(G,ge,xe,$e);return new c(et,ht,rt-et,te-ht)},He=function(R,G,X,ae,ce,ge,Re,xe){var Me,$e,et,rt,ht,te,it,Wt,Ct,Ge,ot,at,Lt,At,Qt=X-R,nn=ae-G,qt=ce-X,ln=ge-ae,Jt=Re-ce,vt=xe-ge;for($e=0;$e<41;$e++)Ct=(it=(et=R+(Me=$e/40)*Qt)+Me*((ht=X+Me*qt)-et))+Me*(ht+Me*(ce+Me*Jt-ht)-it),Ge=(Wt=(rt=G+Me*nn)+Me*((te=ae+Me*ln)-rt))+Me*(te+Me*(ge+Me*vt-te)-Wt),$e==0?(ot=Ct,at=Ge,Lt=Ct,At=Ge):(ot=Math.min(ot,Ct),at=Math.min(at,Ge),Lt=Math.max(Lt,Ct),At=Math.max(At,Ge));return new c(Math.round(ot),Math.round(at),Math.round(Lt-ot),Math.round(At-at))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,G,X=(R=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:G}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(St.API),(function(n){var e=function(u){var c,f,d,g,w,E,b,j,M,U;for(f=[],d=0,g=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;g>d;d+=4)(w=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(E=(w=((w=((w=((w=(w-(U=w%85))/85)-(M=w%85))/85)-(j=w%85))/85)-(b=w%85))/85)%85,f.push(E+33,b+33,j+33,M+33,U+33)):f.push(122);return(function(V,ee){for(var Q=ee;Q>0;Q--)V.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,g,w,E=String,b="length",j=255,M="charCodeAt",U="slice",V="replace";for(u[U](-2),u=u[U](0,-2)[V](/\s/g,"")[V]("z","!!!!!"),d=[],g=0,w=(u+=c="uuuuu"[U](u[b]%5||5))[b];w>g;g+=5)f=52200625*(u[M](g)-33)+614125*(u[M](g+1)-33)+7225*(u[M](g+2)-33)+85*(u[M](g+3)-33)+(u[M](g+4)-33),d.push(j&f>>24,j&f>>16,j&f>>8,j&f);return(function(ee,Q){for(var ne=Q;ne>0;ne--)ee.pop()})(d,c[b]),E.fromCharCode.apply(E,d)},i=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=ky(c)).reduce(function(d,g){return d+String.fromCharCode(g)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=i(d),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:g.reverse().join(" ")}}})(St.API),(function(n){n.loadFile=function(e,t,i){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,g){var w=new XMLHttpRequest,E=0,b=function(j){var M=j.length,U=[],V=String.fromCharCode;for(E=0;E<M;E+=1)U.push(V(255&j.charCodeAt(E)));return U.join("")};if(w.open("GET",f,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?g(b(this.responseText)):g(void 0)}),w.send(null),d&&w.status===200)return b(w.responseText)})(s,o,u)}catch{}return c})(e,t,i)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(St.API),(function(n){function e(){return($t.html2canvas?Promise.resolve($t.html2canvas):E2(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return($t.DOMPurify?Promise.resolve($t.DOMPurify):E2(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var i=function(c){var f=Jn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(c,f){var d=document.createElement(c);for(var g in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[g]=f.style[g];return d},o=function c(f,d){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||g.appendChild(c(w,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),d);return(g=g.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,g=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=g,g)for(var b=0;b<g.length;++b){var j=g[b],M=j.src.find(function(U){return U.format==="truetype"});M&&d.addFont(M.url,j.ref.name,j.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,d.context2d.save(!0),f(this.prop.container,E)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(i(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,g){return Math.floor(d*g/72*96)}return this.then(function(){(c=c||St.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,g){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,g){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(g,w){return d.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(E){return d.updateProgress(null,g),E}).then(g,w).then(function(E){return d.updateProgress(1),E})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var g=this;c&&(c=c.bind(g)),f&&(f=f.bind(g));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),E=d.call(w,c,f);return u.convert(E,g.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,St.getPageSize=function(c,f,d){if(Jn(c)==="object"){var g=c;c=g.orientation,f=g.unit||f,d=g.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var w,E=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var j,M=0,U=0;if(b.hasOwnProperty(E))M=b[E][1]/w,U=b[E][0]/w;else try{M=d[1],U=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",U>M&&(j=U,U=M,M=j);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",M>U&&(j=U,U=M,M=j)}return{width:U,height:M,unit:f,k:w,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(U2):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(St.API),St.API.addJS=function(n){var e,t,i=n;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],c=i.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(o=0;o<d;o++){var w=t.internal.newObject();g.push(w);var E=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,s,o){var u={title:s,options:o,children:[]};return i==null&&(i=this.root),i.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var u=i.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,s){for(var o=0;o<s.children.length;o++)i.count++,this.count_r(i,s.children[o]);return i.count}}])})(St.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,s,o,u,c){var f,d=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(w){for(var E,b=256*w.charCodeAt(4)+w.charCodeAt(5),j=w.length,M={width:0,height:0,numcomponents:1},U=4;U<j;U+=2){if(U+=b,e.indexOf(w.charCodeAt(U+1))!==-1){E=256*w.charCodeAt(U+5)+w.charCodeAt(U+6),M={width:256*w.charCodeAt(U+7)+w.charCodeAt(U+8),height:E,numcomponents:w.charCodeAt(U+9)};break}b=256*w.charCodeAt(U+2)+w.charCodeAt(U+3)}return M})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:i,alias:s}}return g}})(St.API),St.API.processPNG=function(n,e,t,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=Ej(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,g=o.depth;s=d&&f===1?(function(D){for(var C=D.width,q=D.height,I=D.data,P=D.palette,O=D.depth,ue=!1,Te=[],le=[],oe=void 0,de=!1,Ne=0,He=0;He<P.length;He++){var Z=r4(P[He],4),R=Z[0],G=Z[1],X=Z[2],ae=Z[3];Te.push(R,G,X),ae!=null&&(ae===0?(Ne++,le.length<1&&le.push(He)):ae<255&&(de=!0))}if(de||Ne>1){ue=!0,le=void 0;var ce=C*q;oe=new Uint8Array(ce);for(var ge=new DataView(I.buffer),Re=0;Re<ce;Re++){var xe=q2(ge,Re,O),Me=r4(P[xe],4)[3];oe[Re]=Me}}else Ne===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ue?8:void 0,colorBytes:I,alphaBytes:oe,needSMask:ue,palette:Te,mask:le}})(o):f===2||f===4?(function(D){for(var C=D.data,q=D.width,I=D.height,P=D.channels,O=D.depth,ue=P===2?"DeviceGray":"DeviceRGB",Te=P-1,le=q*I,oe=Te,de=le*oe,Ne=1*le,He=Math.ceil(de*O/8),Z=Math.ceil(Ne*O/8),R=new Uint8Array(He),G=new Uint8Array(Z),X=new DataView(C.buffer),ae=new DataView(R.buffer),ce=new DataView(G.buffer),ge=!1,Re=0;Re<le;Re++){for(var xe=Re*P,Me=0;Me<oe;Me++)o3(ae,q2(X,xe+Me,O),Re*oe+Me,O);var $e=q2(X,xe+oe,O);$e<(1<<O)-1&&(ge=!0),o3(ce,$e,1*Re,O)}return{colorSpace:ue,colorsPerPixel:Te,sMaskBitsPerComponent:ge?O:void 0,colorBytes:R,alphaBytes:G,needSMask:ge}})(o):(function(D){var C=D.data,q=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?(function(I){for(var P=I.length,O=new Uint8Array(2*P),ue=new DataView(O.buffer,O.byteOffset,O.byteLength),Te=0;Te<P;Te++)ue.setUint16(2*Te,I[Te],!1);return O})(C):C,needSMask:!1}})(o);var w,E,b,j=s,M=j.colorSpace,U=j.colorsPerPixel,V=j.sMaskBitsPerComponent,ee=j.colorBytes,Q=j.alphaBytes,ne=j.needSMask,me=j.palette,fe=j.mask,z=null;return i!==St.API.image_compression.NONE&&typeof ky=="function"?(z=(function(D){var C;switch(D){case St.API.image_compression.FAST:C=11;break;case St.API.image_compression.MEDIUM:C=13;break;case St.API.image_compression.SLOW:C=14;break;default:C=12}return C})(i),w=this.decode.FLATE_DECODE,E="/Predictor ".concat(z," /Colors ").concat(U," /BitsPerComponent ").concat(g," /Columns ").concat(u),n=n3(ee,Math.ceil(u*U*g/8),U,g,i),ne&&(b=n3(Q,Math.ceil(u*V/8),1,V,i))):(w=void 0,E=void 0,n=ee,ne&&(b=Q)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:w,decodeParameters:E,transparency:fe,palette:me,sMask:b,predictor:z,width:u,height:c,bitsPerComponent:g,sMaskBitsPerComponent:V,colorSpace:M}}},(function(n){n.processGIF89A=function(e,t,i,s){var o=new Hj(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},g=new H2(100).encode(d,100);return n.processJPEG.call(this,g,t,i,s)},n.processGIF87A=n.processGIF89A})(St.API),So.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:i,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},So.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){pi.log("bit decode error:"+t)}},So.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},So.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+2*s*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},So.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*i;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},So.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,g=i*this.width*4+4*s;this.data[g]=f,this.data[g+1]=c,this.data[g+2]=u,this.data[g+3]=d}this.pos+=n}},So.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,g=s*this.width*4+4*o;this.data[g]=d,this.data[g+1]=f,this.data[g+2]=c,this.data[g+3]=255}this.pos+=n}},So.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=i,this.data[u+3]=255}this.pos+=this.width%4}},So.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=i,this.data[c+3]=u}},So.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,i,s){var o=new So(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new H2(100).encode(f,100);return n.processJPEG.call(this,d,t,i,s)}})(St.API),u3.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,i,s){var o=new u3(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new H2(100).encode(f,100);return n.processJPEG.call(this,d,t,i,s)}})(St.API),St.API.processRGBA=function(n,e,t){for(var i=n.data,s=i.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),c=0,f=0,d=0;d<s;d+=4){var g=i[d],w=i[d+1],E=i[d+2],b=i[d+3];o[c++]=g,o[c++]=w,o[c++]=E,u[f++]=b}var j=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:j,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},St.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ef=St.API,Qm=ef.getCharWidthsArray=function(n,e){var t,i,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,g=d.fof?d.fof:1,w=e.doKerning!==!1,E=0,b=n.length,j=0,M=c[0]||f,U=[];for(t=0;t<b;t++)i=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?U.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+u*(1e3/o)||0)/1e3):(E=w&&Jn(d[i])==="object"&&!isNaN(parseInt(d[i][j],10))?d[i][j]/g:0,U.push((c[i]||M)/f+E)),j=i;return U},Z4=ef.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return ef.processArabic&&(n=ef.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,s)/t:Qm.apply(this,arguments).reduce(function(o,u){return o+u},0)},e3=function(n,e,t,i){for(var s=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;s.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>i&&(s.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&s.push(n.slice(f,o)),s},t3=function(n,e,t){t||(t={});var i,s,o,u,c,f,d,g=[],w=[g],E=t.textIndent||0,b=0,j=0,M=n.split(" "),U=Qm.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?M[0].length+2:t.lineIndent||0){var V=Array(f).join(" "),ee=[];M.map(function(ne){(ne=ne.split(/\s*\n/)).length>1?ee=ee.concat(ne.map(function(me,fe){return(fe&&me.length?`
`:"")+me})):ee.push(ne[0])}),M=ee,f=Z4.apply(this,[V,t])}for(o=0,u=M.length;o<u;o++){var Q=0;if(i=M[o],f&&i[0]==`
`&&(i=i.substr(1),Q=1),E+b+(j=(s=Qm.apply(this,[i,t])).reduce(function(ne,me){return ne+me},0))>e||Q){if(j>e){for(c=e3.apply(this,[i,s,e-(E+b),e]),g.push(c.shift()),g=[c.pop()];c.length;)w.push([c.shift()]);j=s.slice(i.length-(g[0]?g[0].length:0)).reduce(function(ne,me){return ne+me},0)}else g=[i];w.push(g),E=j+f,b=U}else g.push(i),E+=b+j,b=U}return d=f?function(ne,me){return(me?V:"")+ne.join(" ")}:function(ne){return ne.join(" ")},w.map(d)},ef.splitTextToSize=function(n,e,t){var i,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var w=this.internal.getFont(g.fontName,g.fontStyle),E="Unicode";return w.metadata[E]?{widths:w.metadata[E].widths||{0:1},kerning:w.metadata[E].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=i.length;c<f;c++)d=d.concat(t3.apply(this,[i[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},s={},o=0;o<16;o++)i[t[o]]=e[o],s[e[o]]=t[o];var u=function(E){return"0x"+parseInt(E,10).toString(16)},c=n.__fontmetrics__.compress=function(E){var b,j,M,U,V=["{"];for(var ee in E){if(b=E[ee],isNaN(parseInt(ee,10))?j="'"+ee+"'":(ee=parseInt(ee,10),j=(j=u(ee).slice(2)).slice(0,-1)+s[j.slice(-1)]),typeof b=="number")b<0?(M=u(b).slice(3),U="-"):(M=u(b).slice(2),U=""),M=U+M.slice(0,-1)+s[M.slice(-1)];else{if(Jn(b)!=="object")throw new Error("Don't know what to do with value type "+Jn(b)+".");M=c(b)}V.push(j+M)}return V.push("}"),V.join("")},f=n.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,j,M,U,V={},ee=1,Q=V,ne=[],me="",fe="",z=E.length-1,D=1;D<z;D+=1)(U=E[D])=="'"?b?(M=b.join(""),b=void 0):b=[]:b?b.push(U):U=="{"?(ne.push([Q,M]),Q={},M=void 0):U=="}"?((j=ne.pop())[0][j[1]]=Q,M=void 0,Q=j[0]):U=="-"?ee=-1:M===void 0?i.hasOwnProperty(U)?(me+=i[U],M=parseInt(me,16)*ee,ee=1,me=""):me+=U:i.hasOwnProperty(U)?(fe+=i[U],Q[M]=parseInt(fe,16)*ee,ee=1,M=void 0,fe=""):fe+=U;return V},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(E){var b=E.font,j=w.Unicode[b.postScriptName];j&&(b.metadata.Unicode={},b.metadata.Unicode.widths=j.widths,b.metadata.Unicode.kerning=j.kerning);var M=g.Unicode[b.postScriptName];M&&(b.metadata.Unicode.encoding=M,b.encoding=M.codePages[0])}])})(St.API),(function(n){var e=function(t){for(var i=t.length,s=new Uint8Array(i),o=0;o<i;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var i=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(gg(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,i)}}])})(St),St.API.addSvgAsImage=function(n,e,t,i,s,o,u,c){if(isNaN(e)||isNaN(t))throw pi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw pi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return($t.canvg?Promise.resolve($t.canvg):E2(()=>import("./index.es-WHnDz1WM.js"),[])).catch(function(E){return Promise.reject(new Error("Could not load canvg: "+E))}).then(function(E){return E.default?E.default:E}).then(function(E){return E.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(g)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,t,i,s,u,c)})},St.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(e,t);return this},St.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,g=0,w=0;function E(j,M){var U,V=!1;for(U=0;U<j.length;U+=1)j[U]===M&&(V=!0);return V}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=c.length;for(w=0;w<b;w+=1)t[c[w]].value=t[c[w]].defaultValue,t[c[w]].explicitSet=!1}if(Jn(n)==="object"){for(s in n)if(o=n[s],E(c,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&E(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(i=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(g=0;g<o[d].length;g+=1)typeof o[d][g]!="number"&&(i=!1);i===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,M=[];for(j in t)t[j].explicitSet===!0&&(t[j].type==="name"?M.push("/"+j+" /"+t[j].value):M.push("/"+j+" "+t[j].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},St.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",Kj),this.internal.events.subscribe("postPutResources",Gj)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],w=0,E=o.length;w<E;++w){if(c=u.metadata.characterToGlyph(o.charCodeAt(w)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(w),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(d[4-c.length],c)}return g.join("")},i=function(o){var u,c,f,d,g,w,E;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,E=(c=Object.keys(o).sort(function(b,j){return b-j})).length;w<E;w++)u=c[w],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,E=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",j=0;j<E.length;j++)b+=String.fromCharCode(E[j]);var M=d();g({data:b,addLength1:!0,objectId:M}),f("endobj");var U=d();g({data:i(c.metadata.toUnicode),addLength1:!0,objectId:U}),f("endobj");var V=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+lf(c.fontName)),f("/FontFile2 "+M+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var ee=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+lf(c.fontName)),f("/FontDescriptor "+V+" 0 R"),f("/W "+n.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+U+" 0 R"),f("/BaseFont /"+lf(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+ee+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,E="",b=0;b<w.length;b++)E+=String.fromCharCode(w[b]);var j=d();g({data:E,addLength1:!0,objectId:j}),f("endobj");var M=d();g({data:i(c.metadata.toUnicode),addLength1:!0,objectId:M}),f("endobj");var U=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+j+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+lf(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var V=0;V<c.metadata.hmtx.widths.length;V++)c.metadata.hmtx.widths[V]=parseInt(c.metadata.hmtx.widths[V]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+lf(c.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,c=o.text||"",f=o.x,d=o.y,g=o.options||{},w=o.mutex||{},E=w.pdfEscape,b=w.activeFontKey,j=w.fonts,M=b,U="",V=0,ee="",Q=j[M].encoding;if(j[M].encoding!=="Identity-H")return{text:c,x:f,y:d,options:g,mutex:w};for(ee=c,M=b,Array.isArray(c)&&(ee=c[0]),V=0;V<ee.length;V+=1)j[M].metadata.hasOwnProperty("cmap")&&(u=j[M].metadata.cmap.unicode.codeMap[ee[V].charCodeAt(0)]),u||ee[V].charCodeAt(0)<256&&j[M].metadata.hasOwnProperty("Unicode")?U+=ee[V]:U+="";var ne="";return parseInt(M.slice(1))<14||Q==="WinAnsiEncoding"?ne=E(U,M).split("").map(function(me){return me.charCodeAt(0).toString(16)}).join(""):Q==="Identity-H"&&(ne=t(U,j[M])),w.isHex=!0,{text:ne,x:f,y:d,options:g,mutex:w}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([s(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(s(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=s(Object.assign({},f,{text:u})).text}])})(St),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(St.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var s,o,u,c,f,d,g,w=e,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],V=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ee=!1,Q=0;this.__bidiEngine__={};var ne=function(I){var P=I.charCodeAt(),O=P>>8,ue=M[O];return ue!==void 0?w[256*ue+(255&P)]:O===252||O===253?"AL":V.test(O)?"L":O===8?"R":"N"},me=function(I){for(var P,O=0;O<I.length;O++){if((P=ne(I.charAt(O)))==="L")return!1;if(P==="R")return!0}return!1},fe=function(I,P,O,ue){var Te,le,oe,de,Ne=P[ue];switch(Ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ee=!1;break;case"N":case"AN":break;case"EN":ee&&(Ne="AN");break;case"AL":ee=!0,Ne="R";break;case"WS":case"BN":Ne="N";break;case"CS":ue<1||ue+1>=P.length||(Te=O[ue-1])!=="EN"&&Te!=="AN"||(le=P[ue+1])!=="EN"&&le!=="AN"?Ne="N":ee&&(le="AN"),Ne=le===Te?le:"N";break;case"ES":Ne=(Te=ue>0?O[ue-1]:"B")==="EN"&&ue+1<P.length&&P[ue+1]==="EN"?"EN":"N";break;case"ET":if(ue>0&&O[ue-1]==="EN"){Ne="EN";break}if(ee){Ne="N";break}for(oe=ue+1,de=P.length;oe<de&&P[oe]==="ET";)oe++;Ne=oe<de&&P[oe]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(de=P.length,oe=ue+1;oe<de&&P[oe]==="NSM";)oe++;if(oe<de){var He=I[ue],Z=He>=1425&&He<=2303||He===64286;if(Te=P[oe],Z&&(Te==="R"||Te==="AL")){Ne="R";break}}}Ne=ue<1||(Te=P[ue-1])==="B"?"N":O[ue-1];break;case"B":ee=!1,s=!0,Ne=Q;break;case"S":o=!0,Ne="N"}return Ne},z=function(I,P,O){var ue=I.split("");return O&&D(ue,O,{hiLevel:Q}),ue.reverse(),P&&P.reverse(),ue.join("")},D=function(I,P,O){var ue,Te,le,oe,de,Ne=-1,He=I.length,Z=0,R=[],G=Q?b:E,X=[];for(ee=!1,s=!1,o=!1,Te=0;Te<He;Te++)X[Te]=ne(I[Te]);for(le=0;le<He;le++){if(de=Z,R[le]=fe(I,X,R,le),ue=240&(Z=G[de][j[R[le]]]),Z&=15,P[le]=oe=G[Z][5],ue>0)if(ue===16){for(Te=Ne;Te<le;Te++)P[Te]=1;Ne=-1}else Ne=-1;if(G[Z][6])Ne===-1&&(Ne=le);else if(Ne>-1){for(Te=Ne;Te<le;Te++)P[Te]=oe;Ne=-1}X[le]==="B"&&(P[le]=0),O.hiLevel|=oe}o&&(function(ae,ce,ge){for(var Re=0;Re<ge;Re++)if(ae[Re]==="S"){ce[Re]=Q;for(var xe=Re-1;xe>=0&&ae[xe]==="WS";xe--)ce[xe]=Q}})(X,P,He)},C=function(I,P,O,ue,Te){if(!(Te.hiLevel<I)){if(I===1&&Q===1&&!s)return P.reverse(),void(O&&O.reverse());for(var le,oe,de,Ne,He=P.length,Z=0;Z<He;){if(ue[Z]>=I){for(de=Z+1;de<He&&ue[de]>=I;)de++;for(Ne=Z,oe=de-1;Ne<oe;Ne++,oe--)le=P[Ne],P[Ne]=P[oe],P[oe]=le,O&&(le=O[Ne],O[Ne]=O[oe],O[oe]=le);Z=de}Z++}}},q=function(I,P,O){var ue=I.split(""),Te={hiLevel:Q};return O||(O=[]),D(ue,O,Te),(function(le,oe,de){if(de.hiLevel!==0&&g)for(var Ne,He=0;He<le.length;He++)oe[He]===1&&(Ne=U.indexOf(le[He]))>=0&&(le[He]=U[Ne+1])})(ue,O,Te),C(2,ue,P,O,Te),C(1,ue,P,O,Te),ue.join("")};return this.__bidiEngine__.doBidiReorder=function(I,P,O){if((function(Te,le){if(le)for(var oe=0;oe<Te.length;oe++)le[oe]=oe;c===void 0&&(c=me(Te)),d===void 0&&(d=me(Te))})(I,P),u||!f||d)if(u&&f&&c^d)Q=c?1:0,I=z(I,P,O);else if(!u&&f&&d)Q=c?1:0,I=q(I,P,O),I=z(I,P);else if(!u||c||f||d){if(u&&!f&&c^d)I=z(I,P),c?(Q=0,I=q(I,P,O)):(Q=1,I=q(I,P,O),I=z(I,P));else if(u&&c&&!f&&d)Q=1,I=q(I,P,O),I=z(I,P);else if(!u&&!f&&c^d){var ue=g;c?(Q=1,I=q(I,P,O),Q=0,g=!1,I=q(I,P,O),g=ue):(Q=0,I=q(I,P,O),I=z(I,P),Q=1,g=!1,I=q(I,P,O),g=ue,I=z(I,P))}}else Q=0,I=q(I,P,O);else Q=c?1:0,I=q(I,P,O);return I},this.__bidiEngine__.setOptions=function(I){I&&(u=I.isInputVisual,f=I.isOutputVisual,c=I.isInputRtl,d=I.isOutputRtl,g=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(u=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?u.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):u.push([t.doBidiReorder(s[c])]);i.text=u}else i.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(St),St.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new oc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new oV(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new $j(this.contents),this.head=new Wj(this),this.name=new eV(this),this.cmap=new r6(this),this.toUnicode={},this.hhea=new Qj(this),this.maxp=new tV(this),this.hmtx=new nV(this),this.post=new Jj(this),this.os2=new Xj(this),this.loca=new aV(this),this.glyf=new iV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var s,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n})();var Do,oc=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,s;for(s=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,s,o,u,c,f;return e=this.readByte(),t=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*s+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,s,o;for(o=[],i=0,s=e.length;i<s;i++)t=e[i],o.push(this.writeByte(t));return o},n})(),$j=(function(){var n;function e(t){var i,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,s,o,u,c,f,d,g,w,E,b,j,M;for(M in b=Object.keys(t).length,f=Math.log(2),w=16*Math.floor(Math.log(b)/f),u=Math.floor(w/f),g=16*b-w,(s=new oc).writeInt(this.scalarType),s.writeShort(b),s.writeShort(w),s.writeShort(u),s.writeShort(g),o=16*b,d=s.pos+o,c=null,j=[],t)for(E=t[M],s.writeString(M),s.writeInt(n(E)),s.writeInt(d),s.writeInt(E.length),j=j.concat(E),M==="head"&&(c=d),d+=E.length;d%4;)j.push(0),d++;return s.write(j),i=2981146554-n(s.data),s.pos=c+8,s.writeUInt32(i),s.data},n=function(t){var i,s,o,u;for(t=s6.call(t);t.length%4;)t.push(0);for(o=new oc(t),s=0,i=0,u=t.length;i<u;i=i+=4)s+=o.readUInt32();return 4294967295&s},e})(),Yj={}.hasOwnProperty,gl=function(n,e){for(var t in e)Yj.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};Do=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var Wj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gl(n,Do),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new oc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),c3=(function(){function n(e,t){var i,s,o,u,c,f,d,g,w,E,b,j,M,U,V,ee,Q;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),E=b/2,e.pos+=6,o=(function(){var ne,me;for(me=[],f=ne=0;0<=E?ne<E:ne>E;f=0<=E?++ne:--ne)me.push(e.readUInt16());return me})(),e.pos+=2,M=(function(){var ne,me;for(me=[],f=ne=0;0<=E?ne<E:ne>E;f=0<=E?++ne:--ne)me.push(e.readUInt16());return me})(),d=(function(){var ne,me;for(me=[],f=ne=0;0<=E?ne<E:ne>E;f=0<=E?++ne:--ne)me.push(e.readUInt16());return me})(),g=(function(){var ne,me;for(me=[],f=ne=0;0<=E?ne<E:ne>E;f=0<=E?++ne:--ne)me.push(e.readUInt16());return me})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var ne,me;for(me=[],f=ne=0;0<=s?ne<s:ne>s;f=0<=s?++ne:--ne)me.push(e.readUInt16());return me})(),f=V=0,Q=o.length;V<Q;f=++V)for(U=o[f],i=ee=j=M[f];j<=U?ee<=U:ee>=U;i=j<=U?++ee:--ee)g[f]===0?u=i+d[f]:(u=c[g[f]/2+(i-j)-(E-f)]||0)!==0&&(u+=d[f]),this.codeMap[i]=65535&u}e.pos=w}return n.encode=function(e,t){var i,s,o,u,c,f,d,g,w,E,b,j,M,U,V,ee,Q,ne,me,fe,z,D,C,q,I,P,O,ue,Te,le,oe,de,Ne,He,Z,R,G,X,ae,ce,ge,Re,xe,Me,$e,et;switch(ue=new oc,u=Object.keys(e).sort(function(rt,ht){return rt-ht}),t){case"macroman":for(M=0,U=(function(){var rt=[];for(j=0;j<256;++j)rt.push(0);return rt})(),ee={0:0},o={},Te=0,Ne=u.length;Te<Ne;Te++)ee[xe=e[s=u[Te]]]==null&&(ee[xe]=++M),o[s]={old:e[s],new:ee[e[s]]},U[s]=ee[e[s]];return ue.writeUInt16(1),ue.writeUInt16(0),ue.writeUInt32(12),ue.writeUInt16(0),ue.writeUInt16(262),ue.writeUInt16(0),ue.write(U),{charMap:o,subtable:ue.data,maxGlyphID:M+1};case"unicode":for(P=[],w=[],Q=0,ee={},i={},V=d=null,le=0,He=u.length;le<He;le++)ee[me=e[s=u[le]]]==null&&(ee[me]=++Q),i[s]={old:me,new:ee[me]},c=ee[me]-s,V!=null&&c===d||(V&&w.push(V),P.push(s),d=c),V=s;for(V&&w.push(V),w.push(65535),P.push(65535),q=2*(C=P.length),D=2*Math.pow(Math.log(C)/Math.LN2,2),E=Math.log(D/2)/Math.LN2,z=2*C-D,f=[],fe=[],b=[],j=oe=0,Z=P.length;oe<Z;j=++oe){if(I=P[j],g=w[j],I===65535){f.push(0),fe.push(0);break}if(I-(O=i[I].new)>=32768)for(f.push(0),fe.push(2*(b.length+C-j)),s=de=I;I<=g?de<=g:de>=g;s=I<=g?++de:--de)b.push(i[s].new);else f.push(O-I),fe.push(0)}for(ue.writeUInt16(3),ue.writeUInt16(1),ue.writeUInt32(12),ue.writeUInt16(4),ue.writeUInt16(16+8*C+2*b.length),ue.writeUInt16(0),ue.writeUInt16(q),ue.writeUInt16(D),ue.writeUInt16(E),ue.writeUInt16(z),ge=0,R=w.length;ge<R;ge++)s=w[ge],ue.writeUInt16(s);for(ue.writeUInt16(0),Re=0,G=P.length;Re<G;Re++)s=P[Re],ue.writeUInt16(s);for(Me=0,X=f.length;Me<X;Me++)c=f[Me],ue.writeUInt16(c);for($e=0,ae=fe.length;$e<ae;$e++)ne=fe[$e],ue.writeUInt16(ne);for(et=0,ce=b.length;et<ce;et++)M=b[et],ue.writeUInt16(M);return{charMap:i,subtable:ue.data,maxGlyphID:Q+1}}},n})(),r6=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gl(n,Do),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)t=new c3(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var i,s;return t==null&&(t="macroman"),i=c3.encode(e,t),(s=new oc).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},n})(),Qj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gl(n,Do),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),Xj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gl(n,Do),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),Jj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gl(n,Do),n.prototype.tag="post",n.prototype.parse=function(e){var t,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),Zj=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},eV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gl(n,Do),n.prototype.tag="name",n.prototype.parse=function(e){var t,i,s,o,u,c,f,d,g,w,E;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),i=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=g=0,w=i.length;g<w;o=++g)s=i[o],e.pos=s.offset,d=e.readString(s.length),u=new Zj(d,s),f[E=s.nameID]==null&&(f[E]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),tV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gl(n,Do),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),nV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gl(n,Do),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,i,s,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,g;for(g=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)g.push(e.readInt16());return g})(),this.widths=(function(){var d,g,w,E;for(E=[],d=0,g=(w=this.metrics).length;d<g;d++)o=w[d],E.push(o.advance);return E}).call(this),i=this.widths[this.widths.length-1],f=[],t=u=0;0<=s?u<s:u>s;t=0<=s?++u:--u)f.push(this.widths.push(i));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),s6=[].slice,iV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gl(n,Do),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,i,s,o,u,c,f,d,g,w;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,i=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,u=(c=new oc(t.read(s))).readShort(),d=c.readShort(),w=c.readShort(),f=c.readShort(),g=c.readShort(),this.cache[e]=u===-1?new sV(c,d,w,f,g):new rV(c,u,d,w,f,g),this.cache[e]))},n.prototype.encode=function(e,t,i){var s,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)s=e[t[c]],o.push(u.length),s&&(u=u.concat(s.encode(i)));return o.push(u.length),{table:u,offsets:o}},n})(),rV=(function(){function n(e,t,i,s,o,u){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),sV=(function(){function n(e,t,i,s,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new oc(s6.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),aV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gl(n,Do),n.prototype.tag="loca",n.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<i.length;++u)if(i[u]=s,o<t.length&&t[o]==u){++o,i[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var d=new Array(4*i.length),g=0;g<i.length;++g)d[4*g+3]=255&i[g],d[4*g+2]=(65280&i[g])>>8,d[4*g+1]=(16711680&i[g])>>16,d[4*g]=(4278190080&i[g])>>24;return d},n})(),oV=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[t],e[t]=s[i];return e},n.prototype.glyphsFor=function(e){var t,i,s,o,u,c,f;for(s={},u=0,c=e.length;u<c;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(i=s[o])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))i=f[o],s[o]=i;return s},n.prototype.encode=function(e,t){var i,s,o,u,c,f,d,g,w,E,b,j,M,U,V;for(s in i=r6.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),b={0:0},V=i.charMap)b[(f=V[s]).old]=f.new;for(j in E=i.maxGlyphID,u)j in b||(b[j]=E++);return g=(function(ee){var Q,ne;for(Q in ne={},ee)ne[ee[Q]]=Q;return ne})(b),w=Object.keys(g).sort(function(ee,Q){return ee-Q}),M=(function(){var ee,Q,ne;for(ne=[],ee=0,Q=w.length;ee<Q;ee++)c=w[ee],ne.push(g[c]);return ne})(),o=this.font.glyf.encode(u,M,b),d=this.font.loca.encode(o.offsets,M),U={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},n})();St.API.PDFObject=(function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,s,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)i=t[c],d.push(e.convert(i));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)u=t[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();function lV(){const{invoices:n,settings:e}=cc(),[t,i]=Ae.useState(""),[s,o]=Ae.useState(null),[u,c]=Ae.useState(""),f=["Car je connais les projets que j'ai forms sur vous, dit l'ternel, projets de paix et non de malheur.  Jrmie 29:11","L'ternel est mon berger: je ne manquerai de rien.  Psaumes 23:1","Je puis tout par celui qui me fortifie.  Philippiens 4:13","Ne crains rien, car je suis avec toi; ne promne pas des regards inquiets, car je suis ton Dieu.  sae 41:10","Confie-toi en l'ternel de tout ton cur, et ne t'appuie pas sur ta sagesse.  Proverbes 3:5","L'amour est patient, il est plein de bont.  1 Corinthiens 13:4","Soyez forts et prenez courage, car l'ternel votre Dieu est avec vous.  Josu 1:9","Recommandez vos uvres  l'ternel, et vos projets russiront.  Proverbes 16:3","Que tout ce que vous faites soit fait avec amour.  1 Corinthiens 16:14","L'ternel combattra pour vous; et vous, gardez le silence.  Exode 14:14"];Ae.useEffect(()=>(s?(c(f[Math.floor(Math.random()*f.length)]),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]);const d=n.filter(E=>E.clientName.toLowerCase().includes(t.toLowerCase())||E.number.toString().includes(t)),g=E=>{const b=new St;b.setFontSize(20),b.text("Heaven's Bakes & Sips",105,20,{align:"center"}),b.setFontSize(10),b.text("Facture N"+E.number,105,30,{align:"center"}),b.save(`Facture-${E.number}.pdf`)},w=E=>{const b=`Facture N${E.number} pour ${E.clientName}. Total: ${E.total} ${e.currency}. ${u}`,j=`https://wa.me/?text=${encodeURIComponent(b)}`;window.open(j,"_blank")};return x.jsxs("div",{className:"page factures-page",children:[x.jsxs("header",{className:"page-header-refined",children:[x.jsxs("div",{className:"search-container",children:[x.jsx(R1,{size:18,color:"#9EA3B0"}),x.jsx("input",{type:"text",placeholder:"Rechercher une facture...",value:t,onChange:E=>i(E.target.value),className:"search-input"})]}),x.jsx("button",{className:"profile-btn",children:x.jsx(Vf,{size:20,color:"#3D2C5E"})})]}),x.jsxs("div",{className:"factures-content",children:[x.jsxs("div",{className:"section-header-row",children:[x.jsx("h2",{className:"section-heading-serif",children:"Historique"}),x.jsxs("div",{className:"client-count-badge",children:[d.length," factures"]})]}),x.jsx("div",{className:"invoice-list-refined",children:d.map(E=>x.jsxs("div",{className:"invoice-card-refined",onClick:()=>o(E),children:[x.jsx("div",{className:"inv-icon-box",children:x.jsx(Gc,{size:24,color:"#9B7EC8"})}),x.jsxs("div",{className:"inv-info-refined",children:[x.jsx("h3",{className:"inv-client-name",children:E.clientName}),x.jsxs("div",{className:"inv-meta",children:[x.jsxs("span",{className:"inv-number",children:["#",E.number]}),x.jsx("span",{className:"inv-sep",children:""}),x.jsx("span",{className:"inv-date",children:new Date(E.date).toLocaleDateString()})]})]}),x.jsxs("div",{className:"inv-end",children:[x.jsxs("span",{className:"inv-total-refined",children:[E.total.toLocaleString()," ",x.jsx("small",{children:"FCFA"})]}),x.jsx(k1,{size:16,color:"#D1D5DB"})]})]},E.id))})]}),x.jsx(hf,{to:"/vente",className:"fab-add",children:x.jsx(L1,{size:24})}),s&&x.jsxs("div",{className:"invoice-detail-overlay anim-fade",children:[x.jsxs("div",{className:"ref-header",children:[x.jsx("button",{className:"close-btn-top",onClick:()=>o(null),children:""}),x.jsx("div",{className:"brand-logo-container",children:x.jsx("img",{src:"/logo.png",alt:"Logo",style:{height:64,width:"auto",marginBottom:12}})}),x.jsx("h1",{className:"brand-title",children:"HEAVEN'S BAKES & SIPS"}),x.jsx("p",{className:"brand-tagline",children:"Un nuage de douceur, une vague de fracheur."})]}),x.jsxs("div",{className:"ticket-card slide-up",children:[x.jsxs("div",{className:"ticket-header-row",children:[x.jsx("div",{className:"ticket-line"}),x.jsxs("span",{className:"ticket-title",children:["Facture #",s.number.toString().padStart(4,"0")]}),x.jsx("div",{className:"ticket-line"})]}),x.jsxs("div",{className:"ticket-meta-row",children:[x.jsxs("span",{className:"ticket-client",children:[x.jsx(Vf,{size:14})," ",s.clientName]}),x.jsx("span",{className:"ticket-date",children:new Date(s.date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),x.jsx("div",{className:"ticket-items",children:s.items.map((E,b)=>x.jsxs("div",{className:"ticket-item-row",children:[x.jsx("div",{className:"item-left",children:x.jsxs("span",{className:"item-name",children:[E.name," ",E.qty>1&&`(x${E.qty})`]})}),x.jsx("div",{className:"item-right",children:x.jsxs("span",{className:"item-price",children:[E.total.toLocaleString()," ",x.jsx("small",{children:"FCFA"})]})})]},b))}),x.jsx("div",{className:"ticket-divider"}),x.jsxs("div",{className:"ticket-total-row",children:[x.jsx("span",{className:"label-total",children:"Total"}),x.jsxs("span",{className:"value-total",children:[s.total.toLocaleString()," ",x.jsx("small",{children:"FCFA"})]})]}),s.notes&&x.jsxs("div",{className:"ticket-notes",children:[x.jsx("span",{className:"notes-label",children:"Notes:"}),x.jsx("p",{className:"notes-content",children:s.notes})]}),x.jsx("p",{className:"ticket-footer-quote",children:u})]}),x.jsxs("div",{className:"detail-actions",children:[x.jsxs("button",{className:"btn-outline-rounded",onClick:()=>g(s),children:[x.jsx(i5,{size:18})," Tlcharger PDF"]}),x.jsxs("button",{className:"btn-gold-rounded",onClick:()=>w(s),children:[x.jsx(pT,{size:18})," Partager WhatsApp"]})]})]})]})}function uV(){const{products:n,addProduct:e,updateProduct:t,deleteProduct:i,settings:s}=cc(),[o,u]=Ae.useState(!1),[c,f]=Ae.useState(null),[d,g]=Ae.useState(""),[w,E]=Ae.useState("all"),[b,j]=Ae.useState({name:"",category:"crepes-natures",price:"",stock:"",image:"/images/crepes-natures.png"}),M=[{label:"Crpes Natures",value:"/images/crepes-natures.png"},{label:"Crpes Panes",value:"/images/crepes-panees.png"},{label:"Crpes + Jus",value:"/images/combo-crepes-juice.png"},{label:"Jus Folr",value:"/images/juice-folere.png"},{label:"Jus Baobab",value:"/images/juice-baobab.png"},{label:"Jus Menthe",value:"/images/juice-menthe.png"}],U=fe=>{fe.preventDefault();const z={...b,price:parseInt(b.price),stock:parseInt(b.stock),active:!0};c?t(c,z):e(z),u(!1),ee()},V=fe=>{f(fe.id),j({name:fe.name,category:fe.category,price:fe.price,stock:fe.stock,image:fe.image}),u(!0)},ee=()=>{f(null),j({name:"",category:"crepes-natures",price:"",stock:"",image:"/images/crepes-natures.png"})},Q=fe=>{confirm("Supprimer ce produit ?")&&i(fe)},ne=[{id:"all",label:"Tout"},{id:"crepes-natures",label:"Crpes Natures"},{id:"crepes-panees",label:"Crpes Panes"},{id:"packs",label:"Packs"},{id:"jus",label:"Jus"}],me=fe=>n.filter(z=>z.category===fe&&z.name.toLowerCase().includes(d.toLowerCase()));return x.jsxs("div",{className:"page produits-page",children:[x.jsxs("header",{className:"page-header-refined",children:[x.jsxs("div",{className:"search-container",children:[x.jsx(R1,{size:18,color:"#9EA3B0"}),x.jsx("input",{type:"text",placeholder:"Rechercher...",value:d,onChange:fe=>g(fe.target.value),className:"search-input"})]}),x.jsx("button",{className:"profile-btn",children:x.jsx(Vf,{size:20,color:"#3D2C5E"})})]}),x.jsx("div",{className:"cat-tabs-container",children:x.jsx("div",{className:"cat-tabs",children:ne.map(fe=>x.jsx("button",{className:`cat-tab ${w===fe.id?"active":""}`,onClick:()=>E(fe.id),children:fe.label},fe.id))})}),x.jsxs("div",{className:"produits-content",children:[x.jsx("div",{className:"section-header-row",children:x.jsx("h2",{className:"section-heading-serif",children:"Produits & Stock"})}),x.jsx("div",{className:"prod-list-container",children:["crepes-natures","crepes-panees","packs"].map(fe=>{const z=me(fe);return w!=="all"&&w!==fe||z.length===0?null:z.map(D=>x.jsxs("div",{className:"prod-card-horizontal",children:[x.jsx("div",{className:"prod-card-img-wrapper",children:x.jsx("img",{src:D.image,alt:D.name,className:"prod-card-img"})}),x.jsxs("div",{className:"prod-card-info",children:[x.jsx("h3",{className:"prod-card-title",children:D.name}),x.jsxs("p",{className:`prod-card-stock ${D.stock<=s.lowStockThreshold?"stock-low":""}`,children:["Stock: ",D.stock,D.stock<=s.lowStockThreshold&&x.jsx("span",{children:" (Faible)"})]}),D.category.includes("pack")&&x.jsx("p",{className:"prod-card-sub",children:"+ cercles prcieux"})]}),x.jsxs("div",{className:"prod-card-end",children:[x.jsxs("span",{className:"prod-card-price",children:[D.price," ",x.jsx("small",{children:"FCFA"})]}),x.jsx("button",{className:"btn-action-pill",onClick:()=>V(D),children:"Editer"})]})]},D.id))})}),(w==="all"||w==="jus")&&me("jus").length>0&&x.jsxs("div",{className:"jus-section mt-6",children:[x.jsx("h2",{className:"section-heading-serif",children:"Jus Naturels"}),x.jsx("div",{className:"jus-grid",children:me("jus").map(fe=>x.jsxs("div",{className:"jus-card",children:[x.jsx("div",{className:"jus-img-box",children:x.jsx("img",{src:fe.image,alt:fe.name,className:"jus-img"})}),x.jsxs("div",{className:"jus-info",children:[x.jsx("h3",{className:"jus-name",children:fe.name}),x.jsxs("p",{className:"jus-stock mb-1",children:["Stock: ",fe.stock]}),x.jsxs("div",{className:"jus-price-row",children:[x.jsx("div",{className:"mini-diamond"}),x.jsxs("span",{children:[fe.price," FCFA"]})]}),x.jsx("button",{className:"btn-gold-pill",onClick:()=>V(fe),children:"Editer"})]})]},fe.id))})]})]}),x.jsx("button",{className:"fab-add",onClick:()=>{ee(),u(!0)},children:x.jsx(L1,{size:24})}),o&&x.jsx("div",{className:"modal-backdrop",onClick:()=>u(!1),children:x.jsxs("div",{className:"modal-card",onClick:fe=>fe.stopPropagation(),children:[x.jsx("div",{className:"modal-handle-bar",children:x.jsx("div",{className:"modal-handle-pill"})}),x.jsxs("div",{className:"modal-header",children:[x.jsx("h3",{className:"modal-title",children:c?"Modifier":"Nouveau Produit"}),x.jsx("button",{className:"icon-btn",onClick:()=>u(!1),children:""})]}),x.jsxs("form",{onSubmit:U,className:"modal-form-wrapper",children:[x.jsxs("div",{className:"modal-scroll-content",children:[x.jsxs("label",{className:"form-group",children:[x.jsx("span",{children:"Nom du produit"}),x.jsx("input",{required:!0,value:b.name,onChange:fe=>j({...b,name:fe.target.value}),className:"input",placeholder:"Ex: Crpes..."})]}),x.jsxs("div",{className:"form-row",children:[x.jsxs("label",{className:"form-group",children:[x.jsx("span",{children:"Prix"}),x.jsx("input",{type:"number",required:!0,value:b.price,onChange:fe=>j({...b,price:fe.target.value}),className:"input",placeholder:"0"})]}),x.jsxs("label",{className:"form-group",children:[x.jsx("span",{children:"Stock Initial"}),x.jsx("input",{type:"number",required:!0,value:b.stock,onChange:fe=>j({...b,stock:fe.target.value}),className:"input",placeholder:"0"})]})]}),x.jsxs("label",{className:"form-group",children:[x.jsx("span",{children:"Catgorie"}),x.jsxs("select",{value:b.category,onChange:fe=>j({...b,category:fe.target.value}),className:"input",children:[x.jsx("option",{value:"crepes-natures",children:"Crpes Natures"}),x.jsx("option",{value:"crepes-panees",children:"Crpes Panes"}),x.jsx("option",{value:"packs",children:"Packs"}),x.jsx("option",{value:"jus",children:"Jus"})]})]}),x.jsxs("label",{className:"form-group",children:[x.jsx("span",{children:"Image"}),x.jsx("div",{className:"image-selector",children:M.map(fe=>x.jsx("div",{className:`image-option ${b.image===fe.value?"selected":""}`,onClick:()=>j({...b,image:fe.value}),children:x.jsx("img",{src:fe.value,alt:fe.label})},fe.value))})]}),c&&x.jsx("div",{className:"form-group",children:x.jsxs("button",{type:"button",className:"btn btn-danger-outline",onClick:()=>Q(c),children:[x.jsx(n5,{size:16})," Supprimer"]})})]}),x.jsx("div",{className:"modal-footer",children:x.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:c?"Mettre  jour":"Ajouter le produit"})})]})]})})]})}function cV(){const{clients:n,invoices:e,addClient:t,updateClient:i,deleteClient:s,settings:o}=cc(),[u,c]=Ae.useState(""),[f,d]=Ae.useState(!1),[g,w]=Ae.useState({name:"",phone:""}),[E,b]=Ae.useState(null),[j,M]=Ae.useState("details"),U=n.filter(C=>C.name.toLowerCase().includes(u.toLowerCase())||C.phone.includes(u)),V=C=>{C.preventDefault(),E?i(E,g):t(g),d(!1),ne()},ee=C=>{b(C.id),w({name:C.name,phone:C.phone}),M("details"),d(!0)},Q=()=>{confirm("Voulez-vous vraiment supprimer ce client ?")&&(s(E),d(!1),ne())},ne=()=>{b(null),w({name:"",phone:""}),M("details")},me=C=>{const q=e.filter(ue=>ue.clientId===C),I=q.length,P=q.reduce((ue,Te)=>ue+(Te.total||0),0),O=q.reduce((ue,Te)=>{var le;return ue+(((le=Te.items)==null?void 0:le.reduce((oe,de)=>oe+(de.qty||0),0))||0)},0);return{totalOrders:I,totalSpent:P,totalItems:O}},fe=C=>e.filter(q=>q.clientId===C).sort((q,I)=>new Date(I.date)-new Date(q.date)),z=C=>{const q=new St;q.setFontSize(20),q.text("Heaven's Bakes & Sips",105,20,{align:"center"}),q.setFontSize(10),q.text("Facture N"+C.number,105,30,{align:"center"}),q.save(`Facture-${C.number}.pdf`)},D=C=>{const q=`Facture N${C.number} pour ${C.clientName}. Total: ${C.total} ${o.currency}.`,I=`https://wa.me/?text=${encodeURIComponent(q)}`;window.open(I,"_blank")};return x.jsxs("div",{className:"page clients-page",children:[x.jsxs("header",{className:"page-header-refined",children:[x.jsxs("div",{className:"search-container",children:[x.jsx(R1,{size:18,color:"#9EA3B0"}),x.jsx("input",{type:"text",placeholder:"Rechercher un client...",value:u,onChange:C=>c(C.target.value),className:"search-input"})]}),x.jsx("button",{className:"profile-btn",children:x.jsx(Vf,{size:20,color:"#3D2C5E"})})]}),x.jsxs("div",{className:"clients-content",children:[x.jsxs("div",{className:"section-header-row",children:[x.jsx("h2",{className:"section-heading-serif",children:"Clients Fidles"}),x.jsxs("div",{className:"client-count-badge",children:[U.length," clients"]})]}),x.jsx("div",{className:"client-list",children:U.map(C=>{const q=me(C.id);return x.jsxs("div",{className:"client-card-refined",onClick:()=>ee(C),children:[x.jsxs("div",{className:"client-card-main",children:[x.jsx("div",{className:"client-avatar-refined",children:x.jsx("span",{className:"avatar-initial",children:C.name.charAt(0).toUpperCase()})}),x.jsxs("div",{className:"client-info",children:[x.jsx("h3",{className:"client-name",children:C.name}),x.jsxs("div",{className:"client-meta-row",children:[x.jsxs("span",{className:"client-phone",children:[x.jsx(a9,{size:10})," ",C.phone||""]}),C.loyaltyStamps>0&&x.jsxs("div",{className:"loyalty-pill-small",children:[x.jsx(t9,{size:10,filled:!0,color:"#E8C547"}),x.jsxs("span",{children:[C.loyaltyStamps," pts"]})]})]})]}),x.jsx("button",{className:"btn-action-icon",onClick:I=>{I.stopPropagation(),ee(C)},children:x.jsx(e9,{size:18})})]}),x.jsxs("div",{className:"client-stats-row",children:[x.jsxs("div",{className:"client-stat-item",children:[x.jsx("span",{className:"stat-label",children:"Commandes"}),x.jsxs("span",{className:"stat-value",children:[x.jsx(Gc,{size:12})," ",q.totalOrders]})]}),x.jsxs("div",{className:"client-stat-item",children:[x.jsx("span",{className:"stat-label",children:"Articles"}),x.jsxs("span",{className:"stat-value",children:[x.jsx(t5,{size:12})," ",q.totalItems]})]}),x.jsxs("div",{className:"client-stat-item highlight",children:[x.jsx("span",{className:"stat-label",children:"Total Achat"}),x.jsxs("span",{className:"stat-value",children:[q.totalSpent.toLocaleString()," ",x.jsx("small",{children:"FCFA"})]})]})]})]},C.id)})})]}),x.jsx("button",{className:"fab-add",onClick:()=>{ne(),d(!0)},children:x.jsx(L1,{size:24})}),f&&x.jsx("div",{className:"modal-backdrop",onClick:()=>d(!1),children:x.jsxs("div",{className:"modal-card",onClick:C=>C.stopPropagation(),children:[x.jsx("div",{className:"modal-handle-bar",children:x.jsx("div",{className:"modal-handle-pill"})}),x.jsxs("div",{className:"modal-header",children:[x.jsx("h3",{className:"modal-title",children:j==="history"?"Historique Achats":E?"Modifier client":"Nouveau Client"}),x.jsx("button",{className:"icon-btn",onClick:()=>d(!1),children:""})]}),j==="details"?x.jsxs("form",{onSubmit:V,className:"modal-form-wrapper",children:[x.jsxs("div",{className:"modal-scroll-content",children:[x.jsxs("div",{className:"form-group",children:[x.jsx("span",{children:"Nom complet"}),x.jsx("input",{required:!0,value:g.name,onChange:C=>w({...g,name:C.target.value}),className:"input",placeholder:"Ex: Marie Kouam"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("span",{children:"Tlphone"}),x.jsx("input",{type:"tel",value:g.phone,onChange:C=>w({...g,phone:C.target.value}),className:"input",placeholder:"Ex: 699..."})]}),E&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"stats-summary-box",children:[x.jsx("h4",{children:"Rsum des achats"}),x.jsxs("div",{className:"stats-grid-2",children:[x.jsxs("div",{className:"stat-box",children:[x.jsx("span",{className:"label",children:"Total dpens"}),x.jsxs("span",{className:"value",children:[me(E).totalSpent.toLocaleString()," FCFA"]})]}),x.jsxs("div",{className:"stat-box",children:[x.jsx("span",{className:"label",children:"Articles achets"}),x.jsx("span",{className:"value",children:me(E).totalItems})]})]})]}),x.jsxs("button",{type:"button",className:"btn-history-link",onClick:()=>M("history"),children:[x.jsx("div",{className:"history-icon-box",children:x.jsx(Gc,{size:20})}),x.jsxs("div",{className:"history-text",children:[x.jsx("span",{className:"history-title",children:"Voir l'historique des factures"}),x.jsx("span",{className:"history-sub",children:"Consulter tous les reus de ce client"})]}),x.jsx(k1,{size:16})]})]}),E&&x.jsx("div",{className:"form-group mt-4",children:x.jsxs("button",{type:"button",className:"btn btn-danger-outline",onClick:Q,children:[x.jsx(n5,{size:16})," Supprimer ce client"]})})]}),x.jsx("div",{className:"modal-footer",children:x.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:E?"Enregistrer":"Ajouter le client"})})]}):x.jsxs("div",{className:"modal-history-wrapper",children:[x.jsx("div",{className:"modal-scroll-content",children:x.jsx("div",{className:"history-list",children:fe(E).length>0?fe(E).map(C=>x.jsxs("div",{className:"history-item",children:[x.jsxs("div",{className:"history-left",children:[x.jsxs("span",{className:"history-num",children:["Facture #",C.number]}),x.jsx("span",{className:"history-date",children:new Date(C.date).toLocaleDateString()})]}),x.jsxs("div",{className:"history-right",children:[x.jsxs("span",{className:"history-amount",children:[C.total.toLocaleString()," F"]}),x.jsxs("div",{className:"history-actions",children:[x.jsx("button",{onClick:()=>D(C),className:"btn-icon-tiny share",children:x.jsx(pT,{size:14})}),x.jsx("button",{onClick:()=>z(C),className:"btn-icon-tiny download",children:x.jsx(i5,{size:14})})]})]})]},C.id)):x.jsxs("div",{className:"empty-history",children:[x.jsx(Gc,{size:48,color:"#E5E7EB"}),x.jsx("p",{children:"Aucune facture trouve pour ce client."})]})})}),x.jsx("div",{className:"modal-footer",children:x.jsx("button",{type:"button",className:"btn btn-secondary w-full",onClick:()=>M("details"),children:"Retour"})})]})]})})]})}function hV(){const{settings:n,updateSettings:e,invoices:t,products:i,clients:s}=cc(),[o,u]=Ae.useState(!1),[c,f]=Ae.useState(!1),d=()=>{const b=JSON.stringify({invoices:t,products:i,clients:s,settings:n},null,2),j=new Blob([b],{type:"application/json"}),M=URL.createObjectURL(j),U=document.createElement("a");U.href=M,U.download=`heavens-bakes-backup-${new Date().toISOString().split("T")[0]}.json`,U.click(),URL.revokeObjectURL(M)},g=b=>{var U;const j=(U=b.target.files)==null?void 0:U[0];if(!j)return;const M=new FileReader;M.onload=V=>{try{const ee=JSON.parse(V.target.result);localStorage.setItem("heavens-bakes-data",JSON.stringify({products:ee.products||[],invoices:ee.invoices||[],clients:ee.clients||[],settings:ee.settings||n,cart:[],selectedClient:null})),window.location.reload()}catch{alert("Fichier invalide")}},M.readAsText(j)},w=()=>{confirm(" Cela supprimera toutes les donnes. tes-vous sr ?")&&(localStorage.removeItem("heavens-bakes-data"),window.location.reload())},E=(b,j)=>{e({[b]:j}),f(!0),setTimeout(()=>f(!1),1500)};return x.jsxs("div",{className:"page anim-fade",children:[x.jsxs("div",{className:"page-header",children:[x.jsxs("h1",{className:"page-title",children:[x.jsx(JO,{size:28})," Paramtres"]}),x.jsx("p",{className:"page-subtitle",children:"Configuration de l'application"})]}),x.jsxs("div",{className:"section",children:[x.jsxs("h3",{className:"section-title",children:[x.jsx(n9,{size:18})," Entreprise"]}),x.jsxs("div",{className:"card flex flex-col gap-12",children:[x.jsxs("div",{className:"param-field",children:[x.jsx("label",{className:"param-label",children:"Nom de l'entreprise"}),x.jsx("input",{className:"input",value:n.businessName,onChange:b=>E("businessName",b.target.value)})]}),x.jsxs("div",{className:"param-field",children:[x.jsx("label",{className:"param-label",children:"Slogan"}),x.jsx("input",{className:"input",value:n.tagline,onChange:b=>E("tagline",b.target.value)})]}),x.jsxs("div",{className:"param-field",children:[x.jsx("label",{className:"param-label",children:"Nom du propritaire"}),x.jsx("input",{className:"input",value:n.ownerName,onChange:b=>E("ownerName",b.target.value)})]})]})]}),x.jsxs("div",{className:"section",children:[x.jsxs("h3",{className:"section-title",children:[x.jsx(i9,{size:18})," Seuils"]}),x.jsxs("div",{className:"card flex flex-col gap-12",children:[x.jsxs("div",{className:"param-field",children:[x.jsx("label",{className:"param-label",children:"Seuil de fidlit (nombre d'achats)"}),x.jsx("input",{className:"input",type:"number",min:"1",value:n.loyaltyThreshold,onChange:b=>E("loyaltyThreshold",parseInt(b.target.value)||10)})]}),x.jsxs("div",{className:"param-field",children:[x.jsx("label",{className:"param-label",children:"Seuil d'alerte stock faible"}),x.jsx("input",{className:"input",type:"number",min:"0",value:n.lowStockThreshold,onChange:b=>E("lowStockThreshold",parseInt(b.target.value)||5)})]})]})]}),x.jsxs("div",{className:"section",children:[x.jsxs("h3",{className:"section-title",children:[x.jsx(r9,{size:18})," Donnes"]}),x.jsxs("div",{className:"card flex flex-col gap-12",children:[x.jsxs("div",{className:"param-data-stats",children:[x.jsxs("div",{className:"param-data-stat",children:[x.jsx("span",{className:"param-data-stat-value",children:i.length}),x.jsxs("span",{className:"param-data-stat-label",children:[x.jsx(t5,{size:12})," Produits"]})]}),x.jsxs("div",{className:"param-data-stat",children:[x.jsx("span",{className:"param-data-stat-value",children:t.length}),x.jsxs("span",{className:"param-data-stat-label",children:[x.jsx(Gc,{size:12})," Factures"]})]}),x.jsxs("div",{className:"param-data-stat",children:[x.jsx("span",{className:"param-data-stat-value",children:s.length}),x.jsxs("span",{className:"param-data-stat-label",children:[x.jsx(dT,{size:12})," Clients"]})]})]}),x.jsxs("button",{className:"btn btn-secondary w-full",onClick:d,children:[x.jsx(i5,{size:18})," Exporter les donnes (JSON)"]}),x.jsxs("label",{className:"btn btn-outline w-full",style:{cursor:"pointer"},children:[x.jsx(s9,{size:18})," Importer des donnes",x.jsx("input",{type:"file",accept:".json",onChange:g,style:{display:"none"}})]}),x.jsxs("button",{className:"btn btn-outline w-full",onClick:w,style:{color:"var(--danger)",borderColor:"var(--danger)"},children:[x.jsx(n5,{size:18})," Rinitialiser toutes les donnes"]})]})]}),x.jsxs("div",{className:"param-footer",children:[x.jsx("div",{className:"param-footer-logo",children:x.jsx("img",{src:"/logo.png",alt:"Logo",style:{height:32,width:"auto"}})}),x.jsx("p",{className:"fw-600",children:"Heaven's Bakes & Sips"}),x.jsx("p",{className:"text-xs text-muted",children:"Version 1.0.0"}),x.jsx("p",{className:"text-xs text-muted font-display",style:{fontStyle:"italic",marginTop:4},children:"Un nuage de douceur, une vague de fracheur."})]}),c&&x.jsxs("div",{className:"toast toast-success",children:[x.jsx(IconCheck,{size:16,color:"white"})," Paramtre enregistr"]})]})}function fV(){const{loading:n}=cc(),[e,t]=Ae.useState(null),[i,s]=Ae.useState(!1),[o,u]=Ae.useState(!1),[c,f]=Ae.useState("idle");Ae.useEffect(()=>{const w=b=>{b.preventDefault(),t(b),s(!0),u(!1)};window.addEventListener("beforeinstallprompt",w);const E=setTimeout(()=>{e||(s(!0),u(!0))},1e4);return()=>{window.removeEventListener("beforeinstallprompt",w),clearTimeout(E)}},[e]);const d=async()=>{f("installing");try{if(e){e.prompt();const{outcome:w}=await e.userChoice;if(w!=="accepted"){f("idle");return}}setTimeout(()=>{f("success"),setTimeout(()=>{s(!1),f("idle"),o||t(null)},2e3)},1800)}catch(w){console.error("Install error:",w),f("idle")}},g=()=>{s(!1)};return n?x.jsx(d9,{}):x.jsxs("div",{className:"app-shell anim-fade",children:[x.jsx("div",{className:"app-main",children:x.jsxs(SI,{children:[x.jsx(Bu,{path:"/",element:x.jsx(p9,{})}),x.jsx(Bu,{path:"/vente",element:x.jsx(m9,{})}),x.jsx(Bu,{path:"/factures",element:x.jsx(lV,{})}),x.jsx(Bu,{path:"/produits",element:x.jsx(uV,{})}),x.jsx(Bu,{path:"/clients",element:x.jsx(cV,{})}),x.jsx(Bu,{path:"/parametres",element:x.jsx(hV,{})}),x.jsx(Bu,{path:"*",element:x.jsx(AI,{to:"/",replace:!0})})]})}),x.jsx(h9,{}),x.jsx(f9,{}),i&&x.jsxs("div",{className:`install-floating-card anim-slide-up ${c}`,children:[x.jsxs("div",{className:"install-card-content",children:[x.jsx("div",{className:"install-card-icon",children:c==="success"?x.jsx("div",{className:"success-check-anim",children:x.jsxs("svg",{viewBox:"0 0 52 52",children:[x.jsx("circle",{cx:"26",cy:"26",r:"25",fill:"none"}),x.jsx("path",{fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}):x.jsx("img",{src:"/logo.png",alt:"App Icon"})}),x.jsxs("div",{className:"install-card-text",children:[x.jsxs("h4",{children:[c==="idle"&&"Installer l'application",c==="installing"&&(o?"Prparation...":"Installation en cours..."),c==="success"&&(o?"Prt  installer !":"Install avec succs !")]}),x.jsxs("p",{children:[c==="idle"&&(o?"Prt pour votre cran d'accueil":"Accs hors ligne & rapide"),c==="installing"&&"Veuillez patienter...",c==="success"&&(o?"Cliquez sur 'Ajouter' dans votre menu":"Retrouvez-nous sur votre cran d'accueil")]})]}),c==="idle"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"btn-card-install",onClick:d,children:"Installer"}),x.jsx("button",{className:"btn-card-close",onClick:g,children:x.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c==="installing"&&x.jsx("div",{className:"install-loading-spinner"})]}),c==="installing"&&x.jsx("div",{className:"install-progress-bar-container",children:x.jsx("div",{className:"install-progress-bar-fill"})})]})]})}function dV(){return x.jsx(QO,{children:x.jsx(YI,{children:x.jsx(fV,{})})})}TN.createRoot(document.getElementById("root")).render(x.jsx(vN.StrictMode,{children:x.jsx(dV,{})}));export{Jn as _,mV as c,h3 as g};
